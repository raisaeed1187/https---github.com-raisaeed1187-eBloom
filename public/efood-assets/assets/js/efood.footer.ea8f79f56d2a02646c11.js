/*! chunkhash: ea8f79f56d2a02646c11 */
var efoodLib = (function (e) {
    function t(n) {
        if (r[n]) return r[n].exports;
        var a = (r[n] = { i: n, l: !1, exports: {} });
        return e[n].call(a.exports, a, a.exports, t), (a.l = !0), a.exports;
    }
    var r = {};
    return (
        (t.m = e),
        (t.c = r),
        (t.d = function (e, r, n) {
            t.o(e, r) ||
                Object.defineProperty(e, r, {
                    configurable: !1,
                    enumerable: !0,
                    get: n,
                });
        }),
        (t.n = function (e) {
            var r =
                e && e.__esModule
                    ? function () {
                          return e.default;
                      }
                    : function () {
                          return e;
                      };
            return t.d(r, "a", r), r;
        }),
        (t.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t);
        }),
        (t.p = ""),
        t((t.s = 412))
    );
})([
    ,
    function (e, t) {
        e.exports = React;
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(442);
        t.default = {
            Bus: n.a,
            AUTHENTICATE: "authenticate",
            REFRESH: "refresh",
            USER_ADDRESSES: "user_addresses",
            SET_FILTER_CATEGORY: "set_filter_category",
            SET_COOKIE: "set_cookie",
            CART_MOUNTED: "cart_mounted",
            DYNAMIC_COMPONENT_FETCH_DATA:
                "[DynamicComponentLoader] Refetch data",
            MENU_HIDE_OFFERS: "menu_hide_offers",
            MENU_SHOW_OFFERS: "menu_show_offers",
            RUBY_COUPON_OPTION_CLICKED: "[RubyCouponOption] Coupon clicked",
            JOKER_ACTIVE: "joker_active",
            JOKER_SETTLED: "joker_settled",
        };
    },
    ,
    ,
    ,
    function (e, t, r) {
        "use strict";
        r.d(t, "m", function () {
            return n;
        }),
            r.d(t, "c", function () {
                return a;
            }),
            r.d(t, "k", function () {
                return i;
            }),
            r.d(t, "f", function () {
                return o;
            }),
            r.d(t, "a", function () {
                return s;
            }),
            r.d(t, "b", function () {
                return l;
            }),
            r.d(t, "l", function () {
                return c;
            }),
            r.d(t, "e", function () {
                return u;
            }),
            r.d(t, "d", function () {
                return d;
            }),
            r.d(t, "o", function () {
                return p;
            }),
            r.d(t, "i", function () {
                return h;
            }),
            r.d(t, "j", function () {
                return f;
            }),
            r.d(t, "n", function () {
                return m;
            }),
            r.d(t, "h", function () {
                return y;
            }),
            r.d(t, "g", function () {
                return g;
            });
        var n = "top",
            a = "bottom",
            i = "right",
            o = "left",
            s = "auto",
            l = [n, a, i, o],
            c = "start",
            u = "end",
            d = "clippingParents",
            p = "viewport",
            h = "popper",
            f = "reference",
            m = l.reduce(function (e, t) {
                return e.concat([t + "-" + c, t + "-" + u]);
            }, []),
            y = [].concat(l, [s]).reduce(function (e, t) {
                return e.concat([t, t + "-" + c, t + "-" + u]);
            }, []),
            g = [
                "beforeRead",
                "read",
                "afterRead",
                "beforeMain",
                "main",
                "afterMain",
                "beforeWrite",
                "write",
                "afterWrite",
            ];
    },
    function (e, t) {
        function r(e) {
            "@babel/helpers - typeof";
            return (r =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                    ? function (e) {
                          return typeof e;
                      }
                    : function (e) {
                          return e &&
                              "function" == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? "symbol"
                              : typeof e;
                      })(e);
        }
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e, t) {
            dataLayer.push({
                event: "promoView",
                eventLabel: t,
                ecommerce: {
                    currencyCode: app.ga_currency,
                    promoView: { promotions: e },
                },
            });
        }
        function o(e, t) {
            dataLayer.push({
                event: "promotionClick",
                eventLabel: t,
                ecommerce: { promoClick: { promotions: e } },
            });
        }
        function s(e, t) {
            function a(e) {
                var t,
                    r = n(e);
                try {
                    for (r.s(); !(t = r.n()).done; ) {
                        var a = t.value;
                        o.hasOwnProperty(a) && (s[a] = o[a]);
                    }
                } catch (e) {
                    r.e(e);
                } finally {
                    r.f();
                }
            }
            function i(e) {
                for (var t in e)
                    if (o.hasOwnProperty(t)) {
                        var r = e[t];
                        s[r] = o[t];
                    }
            }
            for (
                var o = dataLayer[0],
                    s = {},
                    l = arguments.length,
                    c = new Array(l > 2 ? l - 2 : 0),
                    u = 2;
                u < l;
                u++
            )
                c[u - 2] = arguments[u];
            for (var d = 0, p = c; d < p.length; d++) {
                var h = p[d];
                Array.isArray(h) ? a(h) : "object" === r(h) && i(h);
            }
            return Object.assign({ event: e }, t, s);
        }
        window.innerWidth < 992 &&
            document.querySelector(".address-form-component-geolocation-btn") &&
            document
                .querySelector(".address-form-component-geolocation-btn")
                .addEventListener("click", function () {
                    dataLayer.push({
                        event: "geolocation_button.clicked",
                        userId: dataLayer[0].userId,
                        pageType: dataLayer[0].pageType,
                    });
                }),
            window.app &&
                "homepage" == window.app.pageController &&
                (function () {
                    if (window.innerWidth > 992) {
                        var e = [],
                            t = document.querySelectorAll(
                                ".homepage-fixed-offer"
                            );
                        Array.prototype.slice.call(t).forEach(function (t, r) {
                            var n = {
                                id: t.getAttribute("data-restaurant_id"),
                                name: "Homepage banner fixed offers",
                                creative: "homepage_fixed_banners",
                                position: r + 1,
                            };
                            e.push(n),
                                t.addEventListener("click", function () {
                                    o([n]);
                                });
                        }),
                            i(e, "homepage_banner_fixed_offers");
                    }
                })(),
            window.app &&
                "cuisine-landing" == window.app.pageController &&
                (function () {
                    if (document.querySelectorAll(".affiliates-list")) {
                        var e = document.querySelectorAll(
                                ".affiliates-list > .affiliates-brand"
                            ),
                            t = [];
                        Array.prototype.slice.call(e).forEach(function (e, r) {
                            var n = e.querySelector("img").src.split("/"),
                                a = {
                                    id: n[n.length - 2],
                                    name: "Cuisine page affiliates brands",
                                    creative: "cuisine_affiliates_list",
                                    position: r + 1,
                                };
                            t.push(a),
                                e.addEventListener("click", function () {
                                    o([a]);
                                });
                        }),
                            i(t, "cuisine_page_affiliates_brands");
                    }
                })(),
            window.app &&
                "page-qlfp-list" == window.app.pageController &&
                (function () {
                    var e = document,
                        t = e.querySelectorAll(
                            ".shops-listings-shops-list-item"
                        ),
                        r = [];
                    if (t) {
                        var n =
                                e.querySelector(".qflp-page-title")
                                    .textContent || "",
                            a = "quick_filter_landing_page_" + n;
                        Array.from(t).forEach(function (e, t) {
                            var a = {
                                id: e.getAttribute("data-restaurant_id"),
                                name: "Quick Filters banner page " + n,
                                creative: "quick_filter_landing_page",
                                position: t + 1,
                            };
                            r.push(a),
                                e.addEventListener("click", function () {
                                    o([a]);
                                });
                        }),
                            i(r, a);
                    }
                })(),
            ((window.app && "shop-menu" === window.app.pageController) ||
                (window.app && "menu" === window.app.pageController)) &&
                document.addEventListener("DOMContentLoaded", function (e) {
                    Array.prototype.slice
                        .call(document.querySelectorAll(".duplicate-order"))
                        .forEach(function (e, t) {
                            var r = {
                                payment_method: e.getAttribute(
                                    "data-payment_method"
                                ),
                                restaurant_id: e.getAttribute(
                                    "data-restaurant_id"
                                ),
                                is_pickup: e.getAttribute("data-is_pickup"),
                                is_preorder: e.getAttribute("data-is_preorder"),
                                order_id: e.getAttribute("data-order_id"),
                                is_foodatwork: !1,
                            };
                            dataLayer.push({
                                event: "order_placed_message.shown",
                                locationAddress: dataLayer[0].userAddress,
                                locationLat: dataLayer[0].userAddressLat,
                                locationLon: dataLayer[0].userAddressLon,
                                locationArea: dataLayer[0].userAddressZip,
                                locationCity: dataLayer[0].userAddressCity,
                                locationCountry:
                                    dataLayer[0].userAddressCountry,
                                chainName: app.shop.chainData.title || "",
                                orderPreorder: r.is_preorder,
                                foodAtWork: r.is_foodatwork,
                                previousTransactionId: r.order_id,
                                chainId: app.shop.chain_id,
                                orderPickup: r.is_pickup,
                                shopId: r.restaurant_id,
                            });
                        });
                });
        var l = {
            sendAccepted: function (e) {
                dataLayer.push({
                    event: "joker_lightbox.accepted",
                    locationAddress: dataLayer[0].userAddress,
                    locationCity: dataLayer[0].userAddressCity,
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    jokerTimeLeft: e.remaining_time,
                    userId: dataLayer[0].userId,
                    locationArea: dataLayer[0].userAddressZip,
                });
            },
            sendRejected: function (e) {
                dataLayer.push({
                    event: "joker_lightbox.rejected",
                    locationAddress: dataLayer[0].userAddress,
                    locationCity: dataLayer[0].userAddressCity,
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    jokerTimeLeft: e ? e.remaining_time : 0,
                    userId: dataLayer[0].userId,
                    locationArea: dataLayer[0].userAddressZip,
                });
            },
            sendExpired: function () {
                var e, t;
                window.ComponentCart &&
                    ((e = window.ComponentCart.state.joker),
                    (t = window.ComponentCart.state.shop)),
                    dataLayer.push({
                        event: "joker.timeout",
                        jokerTimeLeft: e ? e.remaining_time : 0,
                        shopId: t ? t.information.id : "",
                        pageType: dataLayer[0].pageType,
                        locationCountry: dataLayer[0].userAddressCountry,
                        locationArea: dataLayer[0].userAddressZip,
                        locationLon: dataLayer[0].userAddressLon,
                        locationLat: dataLayer[0].userAddressLat,
                        locationAddress: dataLayer[0].userAddress,
                        locationCity: dataLayer[0].userAddressCity,
                        userId: dataLayer[0].userId,
                    });
            },
            sendTierReached: function (e) {
                dataLayer.push({
                    event: "joker_tier.reached",
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationArea: dataLayer[0].userAddressZip,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    locationCity: dataLayer[0].userAddressCity,
                    userId: dataLayer[0].userId,
                    jokerTimeLeft: e.remaining_time,
                    tierNumber: e.tiers.findIndex(function (t) {
                        return t.threshold === e.tier.threshold;
                    }),
                    shopId: e.offers[0].restaurant.id,
                });
            },
            sendCheckoutLoaded: function (e) {
                dataLayer.push({
                    event: "joker_checkout.loaded",
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationArea: dataLayer[0].userAddressZip,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    locationAddress: dataLayer[0].userAddress,
                    locationCity: dataLayer[0].userAddressCity,
                    userId: dataLayer[0].userId,
                    jokerTimeLeft: e.remaining_time,
                    shopId: e.offers[0].restaurant.id,
                    shopCuisine:
                        window.ComponentCart.state.shop.information
                            .basic_cuisine,
                });
            },
            sendAbandoned: function (e) {
                dataLayer.push({
                    event: "joker_shop_abandon.completed",
                    jokerTimeLeft:
                        window.ComponentCart.state.joker.remaining_time,
                    shopId: e.restaurant.id,
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationArea: dataLayer[0].userAddressZip,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    locationAddress: dataLayer[0].userAddress,
                    locationCity: dataLayer[0].userAddressCity,
                    userId: dataLayer[0].userId,
                    pageType: dataLayer[0].pageType,
                });
            },
            sendAbandonStarted: function (e) {
                dataLayer.push({
                    event: "joker_shop_abandon.started",
                    jokerTimeLeft:
                        window.ComponentCart.state.joker.remaining_time,
                    shopId: e.offers[0].restaurant.id,
                    locationCountry: dataLayer[0].userAddressCountry,
                    locationArea: dataLayer[0].userAddressZip,
                    locationLon: dataLayer[0].userAddressLon,
                    locationLat: dataLayer[0].userAddressLat,
                    locationAddress: dataLayer[0].userAddress,
                    locationCity: dataLayer[0].userAddressCity,
                    userId: dataLayer[0].userId,
                    pageType: dataLayer[0].pageType,
                });
            },
        };
        e.exports = {
            shortcutsOnClickEvent: function () {
                var e = document.querySelector("#smart-assistant-reorder-list");
                if (e)
                    for (
                        var t = function (t) {
                                e.children[t].addEventListener(
                                    "click",
                                    function () {
                                        o([
                                            {
                                                id: "Shortcut",
                                                name: "Shortcut",
                                                creative: e.children[
                                                    t
                                                ].querySelector("span")
                                                    .innerText,
                                                position: t + 1,
                                            },
                                        ]);
                                    },
                                    !1
                                );
                            },
                            r = 0;
                        r < e.children.length;
                        r++
                    )
                        t(r);
            },
            jokerGA: l,
            addToCart: function (e, t, r, n, a, i, o) {
                var s = dataLayer[0],
                    l = {
                        event: "add_cart.clicked",
                        locationCountry: s.userAddressCountry,
                        locationCity: s.userAddressCity,
                        locationAddress: s.userAddress,
                        locationArea: s.userAddressZip,
                        locationLat: s.userAddressLat,
                        locationLon: s.userAddressLon,
                        verticalType: app.verticalType,
                        productUnitSalePrice: i,
                        productQuantity: a,
                        productName: r,
                        productUnitPrice: i,
                        productSku: n,
                        shopName: t,
                        productCategory: "",
                        currencyCode: app.ga_currency,
                        productVariant: "",
                        shopId: e,
                        cartInteractionType: o,
                    };
                dataLayer.push(l);
            },
            removeFromCart: function (e, t, r, n, a, i, o) {
                var s = dataLayer[0],
                    l = {
                        event: "remove_cart.clicked",
                        locationCountry: s.userAddressCountry,
                        locationCity: s.userAddressCity,
                        locationAddress: s.userAddress,
                        locationArea: s.userAddressZip,
                        locationLat: s.userAddressLat,
                        locationLon: s.userAddressLon,
                        verticalType: app.verticalType,
                        productUnitSalePrice: i,
                        productQuantity: a,
                        productName: r,
                        productUnitPrice: i,
                        productSku: n,
                        shopName: t,
                        productCategory: "",
                        currencyCode: app.ga_currency,
                        productVariant: "",
                        shopId: e,
                        cartInteractionType: o,
                    };
                dataLayer.push(l);
            },
            productItemMessageShown: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "product_item_message.shown",
                        locationCountry: a.userAddressCountry,
                        locationCity: a.userAddressCity,
                        locationAddress: a.userAddress,
                        locationArea: a.userAddressZip,
                        locationLat: a.userAddressLat,
                        locationLon: a.userAddressLon,
                        verticalType: app.verticalType,
                        shopId: e,
                        shopName: t,
                        cartInteractionType: r,
                        messageCode: n,
                    };
                dataLayer.push(i);
            },
            orderDeliveryMethodSelected: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "order_delivery_method.selected",
                        pageType: a.pageType,
                        locationCountry: a.userAddressCountry,
                        locationCity: a.userAddressCity,
                        locationAddress: a.userAddress,
                        locationArea: a.userAddressZip,
                        locationLat: a.userAddressLat,
                        locationLon: a.userAddressLon,
                        verticalType: app.verticalType,
                        currencyCode: t,
                        shopId: e,
                        cartValue: r,
                        orderDeliveryMethod: n,
                    };
                dataLayer.push(i);
            },
            deliverySlotChanged: function (e, t, r, n, a) {
                var i = dataLayer[0],
                    o = {
                        event: "delivery_slot.changed",
                        pageType: i.pageType,
                        locationCountry: i.userAddressCountry,
                        locationCity: i.userAddressCity,
                        locationAddress: i.userAddress,
                        locationArea: i.userAddressZip,
                        locationLat: i.userAddressLat,
                        locationLon: i.userAddressLon,
                        currencyCode: t,
                        shopId: e,
                        cartValue: r,
                        orderDeliveryMethod: n,
                        orderDeliveryMethodSlot: a,
                    };
                dataLayer.push(o);
            },
            checkoutLoaded: function (e, t, r, n, a) {
                var i = dataLayer[0],
                    o = {
                        event: "checkout.loaded",
                        locationCountry: i.userAddressCountry,
                        locationCity: i.userAddressCity,
                        locationAddress: i.userAddress,
                        locationArea: i.userAddressZip,
                        locationLat: i.userAddressLat,
                        locationLon: i.userAddressLon,
                        verticalType: app.verticalType,
                        shopId: e,
                        currencyCode: t,
                        cartValue: r,
                        orderDeliveryMethod: n,
                    };
                a && (o.orderDeliveryMethodSlot = a), dataLayer.push(o);
            },
            checkoutClicked: function (e, t, r, n, a) {
                var i = dataLayer[0],
                    o = {
                        event: "checkout.clicked",
                        locationCountry: i.userAddressCountry,
                        locationCity: i.userAddressCity,
                        locationAddress: i.userAddress,
                        locationArea: i.userAddressZip,
                        locationLat: i.userAddressLat,
                        locationLon: i.userAddressLon,
                        verticalType: app.verticalType,
                        shopId: e,
                        cartValue: r,
                        currencyCode: t,
                        orderDeliveryMethod: n,
                    };
                a && (o.orderDeliveryMethodSlot = a), dataLayer.push(o);
            },
            liveOrderTrackingLoaded: function (e, t, r, n, a, i, o, s) {
                var l = dataLayer[0],
                    c = {
                        event: "live_order_tracking.loaded",
                        locationCountry: l.userAddressCountry,
                        locationCity: l.userAddressCity,
                        locationAddress: l.userAddress,
                        locationArea: l.userAddressZip,
                        locationLat: l.userAddressLat,
                        locationLon: l.userAddressLon,
                        deliveryState: e,
                        delayedState: t,
                        transactionId: r,
                        userId: n,
                        userTimestamp: a,
                        shopId: i,
                        shopName: o,
                        verticalType: s,
                    };
                dataLayer.push(c);
            },
            liveOrderTrackingUpdated: function (e, t, r, n, a, i, o, s) {
                var l = dataLayer[0],
                    c = {
                        event: "live_order_tracking.updated",
                        locationCountry: l.userAddressCountry,
                        locationCity: l.userAddressCity,
                        locationAddress: l.userAddress,
                        locationArea: l.userAddressZip,
                        locationLat: l.userAddressLat,
                        locationLon: l.userAddressLon,
                        deliveryState: e,
                        delayedState: t,
                        transactionId: r,
                        userId: n,
                        userTimestamp: a,
                        shopId: i,
                        shopName: o,
                        verticalType: s,
                    };
                dataLayer.push(c);
            },
            scaStarted: function (e, t, r) {
                var n = dataLayer[0],
                    a = {
                        event: "sc_authentication.started",
                        locationCountry: n.userAddressCountry,
                        locationCity: n.userAddressCity,
                        locationAddress: n.userAddress,
                        locationArea: n.userAddressZip,
                        locationLat: n.userAddressLat,
                        locationLon: n.userAddressLon,
                        userId: e,
                        shopId: t,
                        verticalType: r,
                    };
                dataLayer.push(a);
            },
            scaSucceeded: function (e, t, r) {
                var n = dataLayer[0],
                    a = {
                        event: "sc_authentication.succeeded",
                        locationCountry: n.userAddressCountry,
                        locationCity: n.userAddressCity,
                        locationAddress: n.userAddress,
                        locationArea: n.userAddressZip,
                        locationLat: n.userAddressLat,
                        locationLon: n.userAddressLon,
                        userId: e,
                        shopId: t,
                        verticalType: r,
                    };
                dataLayer.push(a);
            },
            scaFailed: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "sc_authentication.failed",
                        locationCountry: a.userAddressCountry,
                        locationCity: a.userAddressCity,
                        locationAddress: a.userAddress,
                        locationArea: a.userAddressZip,
                        locationLat: a.userAddressLat,
                        locationLon: a.userAddressLon,
                        userId: e,
                        shopId: t,
                        verticalType: r,
                        scaFailedReason: n,
                    };
                dataLayer.push(i);
            },
            scaCancelled: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "sc_authentication.cancelled",
                        locationCountry: a.userAddressCountry,
                        locationCity: a.userAddressCity,
                        locationAddress: a.userAddress,
                        locationArea: a.userAddressZip,
                        locationLat: a.userAddressLat,
                        locationLon: a.userAddressLon,
                        userId: e,
                        shopId: t,
                        verticalType: r,
                        scaFailedReason: n,
                    };
                dataLayer.push(i);
            },
            swimlanesLoaded: function (e) {
                var t = dataLayer[0],
                    r = {
                        event: "swimlanes_loaded",
                        swimlaneTotal: e.swimlaneTotal,
                        swimlaneRequestId: e.swimlaneRequestId,
                        swimlaneStrategyList: e.strategiesList,
                        swimlaneStrategyListNames: e.swimlaneStrategyListNames,
                        pageType: "shop_list",
                        swimlaneStrategyListLoaded: e.strategiesListLoaded,
                        vendorsIds: e.vendorIds,
                        swimlaneLoadErrors: null,
                        lastVendorSeen: window.screen.width <= "768" ? 2 : 4,
                        userId: t.userId,
                        locationArea: t.userAddressZip,
                        locationCity: t.userAddressCity,
                        locationLat: t.userAddressLat,
                        locationLon: t.userAddressLon,
                        locationCountry: t.userAddressCountry,
                        locationAddress: t.userAddress,
                    };
                dataLayer.push(r);
            },
            swimlanesLoadedWithErrors: function () {
                var e = (window.dataLayer && window.dataLayer[0]) || {};
                window.dataLayer.push({
                    event: "swimlanes_loaded",
                    swimlaneTotal: null,
                    swimlaneRequestId: null,
                    swimlaneStrategyList: null,
                    swimlaneStrategyListNames: null,
                    pageType: "shop_list",
                    swimlaneStrategyListLoaded: null,
                    vendorsIds: null,
                    swimlaneLoadErrors: "call_not_successful",
                    lastVendorSeen: window.screen.width <= "768" ? 2 : 4,
                    userId: e.userId,
                    locationArea: e.userAddressZip,
                    locationCity: e.userAddressCity,
                    locationLat: e.userAddressLat,
                    locationLon: e.userAddressLon,
                    locationCountry: e.userAddressCountry,
                    locationAddress: e.userAddress,
                });
            },
            swimlaneSwiped: function (e, t, r) {
                var n = (window.dataLayer && window.dataLayer[0]) || {};
                window.dataLayer.push({
                    event: "swimlane_swiped",
                    vendorClickOrigin: "swimlane",
                    swimlaneRequestId: t.tracking_swimlanes_request_id,
                    swimlaneStrategyList: r.strategiesList,
                    swimlaneStrategyListNames: r.swimlaneStrategyListNames,
                    swimlaneStrategy: t.tracking_swimlanes_strategy,
                    lastVendorSeen: e.pop().id,
                    pageType: "shop_list",
                    swimlaneStrategyListLoaded: r.strategiesListLoaded,
                    vendorsIds: e
                        .map(function (e) {
                            return e.id;
                        })
                        .sort()
                        .join(","),
                    userId: n.userId,
                    locationArea: n.userAddressZip,
                    locationCity: n.userAddressCity,
                    locationLat: n.userAddressLat,
                    locationLon: n.userAddressLon,
                    locationCountry: n.userAddressCountry,
                    locationAddress: n.userAddress,
                });
            },
            swimlanesCategoriesLoaded: function (e, t, r) {
                var n = dataLayer[0],
                    a = {
                        event: "swimlanes_categories.loaded",
                        swimlaneCategoriesTotal: e,
                        pageType: n.pageType,
                        categoriesNames: t,
                        lastCategorySeen: r,
                        userId: n.userId,
                        locationAddress: n.userAddress,
                        locationLat: n.userAddressLat,
                        locationLon: n.userAddressLon,
                        locationCity: n.userAddressCity,
                        locationArea: n.userAddressZip,
                        locationCountry: n.userAddressCountry,
                    };
                dataLayer.push(a);
            },
            swimlaneCategoriesSwiped: function (e, t) {
                var r = dataLayer[0],
                    n = {
                        event: "swimlanes_categories.swiped",
                        vendorClickOrigin: "swimlane_categories",
                        lastCategorySeen: t,
                        pageType: r.pageType,
                        categoriesNames: e,
                        userId: r.userId,
                        locationAddress: r.userAddress,
                        locationLat: r.userAddressLat,
                        locationLon: r.userAddressLon,
                        locationCity: r.userAddressCity,
                        locationArea: r.userAddressZip,
                        locationCountry: r.userAddressCountry,
                    };
                dataLayer.push(n);
            },
            shopClicked: function (e, t, r, n) {
                var a = (window.dataLayer && window.dataLayer[0]) || {},
                    i =
                        e.badges && e.badges.length
                            ? e.badges.reduce(function (t, r, n) {
                                  return (
                                      t +
                                      r.title +
                                      (n + 1 !== e.badges.length ? "," : "")
                                  );
                              }, "")
                            : "";
                window.dataLayer.push({
                    event: "shop.clicked",
                    locationAddress: a.userAddress,
                    locationLat: a.userAddressLat,
                    locationLon: a.userAddressLon,
                    locationCity: a.userAddressCity,
                    locationArea: a.userAddressZip,
                    locationCountry: a.userAddressCountry,
                    shopId: e.id,
                    shopSponsoring: e.is_promoted,
                    shopRank: Number.parseFloat(e.average_rating).toPrecision(
                        2
                    ),
                    verticalType:
                        -1 !== e.tags.indexOf("supermarket")
                            ? "supermarket"
                            : "food",
                    shopDeliveryFee: e.delivery_cost,
                    badgeName: i,
                    userId: a.userId,
                    shopOpen: e.is_open,
                    vendorClickOrigin: "swimlane",
                    swimlaneRequestId: t,
                    swimlaneStrategyList: n.strategiesList,
                    swimlaneStrategyListNames: n.swimlaneStrategyListNames,
                    swimlaneStrategy: r,
                    swimlaneTotal: n.swimlaneTotal,
                });
            },
            swimlaneExpanded: function (e, t, r) {
                var n = (window.dataLayer && window.dataLayer[0]) || {};
                window.dataLayer.push({
                    event: "swimlane.expanded",
                    vendorClickOrigin: "swimlane",
                    swimlaneRequestId: t.tracking_swimlanes_request_id,
                    swimlaneStrategyList: r.strategiesList,
                    swimlaneStrategyListNames: r.swimlaneStrategyListNames,
                    swimlaneStrategy: t.tracking_swimlanes_strategy,
                    lastVendorSeen: e.pop().id,
                    pageType: "shop_list",
                    swimlaneStrategyListLoaded: r.strategiesListLoaded,
                    vendorsIds: e
                        .map(function (e) {
                            return e.id;
                        })
                        .sort()
                        .join(","),
                    userId: n.userId,
                    locationArea: n.userAddressZip,
                    locationCity: n.userAddressCity,
                    locationLat: n.userAddressLat,
                    locationLon: n.userAddressLon,
                    locationCountry: n.userAddressCountry,
                    locationAddress: n.userAddress,
                });
            },
            searchBarClicked: function (e) {
                var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : null,
                    r =
                        arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : null,
                    n = dataLayer[0],
                    a = {
                        event: "search_bar.clicked",
                        userId: n.userId,
                        pageType: n.pageType,
                        pageUrlPath: e,
                        locationAddress: n.userAddress,
                        locationLat: n.userAddressLat,
                        locationLon: n.userAddressLon,
                        locationCity: n.userAddressCity,
                        locationArea: n.userAddressZip,
                        locationCountry: n.userAddressCountry,
                    };
                null !== t && (a.shopId = t),
                    null !== r && (a.verticalType = r),
                    dataLayer.push(a);
            },
            searchCleared: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "search.cleared",
                        pageType: a.pageType,
                        userId: a.userId,
                        searchTerm: e,
                        pageUrlPath: t,
                    };
                null !== r && (i.shopId = r),
                    null !== n && (i.verticalType = n),
                    dataLayer.push(i);
            },
            searchErrorShown: function (e, t, r, n) {
                var a = dataLayer[0],
                    i = {
                        event: "search_error.shown",
                        userId: a.userId,
                        pageType: a.pageType,
                        searchTerm: e,
                        pageUrlPath: t,
                        errorMessage: "no suggestions",
                        locationAddress: a.userAddress,
                        locationLat: a.userAddressLat,
                        locationLon: a.userAddressLon,
                        locationCity: a.userAddressCity,
                        locationArea: a.userAddressZip,
                        locationCountry: a.userAddressCountry,
                    };
                null !== r && (i.shopId = r),
                    null !== n && (i.verticalType = n),
                    dataLayer.push(i);
            },
            promoView: function (e, t) {
                var r = {
                    event: "promoView",
                    eventLabel: t,
                    ecommerce: {
                        currencyCode: app.ga_currency,
                        promoView: { promotions: e },
                    },
                };
                dataLayer.push(r);
            },
            promotionClick: function (e, t) {
                var r = {
                    event: "promotionClick",
                    eventLabel: t,
                    ecommerce: { promoClick: { promotions: e } },
                };
                dataLayer.push(r);
            },
            consentLoaded: function (e, t) {
                var r = s(
                    "consent.loaded",
                    { verticalType: t, shopId: e },
                    ["userId", "pageType"],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(r);
            },
            consentSubmitted: function (e, t, r) {
                var n = s(
                    "consent.submitted",
                    { verticalType: r, shopId: t, consentResponse: e },
                    ["userId", "pageType"],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(n);
            },
            shopListLoaded: function (e, t, r, n, a, i, o, l, c) {
                var u = s(
                    "shop_list.loaded",
                    {
                        shopCategorySelectedQuantity: e,
                        shopFilteringSelected: t,
                        shopSortingSelected: r,
                        shopQuantityShown: n,
                        shopQuantityTotal: a,
                        shopNotServe: i,
                        shopListOutline: o,
                        shopListMessageShown: l,
                        shopTypeStrategyListLoaded: c,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(u);
            },
            shopListUpdated: function (e, t, r, n, a, i, o, l, c, u) {
                var d = s(
                    "shop_list.updated",
                    {
                        shopCategorySelectedQuantity: e,
                        shopFilteringSelected: r,
                        shopSortingSelected: n,
                        shopQuantityShown: a,
                        shopQuantityTotal: i,
                        shopListOutline: o,
                        shopListMessageShown: l,
                        shopListTrigger: c,
                        shopTypeStrategyListLoaded: u,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(d);
            },
            categoriesListLoaded: function (e, t, r, n, a, i) {
                var o = s(
                    "categories_list.loaded",
                    {
                        verticalType: e,
                        shopDeliveryFee: t,
                        shopOpen: r,
                        categoriesCount: n,
                        shopName: a,
                        shopId: i,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                        userId: "userId",
                        userLoggedIn: "isLoggedIn",
                        pageUrlPath: "pageUrlPath",
                        pageType: "pageType",
                    }
                );
                dataLayer.push(o);
            },
            categoriesListItemClicked: function (e, t, r, n, a, i, o) {
                var l = s(
                    "categories_explore.clicked",
                    {
                        verticalType: e,
                        shopDeliveryFee: t,
                        shopOpen: r,
                        selectedCategoryName: n,
                        selectedCategoryPosition: a,
                        shopName: i,
                        shopId: o,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                        userId: "userId",
                        userLoggedIn: "isLoggedIn",
                        pageUrlPath: "pageUrlPath",
                        pageType: "pageType",
                    }
                );
                dataLayer.push(l);
            },
            categoriesListItemLoaded: function (e, t, r, n, a, i, o) {
                var l = s(
                    "categories_explore.loaded",
                    {
                        verticalType: e,
                        shopDeliveryFee: t,
                        shopOpen: r,
                        selectedCategoryName: n,
                        selectedCategoryPosition: a,
                        shopName: i,
                        shopId: o,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                        userId: "userId",
                        userLoggedIn: "isLoggedIn",
                        pageUrlPath: "pageUrlPath",
                        pageType: "pageType",
                    }
                );
                dataLayer.push(l);
            },
            shopDetailsLoyaltyLoaded: function (e, t, r, n) {
                var a = s(
                    "shop_details_loyalty.loaded",
                    {
                        loyaltyProgress: e,
                        loyaltyValue: t,
                        shopId: r,
                        verticalType: n,
                    },
                    [],
                    {
                        userId: "userId",
                        pageType: "pageType",
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(a);
            },
            shopDetailsLoyaltyClicked: function (e, t) {
                var r = s(
                    "shop_details_loyalty.clicked",
                    { shopId: e, verticalType: t },
                    [],
                    {
                        userId: "userId",
                        pageType: "pageType",
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(r);
            },
            loyaltyCouponSelected: function (e, t) {
                var r = s(
                    "loyalty_coupon.selected",
                    { shopId: e, verticalType: t },
                    [],
                    {
                        userId: "userId",
                        pageType: "pageType",
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(r);
            },
            loyaltyCouponRemoved: function (e, t) {
                var r = s(
                    "loyalty_coupon.removed",
                    { shopId: e, verticalType: t },
                    [],
                    {
                        userId: "userId",
                        pageType: "pageType",
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(r);
            },
            loyaltyPromoLoaded: function (e, t) {
                var r = s(
                    "loyalty_promo.loaded",
                    { shopId: e, verticalType: t },
                    [],
                    {
                        userId: "userId",
                        pageType: "pageType",
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(r);
            },
            shopClickedSearch: function (
                e,
                t,
                r,
                n,
                a,
                i,
                o,
                l,
                c,
                u,
                d,
                p,
                h,
                f,
                m,
                y
            ) {
                var g = s(
                    "shop.clicked",
                    {
                        shopId: e,
                        searchTerm: t,
                        vendorClickOrigin: r,
                        shopSponsoring: n,
                        shopRank: a,
                        shopListingType: i,
                        verticalType: o,
                        shopDeliveryFee: l,
                        badgeName: c,
                        userId: u,
                        shopOpen: d,
                        swimlaneRequestId: p,
                        swimlaneStrategyList: h,
                        swimlaneStrategyListNames: f,
                        swimlaneStrategy: m,
                        swimlaneTotal: y,
                    },
                    [],
                    {
                        userAddress: "locationAddress",
                        userAddressLat: "locationLat",
                        userAddressLon: "locationLon",
                        userAddressCity: "locationCity",
                        userAddressZip: "locationArea",
                        userAddressCountry: "locationCountry",
                    }
                );
                dataLayer.push(g);
            },
        };
    },
    ,
    ,
    function (e, t, r) {
        "use strict";
        function n(e) {
            return "[object Array]" === d.call(e);
        }
        function a(e) {
            return void 0 === e;
        }
        function i(e) {
            return null !== e && "object" == typeof e;
        }
        function o(e) {
            if ("[object Object]" !== d.call(e)) return !1;
            var t = Object.getPrototypeOf(e);
            return null === t || t === Object.prototype;
        }
        function s(e) {
            return "[object Function]" === d.call(e);
        }
        function l(e, t) {
            if (null !== e && void 0 !== e)
                if (("object" != typeof e && (e = [e]), n(e)))
                    for (var r = 0, a = e.length; r < a; r++)
                        t.call(null, e[r], r, e);
                else
                    for (var i in e)
                        Object.prototype.hasOwnProperty.call(e, i) &&
                            t.call(null, e[i], i, e);
        }
        function c() {
            function e(e, r) {
                o(t[r]) && o(e)
                    ? (t[r] = c(t[r], e))
                    : o(e)
                    ? (t[r] = c({}, e))
                    : n(e)
                    ? (t[r] = e.slice())
                    : (t[r] = e);
            }
            for (var t = {}, r = 0, a = arguments.length; r < a; r++)
                l(arguments[r], e);
            return t;
        }
        var u = r(199),
            d = Object.prototype.toString;
        e.exports = {
            isArray: n,
            isArrayBuffer: function (e) {
                return "[object ArrayBuffer]" === d.call(e);
            },
            isBuffer: function (e) {
                return (
                    null !== e &&
                    !a(e) &&
                    null !== e.constructor &&
                    !a(e.constructor) &&
                    "function" == typeof e.constructor.isBuffer &&
                    e.constructor.isBuffer(e)
                );
            },
            isFormData: function (e) {
                return "undefined" != typeof FormData && e instanceof FormData;
            },
            isArrayBufferView: function (e) {
                return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView
                    ? ArrayBuffer.isView(e)
                    : e && e.buffer && e.buffer instanceof ArrayBuffer;
            },
            isString: function (e) {
                return "string" == typeof e;
            },
            isNumber: function (e) {
                return "number" == typeof e;
            },
            isObject: i,
            isPlainObject: o,
            isUndefined: a,
            isDate: function (e) {
                return "[object Date]" === d.call(e);
            },
            isFile: function (e) {
                return "[object File]" === d.call(e);
            },
            isBlob: function (e) {
                return "[object Blob]" === d.call(e);
            },
            isFunction: s,
            isStream: function (e) {
                return i(e) && s(e.pipe);
            },
            isURLSearchParams: function (e) {
                return (
                    "undefined" != typeof URLSearchParams &&
                    e instanceof URLSearchParams
                );
            },
            isStandardBrowserEnv: function () {
                return (
                    ("undefined" == typeof navigator ||
                        ("ReactNative" !== navigator.product &&
                            "NativeScript" !== navigator.product &&
                            "NS" !== navigator.product)) &&
                    "undefined" != typeof window &&
                    "undefined" != typeof document
                );
            },
            forEach: l,
            merge: c,
            extend: function (e, t, r) {
                return (
                    l(t, function (t, n) {
                        e[n] = r && "function" == typeof t ? u(t, r) : t;
                    }),
                    e
                );
            },
            trim: function (e) {
                return e.replace(/^\s*/, "").replace(/\s*$/, "");
            },
            stripBOM: function (e) {
                return 65279 === e.charCodeAt(0) && (e = e.slice(1)), e;
            },
        };
    },
    ,
    ,
    ,
    function (e, t, r) {
        e.exports = r(439)();
    },
    ,
    function (e, t, r) {
        "use strict";
        function n(e) {
            return e instanceof Object(o.a)(e).Element || e instanceof Element;
        }
        function a(e) {
            return (
                e instanceof Object(o.a)(e).HTMLElement ||
                e instanceof HTMLElement
            );
        }
        function i(e) {
            return (
                e instanceof Object(o.a)(e).ShadowRoot ||
                e instanceof ShadowRoot
            );
        }
        r.d(t, "a", function () {
            return n;
        }),
            r.d(t, "b", function () {
                return a;
            }),
            r.d(t, "c", function () {
                return i;
            });
        var o = r(35);
    },
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t) {
        e.exports = ReactDOM;
    },
    function (e, t, r) {
        "use strict";
        var n =
                (this && this.__createBinding) ||
                (Object.create
                    ? function (e, t, r, n) {
                          void 0 === n && (n = r),
                              Object.defineProperty(e, n, {
                                  enumerable: !0,
                                  get: function () {
                                      return t[r];
                                  },
                              });
                      }
                    : function (e, t, r, n) {
                          void 0 === n && (n = r), (e[n] = t[r]);
                      }),
            a =
                (this && this.__setModuleDefault) ||
                (Object.create
                    ? function (e, t) {
                          Object.defineProperty(e, "default", {
                              enumerable: !0,
                              value: t,
                          });
                      }
                    : function (e, t) {
                          e.default = t;
                      }),
            i =
                (this && this.__importStar) ||
                function (e) {
                    if (e && e.__esModule) return e;
                    var t = {};
                    if (null != e)
                        for (var r in e)
                            "default" !== r &&
                                Object.prototype.hasOwnProperty.call(e, r) &&
                                n(t, e, r);
                    return a(t, e), t;
                },
            o =
                (this && this.__exportStar) ||
                function (e, t) {
                    for (var r in e)
                        "default" === r ||
                            Object.prototype.hasOwnProperty.call(t, r) ||
                            n(t, e, r);
                },
            s =
                (this && this.__importDefault) ||
                function (e) {
                    return e && e.__esModule ? e : { default: e };
                };
        Object.defineProperty(t, "__esModule", { value: !0 });
        var l = i(r(186)),
            c = r(468),
            u = s(r(188)),
            d = r(131);
        o(r(132), t),
            (t.default = {
                instantiate: l.default,
                isValidComponent: l.isValidComponent,
                dynamic: c.dynamic,
                prerendered: c.prerendered,
                commands: u.default,
                registerComponent: d.registerComponent,
                registerComponents: d.registerComponents,
                registerCommand: d.registerCommand,
                registerCommands: d.registerCommands,
                createComponent: d.createComponent,
                createCommand: d.createCommand,
                hasComponent: d.hasComponent,
                hasCommand: d.hasCommand,
            });
    },
    ,
    ,
    ,
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            if ("[object Window]" !== e.toString()) {
                var t = e.ownerDocument;
                return t ? t.defaultView || window : window;
            }
            return e;
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return (
                (Object(n.a)(e) ? e.ownerDocument : e.document) ||
                window.document
            ).documentElement;
        };
        var n = r(23);
    },
    ,
    ,
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e ? (e.nodeName || "").toLowerCase() : null;
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e.split("-")[0];
        };
        r(13);
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t) {
        var r;
        r = (function () {
            return this;
        })();
        try {
            r = r || Function("return this")() || (0, eval)("this");
        } catch (e) {
            "object" == typeof window && (r = window);
        }
        e.exports = r;
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return Object(n.a)(e).getComputedStyle(e);
        };
        var n = r(35);
    },
    ,
    ,
    ,
    ,
    function (e, t, r) {
        "use strict";
        function n(e) {
            if (!Object(s.b)(e) || "fixed" === Object(o.a)(e).position)
                return null;
            var t = e.offsetParent;
            if (t) {
                var r = Object(u.a)(t);
                if (
                    "body" === Object(i.a)(t) &&
                    "static" === Object(o.a)(t).position &&
                    "static" !== Object(o.a)(r).position
                )
                    return r;
            }
            return t;
        }
        t.a = function (e) {
            for (
                var t = Object(a.a)(e), r = n(e);
                r && Object(l.a)(r) && "static" === Object(o.a)(r).position;

            )
                r = n(r);
            return r &&
                "body" === Object(i.a)(r) &&
                "static" === Object(o.a)(r).position
                ? t
                : r ||
                      (function (e) {
                          for (
                              var t = Object(c.a)(e);
                              Object(s.b)(t) &&
                              ["html", "body"].indexOf(Object(i.a)(t)) < 0;

                          ) {
                              var r = Object(o.a)(t);
                              if (
                                  "none" !== r.transform ||
                                  "none" !== r.perspective ||
                                  (r.willChange && "auto" !== r.willChange)
                              )
                                  return t;
                              t = t.parentNode;
                          }
                          return null;
                      })(e) ||
                      t;
        };
        var a = r(35),
            i = r(39),
            o = r(59),
            s = r(23),
            l = r(417),
            c = r(81),
            u = r(36);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t) {
            void 0 === t && (t = {});
            var r = t,
                p = r.placement,
                h = void 0 === p ? e.placement : p,
                f = r.boundary,
                m = void 0 === f ? l.d : f,
                y = r.rootBoundary,
                g = void 0 === y ? l.o : y,
                v = r.elementContext,
                b = void 0 === v ? l.i : v,
                w = r.altBoundary,
                _ = void 0 !== w && w,
                E = r.padding,
                S = void 0 === E ? 0 : E,
                C = Object(u.a)("number" != typeof S ? S : Object(d.a)(S, l.b)),
                A = b === l.i ? l.j : l.i,
                k = e.elements.reference,
                x = e.rects.popper,
                P = e.elements[_ ? A : b],
                T = Object(a.a)(
                    Object(c.a)(P)
                        ? P
                        : P.contextElement || Object(i.a)(e.elements.popper),
                    m,
                    g
                ),
                L = Object(n.a)(k),
                I = Object(o.a)({
                    reference: L,
                    element: x,
                    strategy: "absolute",
                    placement: h,
                }),
                O = Object(s.a)(Object.assign(Object.assign({}, x), I)),
                M = b === l.i ? O : L,
                D = {
                    top: T.top - M.top + C.top,
                    bottom: M.bottom - T.bottom + C.bottom,
                    left: T.left - M.left + C.left,
                    right: M.right - T.right + C.right,
                },
                j = e.modifiersData.offset;
            if (b === l.i && j) {
                var R = j[h];
                Object.keys(D).forEach(function (e) {
                    var t = [l.k, l.c].indexOf(e) >= 0 ? 1 : -1,
                        r = [l.m, l.c].indexOf(e) >= 0 ? "y" : "x";
                    D[e] += R[r] * t;
                });
            }
            return D;
        };
        var n = r(82),
            a = r(420),
            i = r(36),
            o = r(181),
            s = r(180),
            l = r(13),
            c = r(23),
            u = r(175),
            d = r(177);
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t) {
        function r() {
            throw new Error("setTimeout has not been defined");
        }
        function n() {
            throw new Error("clearTimeout has not been defined");
        }
        function a(e) {
            if (c === setTimeout) return setTimeout(e, 0);
            if ((c === r || !c) && setTimeout)
                return (c = setTimeout), setTimeout(e, 0);
            try {
                return c(e, 0);
            } catch (t) {
                try {
                    return c.call(null, e, 0);
                } catch (t) {
                    return c.call(this, e, 0);
                }
            }
        }
        function i() {
            f &&
                p &&
                ((f = !1),
                p.length ? (h = p.concat(h)) : (m = -1),
                h.length && o());
        }
        function o() {
            if (!f) {
                var e = a(i);
                f = !0;
                for (var t = h.length; t; ) {
                    for (p = h, h = []; ++m < t; ) p && p[m].run();
                    (m = -1), (t = h.length);
                }
                (p = null),
                    (f = !1),
                    (function (e) {
                        if (u === clearTimeout) return clearTimeout(e);
                        if ((u === n || !u) && clearTimeout)
                            return (u = clearTimeout), clearTimeout(e);
                        try {
                            u(e);
                        } catch (t) {
                            try {
                                return u.call(null, e);
                            } catch (t) {
                                return u.call(this, e);
                            }
                        }
                    })(e);
            }
        }
        function s(e, t) {
            (this.fun = e), (this.array = t);
        }
        function l() {}
        var c,
            u,
            d = (e.exports = {});
        !(function () {
            try {
                c = "function" == typeof setTimeout ? setTimeout : r;
            } catch (e) {
                c = r;
            }
            try {
                u = "function" == typeof clearTimeout ? clearTimeout : n;
            } catch (e) {
                u = n;
            }
        })();
        var p,
            h = [],
            f = !1,
            m = -1;
        (d.nextTick = function (e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var r = 1; r < arguments.length; r++)
                    t[r - 1] = arguments[r];
            h.push(new s(e, t)), 1 !== h.length || f || a(o);
        }),
            (s.prototype.run = function () {
                this.fun.apply(null, this.array);
            }),
            (d.title = "browser"),
            (d.browser = !0),
            (d.env = {}),
            (d.argv = []),
            (d.version = ""),
            (d.versions = {}),
            (d.on = l),
            (d.addListener = l),
            (d.once = l),
            (d.off = l),
            (d.removeListener = l),
            (d.removeAllListeners = l),
            (d.emit = l),
            (d.prependListener = l),
            (d.prependOnceListener = l),
            (d.listeners = function (e) {
                return [];
            }),
            (d.binding = function (e) {
                throw new Error("process.binding is not supported");
            }),
            (d.cwd = function () {
                return "/";
            }),
            (d.chdir = function (e) {
                throw new Error("process.chdir is not supported");
            }),
            (d.umask = function () {
                return 0;
            });
    },
    function (e, t, r) {
        var n;
        !(function () {
            "use strict";
            function r() {
                for (var e = [], t = 0; t < arguments.length; t++) {
                    var n = arguments[t];
                    if (n) {
                        var i = typeof n;
                        if ("string" === i || "number" === i) e.push(n);
                        else if (Array.isArray(n) && n.length) {
                            var o = r.apply(null, n);
                            o && e.push(o);
                        } else if ("object" === i)
                            for (var s in n) a.call(n, s) && n[s] && e.push(s);
                    }
                }
                return e.join(" ");
            }
            var a = {}.hasOwnProperty;
            void 0 !== e && e.exports
                ? ((r.default = r), (e.exports = r))
                : void 0 ===
                      (n = function () {
                          return r;
                      }.apply(t, [])) || (e.exports = n);
        })();
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return (n =
                Object.assign ||
                function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = arguments[t];
                        for (var n in r)
                            Object.prototype.hasOwnProperty.call(r, n) &&
                                (e[n] = r[n]);
                    }
                    return e;
                }).apply(this, arguments);
        }
        function a(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(e);
                t &&
                    (n = n.filter(function (t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })),
                    r.push.apply(r, n);
            }
            return r;
        }
        function i(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2
                    ? a(Object(r), !0).forEach(function (t) {
                          !(function (e, t, r) {
                              t in e
                                  ? Object.defineProperty(e, t, {
                                        value: r,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                    })
                                  : (e[t] = r);
                          })(e, t, r[t]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(r)
                      )
                    : a(Object(r)).forEach(function (t) {
                          Object.defineProperty(
                              e,
                              t,
                              Object.getOwnPropertyDescriptor(r, t)
                          );
                      });
            }
            return e;
        }
        function o(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return s(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return s(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function s(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var l = r(1),
            c = r.n(l),
            u = r(30),
            d = (r.n(u), r(414)),
            p = r(21),
            h = r.n(p),
            f = function (e) {
                var t = e.referenceElement,
                    r = e.update || null,
                    a = e.config,
                    s = a.contentClasses,
                    p = a.arrowClasses,
                    h = a.content,
                    f = a.settings,
                    m = o(Object(l.useState)(null), 2),
                    y = m[0],
                    g = m[1],
                    v = o(Object(l.useState)(null), 2),
                    b = v[0],
                    w = v[1],
                    _ = {
                        modifiers: [{ name: "arrow", options: { element: b } }],
                    },
                    E = {};
                (E = i(i({}, _), f)).modifiers = _.modifiers.concat(
                    f.modifiers
                );
                var S = Object(d.a)(t, y, E);
                return (
                    Object(l.useEffect)(
                        function () {
                            S && S.forceUpdate && S.forceUpdate();
                        },
                        [r]
                    ),
                    Object(u.createPortal)(
                        c.a.createElement(
                            "div",
                            n(
                                {
                                    ref: g,
                                    className: s,
                                    style: S.styles.popper,
                                },
                                S.attributes.popper
                            ),
                            h,
                            c.a.createElement("div", {
                                ref: w,
                                style: S.styles.arrow,
                                className: p,
                            })
                        ),
                        e.target ? e.target : document.querySelector("body")
                    )
                );
            };
        (f.propTypes = { config: h.a.object, referenceElement: h.a.object }),
            (t.a = f);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return "html" === Object(n.a)(e)
                ? e
                : e.assignedSlot || e.parentNode || e.host || Object(a.a)(e);
        };
        var n = r(39),
            a = r(36);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = e.getBoundingClientRect();
            return {
                width: t.width,
                height: t.height,
                top: t.top,
                right: t.right,
                bottom: t.bottom,
                left: t.left,
                x: t.left,
                y: t.top,
            };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e.split("-")[1];
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(e);
                t &&
                    (n = n.filter(function (t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })),
                    r.push.apply(r, n);
            }
            return r;
        }
        function a(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2
                    ? n(Object(r), !0).forEach(function (t) {
                          !(function (e, t, r) {
                              t in e
                                  ? Object.defineProperty(e, t, {
                                        value: r,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                    })
                                  : (e[t] = r);
                          })(e, t, r[t]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(r)
                      )
                    : n(Object(r)).forEach(function (t) {
                          Object.defineProperty(
                              e,
                              t,
                              Object.getOwnPropertyDescriptor(r, t)
                          );
                      });
            }
            return e;
        }
        var i = {
            tooltip: {
                placement: "bottom",
                outOfBoundaries: !0,
                modifiers: [
                    {
                        name: "offset",
                        enabled: !0,
                        options: { offset: [0, 10] },
                    },
                    { name: "preventOverflow", enabled: !0 },
                    { name: "hide", enabled: !0 },
                    { name: "flip", enabled: !1 },
                ],
            },
            dropdown: {
                placement: "bottom",
                outOfBoundaries: !0,
                modifiers: [
                    {
                        name: "offset",
                        enabled: !0,
                        options: { offset: [0, 2] },
                    },
                    { name: "preventOverflow", enabled: !0 },
                    { name: "hide", enabled: !0 },
                    { name: "flip", enabled: !1 },
                    {
                        name: "sameWidth",
                        enabled: !0,
                        fn: function (e) {
                            var t = e.state;
                            t.styles.popper.width = "".concat(
                                t.rects.reference.width,
                                "px"
                            );
                        },
                        phase: "beforeWrite",
                        requires: ["computeStyles"],
                    },
                ],
            },
            mergeModifiers: function (e, t) {
                return e.map(function (e) {
                    return (
                        t.find(function (t) {
                            return t.name === e.name;
                        }) || e
                    );
                });
            },
            get: function (e, t) {
                var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : null,
                    n =
                        arguments.length > 3 && void 0 !== arguments[3]
                            ? arguments[3]
                            : null,
                    i =
                        arguments.length > 4 && void 0 !== arguments[4]
                            ? arguments[4]
                            : null;
                if (!this[t]) return {};
                var o = {};
                r
                    ? ((o = a(a({}, this[t]), r)),
                      r.modifiers &&
                          (o.modifiers = this.mergeModifiers(
                              this[t].modifiers,
                              r.modifiers
                          )))
                    : (o = this[t]);
                var s = "",
                    l = "";
                return (
                    "tooltip" === t &&
                        ((s = n || "delivery-methods-tooltip-shop-profile"),
                        (l =
                            i ||
                            "delivery-methods-tooltip-shop-profile-arrow")),
                    "dropdown" === t &&
                        ((s = n || "menu-search-dropdown"), (l = i || "")),
                    {
                        content: e,
                        contentClasses: s,
                        arrowClasses: l,
                        settings: o,
                    }
                );
            },
        };
        t.a = i;
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = (r.n(n), Object(n.createContext)({}));
        t.a = a;
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            var t = {
                color: e.font_color,
                backgroundColor: e.background_color,
            };
            return a.a.createElement(
                "div",
                { className: "dynamic-badge ".concat(e.badge_type), style: t },
                e.icon &&
                    a.a.createElement("img", {
                        className: "dynamic-badge--icon mr-2",
                        src: e.icon,
                    }),
                e.title &&
                    a.a.createElement(
                        "span",
                        { className: "dynamic-badge--text" },
                        e.title
                    )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(483),
            a =
                (r.n(n),
                {
                    animate: function (e, t, r) {
                        var a = document.getElementById(e);
                        if (a) {
                            t && t.destroy();
                            var i = n.loadAnimation({
                                container: a,
                                renderer: "svg",
                                loop: !0,
                                autoplay: !0,
                                path: r.animationUrl,
                            });
                            return (
                                r.animationSpeed &&
                                    i.setSpeed(r.animationSpeed),
                                r.quality &&
                                    "function" == typeof i.setQuality &&
                                    i.setQuality(r.quality),
                                i
                            );
                        }
                    },
                });
        t.a = a;
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = { primary: "btn-primary", secondary: "btn-secondary" }[
                e.style
            ];
            return i.a.createElement(
                "button",
                {
                    className: "btn mt-4 ".concat(t),
                    onClick: function (t) {
                        e.onClick(), e.ctx && e.ctx.onClick && e.ctx.onClick();
                    },
                },
                e.title
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o);
        (n.propTypes = {
            style: s.a.oneOf(["primary", "secondary"]),
            title: s.a.string,
            action: s.a.func,
        }),
            (t.a = n);
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t, r) {
        (function (t, r) {
            !(function (t, r) {
                e.exports = r();
            })(0, function () {
                "use strict";
                function e(e) {
                    return "function" == typeof e;
                }
                function n() {
                    var e = setTimeout;
                    return function () {
                        return e(a, 1);
                    };
                }
                function a() {
                    for (var e = 0; e < b; e += 2) {
                        (0, P[e])(P[e + 1]),
                            (P[e] = void 0),
                            (P[e + 1] = void 0);
                    }
                    b = 0;
                }
                function i() {
                    try {
                        var e = Function("return this")().require("vertx");
                        return void 0 !== (w = e.runOnLoop || e.runOnContext)
                            ? function () {
                                  w(a);
                              }
                            : n();
                    } catch (e) {
                        return n();
                    }
                }
                function o(e, t) {
                    var r = this,
                        n = new this.constructor(l);
                    void 0 === n[L] && g(n);
                    var a = r._state;
                    if (a) {
                        var i = arguments[a - 1];
                        E(function () {
                            return y(a, n, i, r._result);
                        });
                    } else f(r, n, e, t);
                    return n;
                }
                function s(e) {
                    if (e && "object" == typeof e && e.constructor === this)
                        return e;
                    var t = new this(l);
                    return u(t, e), t;
                }
                function l() {}
                function c(t, r, n) {
                    r.constructor === t.constructor &&
                    n === o &&
                    r.constructor.resolve === s
                        ? (function (e, t) {
                              t._state === O
                                  ? p(e, t._result)
                                  : t._state === M
                                  ? h(e, t._result)
                                  : f(
                                        t,
                                        void 0,
                                        function (t) {
                                            return u(e, t);
                                        },
                                        function (t) {
                                            return h(e, t);
                                        }
                                    );
                          })(t, r)
                        : void 0 === n
                        ? p(t, r)
                        : e(n)
                        ? (function (e, t, r) {
                              E(function (e) {
                                  var n = !1,
                                      a = (function (e, t, r, n) {
                                          try {
                                              e.call(t, r, n);
                                          } catch (e) {
                                              return e;
                                          }
                                      })(
                                          r,
                                          t,
                                          function (r) {
                                              n ||
                                                  ((n = !0),
                                                  t !== r ? u(e, r) : p(e, r));
                                          },
                                          function (t) {
                                              n || ((n = !0), h(e, t));
                                          },
                                          e._label
                                      );
                                  !n && a && ((n = !0), h(e, a));
                              }, e);
                          })(t, r, n)
                        : p(t, r);
                }
                function u(e, t) {
                    if (e === t)
                        h(
                            e,
                            new TypeError(
                                "You cannot resolve a promise with itself"
                            )
                        );
                    else if (
                        (function (e) {
                            var t = typeof e;
                            return (
                                null !== e &&
                                ("object" === t || "function" === t)
                            );
                        })(t)
                    ) {
                        var r = void 0;
                        try {
                            r = t.then;
                        } catch (t) {
                            return void h(e, t);
                        }
                        c(e, t, r);
                    } else p(e, t);
                }
                function d(e) {
                    e._onerror && e._onerror(e._result), m(e);
                }
                function p(e, t) {
                    e._state === I &&
                        ((e._result = t),
                        (e._state = O),
                        0 !== e._subscribers.length && E(m, e));
                }
                function h(e, t) {
                    e._state === I &&
                        ((e._state = M), (e._result = t), E(d, e));
                }
                function f(e, t, r, n) {
                    var a = e._subscribers,
                        i = a.length;
                    (e._onerror = null),
                        (a[i] = t),
                        (a[i + O] = r),
                        (a[i + M] = n),
                        0 === i && e._state && E(m, e);
                }
                function m(e) {
                    var t = e._subscribers,
                        r = e._state;
                    if (0 !== t.length) {
                        for (
                            var n = void 0, a = void 0, i = e._result, o = 0;
                            o < t.length;
                            o += 3
                        )
                            (n = t[o]),
                                (a = t[o + r]),
                                n ? y(r, n, a, i) : a(i);
                        e._subscribers.length = 0;
                    }
                }
                function y(t, r, n, a) {
                    var i = e(n),
                        o = void 0,
                        s = void 0,
                        l = !0;
                    if (i) {
                        try {
                            o = n(a);
                        } catch (e) {
                            (l = !1), (s = e);
                        }
                        if (r === o)
                            return void h(
                                r,
                                new TypeError(
                                    "A promises callback cannot return that same promise."
                                )
                            );
                    } else o = a;
                    r._state !== I ||
                        (i && l
                            ? u(r, o)
                            : !1 === l
                            ? h(r, s)
                            : t === O
                            ? p(r, o)
                            : t === M && h(r, o));
                }
                function g(e) {
                    (e[L] = D++),
                        (e._state = void 0),
                        (e._result = void 0),
                        (e._subscribers = []);
                }
                var v = Array.isArray
                        ? Array.isArray
                        : function (e) {
                              return (
                                  "[object Array]" ===
                                  Object.prototype.toString.call(e)
                              );
                          },
                    b = 0,
                    w = void 0,
                    _ = void 0,
                    E = function (e, t) {
                        (P[b] = e),
                            (P[b + 1] = t),
                            2 === (b += 2) && (_ ? _(a) : T());
                    },
                    S = "undefined" != typeof window ? window : void 0,
                    C = S || {},
                    A = C.MutationObserver || C.WebKitMutationObserver,
                    k =
                        "undefined" == typeof self &&
                        void 0 !== t &&
                        "[object process]" === {}.toString.call(t),
                    x =
                        "undefined" != typeof Uint8ClampedArray &&
                        "undefined" != typeof importScripts &&
                        "undefined" != typeof MessageChannel,
                    P = new Array(1e3),
                    T = void 0;
                T = k
                    ? function () {
                          return t.nextTick(a);
                      }
                    : A
                    ? (function () {
                          var e = 0,
                              t = new A(a),
                              r = document.createTextNode("");
                          return (
                              t.observe(r, { characterData: !0 }),
                              function () {
                                  r.data = e = ++e % 2;
                              }
                          );
                      })()
                    : x
                    ? (function () {
                          var e = new MessageChannel();
                          return (
                              (e.port1.onmessage = a),
                              function () {
                                  return e.port2.postMessage(0);
                              }
                          );
                      })()
                    : void 0 === S
                    ? i()
                    : n();
                var L = Math.random().toString(36).substring(2),
                    I = void 0,
                    O = 1,
                    M = 2,
                    D = 0,
                    j = (function () {
                        function e(e, t) {
                            (this._instanceConstructor = e),
                                (this.promise = new e(l)),
                                this.promise[L] || g(this.promise),
                                v(t)
                                    ? ((this.length = t.length),
                                      (this._remaining = t.length),
                                      (this._result = new Array(this.length)),
                                      0 === this.length
                                          ? p(this.promise, this._result)
                                          : ((this.length = this.length || 0),
                                            this._enumerate(t),
                                            0 === this._remaining &&
                                                p(this.promise, this._result)))
                                    : h(
                                          this.promise,
                                          new Error(
                                              "Array Methods must be provided an Array"
                                          )
                                      );
                        }
                        return (
                            (e.prototype._enumerate = function (e) {
                                for (
                                    var t = 0;
                                    this._state === I && t < e.length;
                                    t++
                                )
                                    this._eachEntry(e[t], t);
                            }),
                            (e.prototype._eachEntry = function (e, t) {
                                var r = this._instanceConstructor,
                                    n = r.resolve;
                                if (n === s) {
                                    var a = void 0,
                                        i = void 0,
                                        u = !1;
                                    try {
                                        a = e.then;
                                    } catch (e) {
                                        (u = !0), (i = e);
                                    }
                                    if (a === o && e._state !== I)
                                        this._settledAt(e._state, t, e._result);
                                    else if ("function" != typeof a)
                                        this._remaining--,
                                            (this._result[t] = e);
                                    else if (r === R) {
                                        var d = new r(l);
                                        u ? h(d, i) : c(d, e, a),
                                            this._willSettleAt(d, t);
                                    } else
                                        this._willSettleAt(
                                            new r(function (t) {
                                                return t(e);
                                            }),
                                            t
                                        );
                                } else this._willSettleAt(n(e), t);
                            }),
                            (e.prototype._settledAt = function (e, t, r) {
                                var n = this.promise;
                                n._state === I &&
                                    (this._remaining--,
                                    e === M ? h(n, r) : (this._result[t] = r)),
                                    0 === this._remaining && p(n, this._result);
                            }),
                            (e.prototype._willSettleAt = function (e, t) {
                                var r = this;
                                f(
                                    e,
                                    void 0,
                                    function (e) {
                                        return r._settledAt(O, t, e);
                                    },
                                    function (e) {
                                        return r._settledAt(M, t, e);
                                    }
                                );
                            }),
                            e
                        );
                    })(),
                    R = (function () {
                        function t(e) {
                            (this[L] = D++),
                                (this._result = this._state = void 0),
                                (this._subscribers = []),
                                l !== e &&
                                    ("function" != typeof e &&
                                        (function () {
                                            throw new TypeError(
                                                "You must pass a resolver function as the first argument to the promise constructor"
                                            );
                                        })(),
                                    this instanceof t
                                        ? (function (e, t) {
                                              try {
                                                  t(
                                                      function (t) {
                                                          u(e, t);
                                                      },
                                                      function (t) {
                                                          h(e, t);
                                                      }
                                                  );
                                              } catch (t) {
                                                  h(e, t);
                                              }
                                          })(this, e)
                                        : (function () {
                                              throw new TypeError(
                                                  "Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."
                                              );
                                          })());
                        }
                        return (
                            (t.prototype.catch = function (e) {
                                return this.then(null, e);
                            }),
                            (t.prototype.finally = function (t) {
                                var r = this.constructor;
                                return e(t)
                                    ? this.then(
                                          function (e) {
                                              return r
                                                  .resolve(t())
                                                  .then(function () {
                                                      return e;
                                                  });
                                          },
                                          function (e) {
                                              return r
                                                  .resolve(t())
                                                  .then(function () {
                                                      throw e;
                                                  });
                                          }
                                      )
                                    : this.then(t, t);
                            }),
                            t
                        );
                    })();
                return (
                    (R.prototype.then = o),
                    (R.all = function (e) {
                        return new j(this, e).promise;
                    }),
                    (R.race = function (e) {
                        var t = this;
                        return v(e)
                            ? new t(function (r, n) {
                                  for (var a = e.length, i = 0; i < a; i++)
                                      t.resolve(e[i]).then(r, n);
                              })
                            : new t(function (e, t) {
                                  return t(
                                      new TypeError(
                                          "You must pass an array to race."
                                      )
                                  );
                              });
                    }),
                    (R.resolve = s),
                    (R.reject = function (e) {
                        var t = new this(l);
                        return h(t, e), t;
                    }),
                    (R._setScheduler = function (e) {
                        _ = e;
                    }),
                    (R._setAsap = function (e) {
                        E = e;
                    }),
                    (R._asap = E),
                    (R.polyfill = function () {
                        var e = void 0;
                        if (void 0 !== r) e = r;
                        else if ("undefined" != typeof self) e = self;
                        else
                            try {
                                e = Function("return this")();
                            } catch (e) {
                                throw new Error(
                                    "polyfill failed because global object is unavailable in this environment"
                                );
                            }
                        var t = e.Promise;
                        if (t) {
                            var n = null;
                            try {
                                n = Object.prototype.toString.call(t.resolve());
                            } catch (e) {}
                            if ("[object Promise]" === n && !t.cast) return;
                        }
                        e.Promise = R;
                    }),
                    (R.Promise = R),
                    R
                );
            });
        }.call(t, r(78), r(58)));
    },
    function (e, t, r) {
        "use strict";
        r.d(t, "a", function () {
            return a;
        }),
            r.d(t, "b", function () {
                return i;
            });
        var n = r(1),
            a = (r.n(n), n.createContext()),
            i = n.createContext();
    },
    function (e, t, r) {
        "use strict";
        r.d(t, "d", function () {
            return a;
        }),
            r.d(t, "b", function () {
                return i;
            }),
            r.d(t, "c", function () {
                return o;
            }),
            r.d(t, "a", function () {
                return s;
            }),
            r.d(t, "e", function () {
                return l;
            });
        var n = r(1),
            a =
                (r.n(n),
                function (e) {
                    return Array.isArray(e) ? e[0] : e;
                }),
            i = function (e) {
                if ("function" == typeof e) {
                    for (
                        var t = arguments.length,
                            r = new Array(t > 1 ? t - 1 : 0),
                            n = 1;
                        n < t;
                        n++
                    )
                        r[n - 1] = arguments[n];
                    return e.apply(void 0, r);
                }
            },
            o = function (e, t) {
                if ("function" == typeof e) return i(e, t);
                null != e && (e.current = t);
            },
            s = function (e) {
                return e.reduce(function (e, t) {
                    var r = t[0],
                        n = t[1];
                    return (e[r] = n), e;
                }, {});
            },
            l =
                "undefined" != typeof window &&
                window.document &&
                window.document.createElement
                    ? n.useLayoutEffect
                    : n.useEffect;
    },
    function (e, t, r) {
        "use strict";
        var n = r(39),
            a = r(23);
        t.a = {
            name: "applyStyles",
            enabled: !0,
            phase: "write",
            fn: function (e) {
                var t = e.state;
                Object.keys(t.elements).forEach(function (e) {
                    var r = t.styles[e] || {},
                        i = t.attributes[e] || {},
                        o = t.elements[e];
                    Object(a.b)(o) &&
                        Object(n.a)(o) &&
                        (Object.assign(o.style, r),
                        Object.keys(i).forEach(function (e) {
                            var t = i[e];
                            !1 === t
                                ? o.removeAttribute(e)
                                : o.setAttribute(e, !0 === t ? "" : t);
                        }));
                });
            },
            effect: function (e) {
                var t = e.state,
                    r = {
                        popper: {
                            position: t.options.strategy,
                            left: "0",
                            top: "0",
                            margin: "0",
                        },
                        arrow: { position: "absolute" },
                        reference: {},
                    };
                return (
                    Object.assign(t.elements.popper.style, r.popper),
                    t.elements.arrow &&
                        Object.assign(t.elements.arrow.style, r.arrow),
                    function () {
                        Object.keys(t.elements).forEach(function (e) {
                            var i = t.elements[e],
                                o = t.attributes[e] || {},
                                s = Object.keys(
                                    t.styles.hasOwnProperty(e)
                                        ? t.styles[e]
                                        : r[e]
                                ).reduce(function (e, t) {
                                    return (e[t] = ""), e;
                                }, {});
                            Object(a.b)(i) &&
                                Object(n.a)(i) &&
                                (Object.assign(i.style, s),
                                Object.keys(o).forEach(function (e) {
                                    i.removeAttribute(e);
                                }));
                        });
                    }
                );
            },
            requires: ["computeStyles"],
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return {
                x: e.offsetLeft,
                y: e.offsetTop,
                width: e.offsetWidth,
                height: e.offsetHeight,
            };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y";
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t,
                r = e.popper,
                n = e.popperRect,
                l = e.placement,
                u = e.offsets,
                d = e.position,
                p = e.gpuAcceleration,
                h = e.adaptive,
                f = (function (e) {
                    var t = e.x,
                        r = e.y,
                        n = window.devicePixelRatio || 1;
                    return {
                        x: Math.round(t * n) / n || 0,
                        y: Math.round(r * n) / n || 0,
                    };
                })(u),
                m = f.x,
                y = f.y,
                g = u.hasOwnProperty("x"),
                v = u.hasOwnProperty("y"),
                b = a.f,
                w = a.m,
                _ = window;
            if (h) {
                var E = Object(i.a)(r);
                E === Object(o.a)(r) && (E = Object(s.a)(r)),
                    l === a.m &&
                        ((w = a.c),
                        (y -= E.clientHeight - n.height),
                        (y *= p ? 1 : -1)),
                    l === a.f &&
                        ((b = a.k),
                        (m -= E.clientWidth - n.width),
                        (m *= p ? 1 : -1));
            }
            var S = Object.assign({ position: d }, h && c);
            if (p) {
                var C;
                return Object.assign(
                    Object.assign({}, S),
                    {},
                    ((C = {}),
                    (C[w] = v ? "0" : ""),
                    (C[b] = g ? "0" : ""),
                    (C.transform =
                        (_.devicePixelRatio || 1) < 2
                            ? "translate(" + m + "px, " + y + "px)"
                            : "translate3d(" + m + "px, " + y + "px, 0)"),
                    C)
                );
            }
            return Object.assign(
                Object.assign({}, S),
                {},
                ((t = {}),
                (t[w] = v ? y + "px" : ""),
                (t[b] = g ? m + "px" : ""),
                (t.transform = ""),
                t)
            );
        }
        var a = r(13),
            i = r(64),
            o = r(35),
            s = r(36),
            l = (r(59), r(40)),
            c = { top: "auto", right: "auto", bottom: "auto", left: "auto" };
        t.a = {
            name: "computeStyles",
            enabled: !0,
            phase: "beforeWrite",
            fn: function (e) {
                var t = e.state,
                    r = e.options,
                    a = r.gpuAcceleration,
                    i = void 0 === a || a,
                    o = r.adaptive,
                    s = void 0 === o || o,
                    c = {
                        placement: Object(l.a)(t.placement),
                        popper: t.elements.popper,
                        popperRect: t.rects.popper,
                        gpuAcceleration: i,
                    };
                null != t.modifiersData.popperOffsets &&
                    (t.styles.popper = Object.assign(
                        Object.assign({}, t.styles.popper),
                        n(
                            Object.assign(
                                Object.assign({}, c),
                                {},
                                {
                                    offsets: t.modifiersData.popperOffsets,
                                    position: t.options.strategy,
                                    adaptive: s,
                                }
                            )
                        )
                    )),
                    null != t.modifiersData.arrow &&
                        (t.styles.arrow = Object.assign(
                            Object.assign({}, t.styles.arrow),
                            n(
                                Object.assign(
                                    Object.assign({}, c),
                                    {},
                                    {
                                        offsets: t.modifiersData.arrow,
                                        position: "absolute",
                                        adaptive: !1,
                                    }
                                )
                            )
                        )),
                    (t.attributes.popper = Object.assign(
                        Object.assign({}, t.attributes.popper),
                        {},
                        { "data-popper-placement": t.placement }
                    ));
            },
            data: {},
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(35),
            a = { passive: !0 };
        t.a = {
            name: "eventListeners",
            enabled: !0,
            phase: "write",
            fn: function () {},
            effect: function (e) {
                var t = e.state,
                    r = e.instance,
                    i = e.options,
                    o = i.scroll,
                    s = void 0 === o || o,
                    l = i.resize,
                    c = void 0 === l || l,
                    u = Object(n.a)(t.elements.popper),
                    d = [].concat(
                        t.scrollParents.reference,
                        t.scrollParents.popper
                    );
                return (
                    s &&
                        d.forEach(function (e) {
                            e.addEventListener("scroll", r.update, a);
                        }),
                    c && u.addEventListener("resize", r.update, a),
                    function () {
                        s &&
                            d.forEach(function (e) {
                                e.removeEventListener("scroll", r.update, a);
                            }),
                            c && u.removeEventListener("resize", r.update, a);
                    }
                );
            },
            data: {},
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return Object(n.a)(Object(a.a)(e)).left + Object(i.a)(e).scrollLeft;
        };
        var n = r(82),
            a = r(36),
            i = r(126);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = Object(n.a)(e);
            return { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset };
        };
        var n = r(35);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = Object(n.a)(e),
                r = t.overflow,
                a = t.overflowX,
                i = t.overflowY;
            return /auto|scroll|overlay|hidden/.test(r + i + a);
        };
        var n = r(59);
    },
    function (e, t, r) {
        "use strict";
        var n = r(181);
        t.a = {
            name: "popperOffsets",
            enabled: !0,
            phase: "read",
            fn: function (e) {
                var t = e.state,
                    r = e.name;
                t.modifiersData[r] = Object(n.a)({
                    reference: t.rects.reference,
                    element: t.rects.popper,
                    strategy: "absolute",
                    placement: t.placement,
                });
            },
            data: {},
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
                t[r] = arguments[r];
            return !t.some(function (e) {
                return !(e && "function" == typeof e.getBoundingClientRect);
            });
        }
        function a(e) {
            void 0 === e && (e = {});
            var t = e,
                r = t.defaultModifiers,
                a = void 0 === r ? [] : r,
                f = t.defaultOptions,
                m = void 0 === f ? h : f;
            return function (e, t, r) {
                function f() {
                    g.forEach(function (e) {
                        return e();
                    }),
                        (g = []);
                }
                void 0 === r && (r = m);
                var y = {
                        placement: "bottom",
                        orderedModifiers: [],
                        options: Object.assign(Object.assign({}, h), m),
                        modifiersData: {},
                        elements: { reference: e, popper: t },
                        attributes: {},
                        styles: {},
                    },
                    g = [],
                    v = !1,
                    b = {
                        state: y,
                        setOptions: function (r) {
                            f(),
                                (y.options = Object.assign(
                                    Object.assign(
                                        Object.assign({}, m),
                                        y.options
                                    ),
                                    r
                                )),
                                (y.scrollParents = {
                                    reference: Object(p.a)(e)
                                        ? Object(s.a)(e)
                                        : e.contextElement
                                        ? Object(s.a)(e.contextElement)
                                        : [],
                                    popper: Object(s.a)(t),
                                });
                            var n = Object(c.a)(
                                Object(d.a)([].concat(a, y.options.modifiers))
                            );
                            y.orderedModifiers = n.filter(function (e) {
                                return e.enabled;
                            });
                            return (
                                y.orderedModifiers.forEach(function (e) {
                                    var t = e.name,
                                        r = e.options,
                                        n = void 0 === r ? {} : r,
                                        a = e.effect;
                                    if ("function" == typeof a) {
                                        var i = a({
                                            state: y,
                                            name: t,
                                            instance: b,
                                            options: n,
                                        });
                                        g.push(i || function () {});
                                    }
                                }),
                                b.update()
                            );
                        },
                        forceUpdate: function () {
                            if (!v) {
                                var e = y.elements,
                                    t = e.reference,
                                    r = e.popper;
                                if (n(t, r)) {
                                    (y.rects = {
                                        reference: Object(i.a)(
                                            t,
                                            Object(l.a)(r),
                                            "fixed" === y.options.strategy
                                        ),
                                        popper: Object(o.a)(r),
                                    }),
                                        (y.reset = !1),
                                        (y.placement = y.options.placement),
                                        y.orderedModifiers.forEach(function (
                                            e
                                        ) {
                                            return (y.modifiersData[
                                                e.name
                                            ] = Object.assign({}, e.data));
                                        });
                                    for (
                                        var a = 0;
                                        a < y.orderedModifiers.length;
                                        a++
                                    )
                                        if (!0 !== y.reset) {
                                            var s = y.orderedModifiers[a],
                                                c = s.fn,
                                                u = s.options,
                                                d = void 0 === u ? {} : u,
                                                p = s.name;
                                            "function" == typeof c &&
                                                (y =
                                                    c({
                                                        state: y,
                                                        options: d,
                                                        name: p,
                                                        instance: b,
                                                    }) || y);
                                        } else (y.reset = !1), (a = -1);
                                }
                            }
                        },
                        update: Object(u.a)(function () {
                            return new Promise(function (e) {
                                b.forceUpdate(), e(y);
                            });
                        }),
                        destroy: function () {
                            f(), (v = !0);
                        },
                    };
                return n(e, t)
                    ? (b.setOptions(r).then(function (e) {
                          !v && r.onFirstUpdate && r.onFirstUpdate(e);
                      }),
                      b)
                    : b;
            };
        }
        t.a = a;
        var i = r(426),
            o = r(121),
            s = r(179),
            l = r(64),
            c = (r(59), r(429)),
            u = r(430),
            d = (r(431), r(433), r(40), r(434)),
            p = (r(65), r(23)),
            h =
                (r(13),
                { placement: "bottom", modifiers: [], strategy: "absolute" });
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : "el_GR",
                r =
                    arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : "",
                n = t.replace("_", "-"),
                a = e.toLocaleString(n, {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2,
                });
            return "" === r
                ? "".concat(a).concat(r)
                : "".concat(a, " ").concat(r);
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, r, a) {
            Array.isArray(e)
                ? e.forEach(function (e) {
                      return n(e, r, a);
                  })
                : t.registry.components.set(e, function (t, n, o) {
                      if (a) {
                          var s = e.split(":"),
                              l = {
                                  component: s[0],
                                  version: s[1],
                                  variation: s[2],
                              };
                          Object.assign(t, a(t, o, l));
                      }
                      return i.createElement(r, t, n);
                  });
        }
        function a(e, r) {
            t.registry.commands.set(e, r);
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.hasCommand = t.hasComponent = t.createCommand = t.createComponent = t.registerCommands = t.registerCommand = t.registerComponents = t.registerComponent = t.registry = void 0);
        var i = r(1),
            o = r(132);
        (t.registry = new o.RegistryContainer()),
            (t.registerComponent = n),
            (t.registerComponents = function (e) {
                e.forEach(function (e) {
                    return n(e[0], e[1], e[2]);
                });
            }),
            (t.registerCommand = a),
            (t.registerCommands = function (e) {
                e.forEach(function (e) {
                    return a(e[0], e[1]);
                });
            }),
            (t.createComponent = function (e) {
                var r = t.registry.components.get(e);
                return (
                    r ||
                    (console.error(
                        "[Dynamic-components] No registered component found. Please register the component of type '" +
                            e +
                            "'."
                    ),
                    function () {
                        return null;
                    })
                );
            }),
            (t.createCommand = function (e, r) {
                var n = t.registry.commands.get(e);
                return n
                    ? n(r)
                    : (console.error(
                          "[Dynamic-components] No registered command found. Please register the command '" +
                              e +
                              "'."
                      ),
                      function () {
                          return Promise.resolve(null);
                      });
            }),
            (t.hasComponent = function (e) {
                return t.registry.components.has(e);
            }),
            (t.hasCommand = function (e) {
                return t.registry.commands.has(e);
            });
    },
    function (e, t, r) {
        "use strict";
        var n =
                (this && this.__createBinding) ||
                (Object.create
                    ? function (e, t, r, n) {
                          void 0 === n && (n = r),
                              Object.defineProperty(e, n, {
                                  enumerable: !0,
                                  get: function () {
                                      return t[r];
                                  },
                              });
                      }
                    : function (e, t, r, n) {
                          void 0 === n && (n = r), (e[n] = t[r]);
                      }),
            a =
                (this && this.__exportStar) ||
                function (e, t) {
                    for (var r in e)
                        "default" === r ||
                            Object.prototype.hasOwnProperty.call(t, r) ||
                            n(t, e, r);
                };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            a(r(462), t),
            a(r(463), t),
            a(r(464), t),
            a(r(465), t);
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = (r.n(n), r(9));
        t.a = function (e, t) {
            var r =
                    arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [],
                i = Object(n.useCallback)(function () {
                    return t.apply(void 0, arguments);
                }, r);
            return (
                Object(n.useEffect)(function () {
                    return (
                        a.default.Bus.on(e, i),
                        function () {
                            return a.default.Bus.clear(e);
                        }
                    );
                }, []),
                function (e) {
                    for (
                        var t,
                            r = arguments.length,
                            n = new Array(r > 1 ? r - 1 : 0),
                            i = 1;
                        i < r;
                        i++
                    )
                        n[i - 1] = arguments[i];
                    return (t = a.default.Bus).trigger.apply(t, [e].concat(n));
                }
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return (n =
                Object.assign ||
                function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = arguments[t];
                        for (var n in r)
                            Object.prototype.hasOwnProperty.call(r, n) &&
                                (e[n] = r[n]);
                    }
                    return e;
                }).apply(this, arguments);
        }
        function a(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return i(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return i(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var o = r(1),
            s = r.n(o),
            l = r(197),
            c = r(87);
        t.a = function (e) {
            var t = a(Object(o.useState)(null), 2),
                r = t[0],
                i = t[1];
            return (
                Object(o.useEffect)(function () {
                    e.onInit && e.onInit(),
                        e.lottie &&
                            (function () {
                                var t = c.a.animate("re-dialog-animation", r, {
                                    animationUrl: e.lottie,
                                    animationSpeed: 1,
                                    quality: "high",
                                });
                                i(t);
                            })();
                }, []),
                s.a.createElement(
                    l.a,
                    n(
                        {
                            onClose: function () {
                                e.onClose && e.onClose(),
                                    e.ctx.onClose && e.ctx.onClose();
                            },
                        },
                        e
                    ),
                    s.a.createElement(
                        "div",
                        { className: "re-dialog-content" },
                        e.image &&
                            s.a.createElement(
                                "div",
                                { className: "re-dialog-icon" },
                                s.a.createElement("img", {
                                    className: "re-dialog-icon__img",
                                    src: e.image,
                                })
                            ),
                        e.lottie &&
                            s.a.createElement("div", {
                                className: "re-dialog-animation mt-5",
                                id: "re-dialog-animation",
                            }),
                        s.a.createElement(
                            "p",
                            { className: "re-dialog-content__title" },
                            e.title
                        ),
                        s.a.createElement(
                            "p",
                            { className: "re-dialog-content__subtitle" },
                            e.subtitle
                        )
                    ),
                    e.children &&
                        s.a.createElement(
                            "div",
                            { className: "re-dialog-buttons" },
                            o.Children.map(e.children, function (e) {
                                return e;
                            })
                        )
                )
            );
        };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(1),
            a = r.n(n),
            i = r(30),
            o = r.n(i),
            s = r(413);
        t.default = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
            if (e.selector) {
                var t = document.querySelector(e.selector);
                t && o.a.render(a.a.createElement(s.a, null), t);
            } else
                console.error(
                    "ToggleButton: provide a valid selector to mount"
                );
        };
    },
    function (e, t, r) {
        "use strict";
        r.d(t, "a", function () {
            return c;
        });
        var n = r(1),
            a = (r.n(n), r(416)),
            i = r(436),
            o = r.n(i),
            s = r(119),
            l = [],
            c = function (e, t, r) {
                void 0 === r && (r = {});
                var i = n.useRef(null),
                    c = {
                        onFirstUpdate: r.onFirstUpdate,
                        placement: r.placement || "bottom",
                        strategy: r.strategy || "absolute",
                        modifiers: r.modifiers || l,
                    },
                    u = n.useState({
                        styles: {
                            popper: {
                                position: c.strategy,
                                left: "0",
                                top: "0",
                            },
                        },
                        attributes: {},
                    }),
                    d = u[0],
                    p = u[1],
                    h = n.useMemo(function () {
                        return {
                            name: "updateState",
                            enabled: !0,
                            phase: "write",
                            fn: function (e) {
                                var t = e.state,
                                    r = Object.keys(t.elements);
                                p({
                                    styles: Object(s.a)(
                                        r.map(function (e) {
                                            return [e, t.styles[e] || {}];
                                        })
                                    ),
                                    attributes: Object(s.a)(
                                        r.map(function (e) {
                                            return [e, t.attributes[e]];
                                        })
                                    ),
                                });
                            },
                            requires: ["computeStyles"],
                        };
                    }, []),
                    f = n.useMemo(
                        function () {
                            var e = {
                                onFirstUpdate: c.onFirstUpdate,
                                placement: c.placement,
                                strategy: c.strategy,
                                modifiers: [].concat(c.modifiers, [
                                    h,
                                    { name: "applyStyles", enabled: !1 },
                                ]),
                            };
                            return o()(i.current, e)
                                ? i.current || e
                                : ((i.current = e), e);
                        },
                        [
                            c.onFirstUpdate,
                            c.placement,
                            c.strategy,
                            c.modifiers,
                            h,
                        ]
                    ),
                    m = n.useRef();
                return (
                    Object(s.e)(
                        function () {
                            m.current && m.current.setOptions(f);
                        },
                        [f]
                    ),
                    Object(s.e)(
                        function () {
                            if (null != e && null != t) {
                                var n = (r.createPopper || a.a)(e, t, f);
                                return (
                                    (m.current = n),
                                    function () {
                                        n.destroy(), (m.current = null);
                                    }
                                );
                            }
                        },
                        [e, t, r.createPopper]
                    ),
                    {
                        state: m.current ? m.current.state : null,
                        styles: d.styles,
                        attributes: d.attributes,
                        update: m.current ? m.current.update : null,
                        forceUpdate: m.current ? m.current.forceUpdate : null,
                    }
                );
            };
    },
    function (e, t, r) {
        "use strict";
        r(120), r(172), r(123), r(124), r(178), r(182), r(183), r(128), r(184);
    },
    function (e, t, r) {
        "use strict";
        var n = r(40),
            a = r(121),
            i = r(173),
            o = r(64),
            s = r(122),
            l = r(174),
            c = r(175),
            u = r(177),
            d = r(13);
        r(23);
        t.a = {
            name: "arrow",
            enabled: !0,
            phase: "main",
            fn: function (e) {
                var t,
                    r = e.state,
                    i = e.name,
                    c = r.elements.arrow,
                    u = r.modifiersData.popperOffsets,
                    p = Object(n.a)(r.placement),
                    h = Object(s.a)(p),
                    f = [d.f, d.k].indexOf(p) >= 0 ? "height" : "width";
                if (c && u) {
                    var m = r.modifiersData[i + "#persistent"].padding,
                        y = Object(a.a)(c),
                        g = "y" === h ? d.m : d.f,
                        v = "y" === h ? d.c : d.k,
                        b =
                            r.rects.reference[f] +
                            r.rects.reference[h] -
                            u[h] -
                            r.rects.popper[f],
                        w = u[h] - r.rects.reference[h],
                        _ = Object(o.a)(c),
                        E = _
                            ? "y" === h
                                ? _.clientHeight || 0
                                : _.clientWidth || 0
                            : 0,
                        S = b / 2 - w / 2,
                        C = m[g],
                        A = E - y[f] - m[v],
                        k = E / 2 - y[f] / 2 + S,
                        x = Object(l.a)(C, k, A),
                        P = h;
                    r.modifiersData[i] =
                        ((t = {}), (t[P] = x), (t.centerOffset = x - k), t);
                }
            },
            effect: function (e) {
                var t = e.state,
                    r = e.options,
                    n = e.name,
                    a = r.element,
                    o = void 0 === a ? "[data-popper-arrow]" : a,
                    s = r.padding,
                    l = void 0 === s ? 0 : s;
                null != o &&
                    ("string" != typeof o ||
                        (o = t.elements.popper.querySelector(o))) &&
                    Object(i.a)(t.elements.popper, o) &&
                    ((t.elements.arrow = o),
                    (t.modifiersData[n + "#persistent"] = {
                        padding: Object(c.a)(
                            "number" != typeof l ? l : Object(u.a)(l, d.b)
                        ),
                    }));
            },
            requires: ["popperOffsets"],
            requiresIfExists: ["preventOverflow"],
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t) {
            var r = t.getRootNode && t.getRootNode();
            if (e.contains(t)) return !0;
            if (r && Object(n.c)(r)) {
                var a = t;
                do {
                    if (a && e.isSameNode(a)) return !0;
                    a = a.parentNode || a.host;
                } while (a);
            }
            return !1;
        };
        var n = r(23);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t, r) {
            return Math.max(e, Math.min(t, r));
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return Object.assign(Object.assign({}, Object(n.a)()), e);
        };
        var n = r(176);
    },
    function (e, t, r) {
        "use strict";
        t.a = function () {
            return { top: 0, right: 0, bottom: 0, left: 0 };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t) {
            return t.reduce(function (t, r) {
                return (t[r] = e), t;
            }, {});
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(418),
            a = r(40),
            i = r(419),
            o = r(65),
            s = r(424),
            l = r(13),
            c = r(83);
        t.a = {
            name: "flip",
            enabled: !0,
            phase: "main",
            fn: function (e) {
                var t = e.state,
                    r = e.options,
                    u = e.name;
                if (!t.modifiersData[u]._skip) {
                    for (
                        var d = r.mainAxis,
                            p = void 0 === d || d,
                            h = r.altAxis,
                            f = void 0 === h || h,
                            m = r.fallbackPlacements,
                            y = r.padding,
                            g = r.boundary,
                            v = r.rootBoundary,
                            b = r.altBoundary,
                            w = r.flipVariations,
                            _ = void 0 === w || w,
                            E = r.allowedAutoPlacements,
                            S = t.options.placement,
                            C = Object(a.a)(S),
                            A =
                                m ||
                                (C !== S && _
                                    ? (function (e) {
                                          if (Object(a.a)(e) === l.a) return [];
                                          var t = Object(n.a)(e);
                                          return [
                                              Object(i.a)(e),
                                              t,
                                              Object(i.a)(t),
                                          ];
                                      })(S)
                                    : [Object(n.a)(S)]),
                            k = [S].concat(A).reduce(function (e, r) {
                                return e.concat(
                                    Object(a.a)(r) === l.a
                                        ? Object(s.a)(t, {
                                              placement: r,
                                              boundary: g,
                                              rootBoundary: v,
                                              padding: y,
                                              flipVariations: _,
                                              allowedAutoPlacements: E,
                                          })
                                        : r
                                );
                            }, []),
                            x = t.rects.reference,
                            P = t.rects.popper,
                            T = new Map(),
                            L = !0,
                            I = k[0],
                            O = 0;
                        O < k.length;
                        O++
                    ) {
                        var M = k[O],
                            D = Object(a.a)(M),
                            j = Object(c.a)(M) === l.l,
                            R = [l.m, l.c].indexOf(D) >= 0,
                            F = R ? "width" : "height",
                            N = Object(o.a)(t, {
                                placement: M,
                                boundary: g,
                                rootBoundary: v,
                                altBoundary: b,
                                padding: y,
                            }),
                            B = R ? (j ? l.k : l.f) : j ? l.c : l.m;
                        x[F] > P[F] && (B = Object(n.a)(B));
                        var $ = Object(n.a)(B),
                            V = [];
                        if (
                            (p && V.push(N[D] <= 0),
                            f && V.push(N[B] <= 0, N[$] <= 0),
                            V.every(function (e) {
                                return e;
                            }))
                        ) {
                            (I = M), (L = !1);
                            break;
                        }
                        T.set(M, V);
                    }
                    if (L)
                        for (
                            var z = function (e) {
                                    var t = k.find(function (t) {
                                        var r = T.get(t);
                                        if (r)
                                            return r
                                                .slice(0, e)
                                                .every(function (e) {
                                                    return e;
                                                });
                                    });
                                    if (t) return (I = t), "break";
                                },
                                q = _ ? 3 : 1;
                            q > 0 && "break" !== z(q);
                            q--
                        );
                    t.placement !== I &&
                        ((t.modifiersData[u]._skip = !0),
                        (t.placement = I),
                        (t.reset = !0));
                }
            },
            requiresIfExists: ["offset"],
            data: { _skip: !1 },
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            void 0 === t && (t = []);
            var r = Object(a.a)(e),
                c = "body" === Object(o.a)(r),
                u = Object(s.a)(r),
                d = c
                    ? [u].concat(
                          u.visualViewport || [],
                          Object(l.a)(r) ? r : []
                      )
                    : r,
                p = t.concat(d);
            return c ? p : p.concat(n(Object(i.a)(d)));
        }
        t.a = n;
        var a = r(423),
            i = r(81),
            o = r(39),
            s = r(35),
            l = r(127);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return Object.assign(
                Object.assign({}, e),
                {},
                {
                    left: e.x,
                    top: e.y,
                    right: e.x + e.width,
                    bottom: e.y + e.height,
                }
            );
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t,
                r = e.reference,
                s = e.element,
                l = e.placement,
                c = l ? Object(n.a)(l) : null,
                u = l ? Object(a.a)(l) : null,
                d = r.x + r.width / 2 - s.width / 2,
                p = r.y + r.height / 2 - s.height / 2;
            switch (c) {
                case o.m:
                    t = { x: d, y: r.y - s.height };
                    break;
                case o.c:
                    t = { x: d, y: r.y + r.height };
                    break;
                case o.k:
                    t = { x: r.x + r.width, y: p };
                    break;
                case o.f:
                    t = { x: r.x - s.width, y: p };
                    break;
                default:
                    t = { x: r.x, y: r.y };
            }
            var h = c ? Object(i.a)(c) : null;
            if (null != h) {
                var f = "y" === h ? "height" : "width";
                switch (u) {
                    case o.l:
                        t[h] =
                            Math.floor(t[h]) - Math.floor(r[f] / 2 - s[f] / 2);
                        break;
                    case o.e:
                        t[h] =
                            Math.floor(t[h]) + Math.ceil(r[f] / 2 - s[f] / 2);
                }
            }
            return t;
        };
        var n = r(40),
            a = r(83),
            i = r(122),
            o = r(13);
    },
    function (e, t, r) {
        "use strict";
        function n(e, t, r) {
            return (
                void 0 === r && (r = { x: 0, y: 0 }),
                {
                    top: e.top - t.height - r.y,
                    right: e.right - t.width + r.x,
                    bottom: e.bottom - t.height + r.y,
                    left: e.left - t.width - r.x,
                }
            );
        }
        function a(e) {
            return [i.m, i.k, i.c, i.f].some(function (t) {
                return e[t] >= 0;
            });
        }
        var i = r(13),
            o = r(65);
        t.a = {
            name: "hide",
            enabled: !0,
            phase: "main",
            requiresIfExists: ["preventOverflow"],
            fn: function (e) {
                var t = e.state,
                    r = e.name,
                    i = t.rects.reference,
                    s = t.rects.popper,
                    l = t.modifiersData.preventOverflow,
                    c = Object(o.a)(t, { elementContext: "reference" }),
                    u = Object(o.a)(t, { altBoundary: !0 }),
                    d = n(c, i),
                    p = n(u, s, l),
                    h = a(d),
                    f = a(p);
                (t.modifiersData[r] = {
                    referenceClippingOffsets: d,
                    popperEscapeOffsets: p,
                    isReferenceHidden: h,
                    hasPopperEscaped: f,
                }),
                    (t.attributes.popper = Object.assign(
                        Object.assign({}, t.attributes.popper),
                        {},
                        {
                            "data-popper-reference-hidden": h,
                            "data-popper-escaped": f,
                        }
                    ));
            },
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(40),
            a = r(13);
        t.a = {
            name: "offset",
            enabled: !0,
            phase: "main",
            requires: ["popperOffsets"],
            fn: function (e) {
                var t = e.state,
                    r = e.options,
                    i = e.name,
                    o = r.offset,
                    s = void 0 === o ? [0, 0] : o,
                    l = a.h.reduce(function (e, r) {
                        return (
                            (e[r] = (function (e, t, r) {
                                var i = Object(n.a)(e),
                                    o = [a.f, a.m].indexOf(i) >= 0 ? -1 : 1,
                                    s =
                                        "function" == typeof r
                                            ? r(
                                                  Object.assign(
                                                      Object.assign({}, t),
                                                      {},
                                                      { placement: e }
                                                  )
                                              )
                                            : r,
                                    l = s[0],
                                    c = s[1];
                                return (
                                    (l = l || 0),
                                    (c = (c || 0) * o),
                                    [a.f, a.k].indexOf(i) >= 0
                                        ? { x: c, y: l }
                                        : { x: l, y: c }
                                );
                            })(r, t.rects, s)),
                            e
                        );
                    }, {}),
                    c = l[t.placement],
                    u = c.x,
                    d = c.y;
                null != t.modifiersData.popperOffsets &&
                    ((t.modifiersData.popperOffsets.x += u),
                    (t.modifiersData.popperOffsets.y += d)),
                    (t.modifiersData[i] = l);
            },
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(13),
            a = r(40),
            i = r(122),
            o = r(425),
            s = r(174),
            l = r(121),
            c = r(64),
            u = r(65),
            d = r(83),
            p = r(176);
        t.a = {
            name: "preventOverflow",
            enabled: !0,
            phase: "main",
            fn: function (e) {
                var t = e.state,
                    r = e.options,
                    h = e.name,
                    f = r.mainAxis,
                    m = void 0 === f || f,
                    y = r.altAxis,
                    g = void 0 !== y && y,
                    v = r.boundary,
                    b = r.rootBoundary,
                    w = r.altBoundary,
                    _ = r.padding,
                    E = r.tether,
                    S = void 0 === E || E,
                    C = r.tetherOffset,
                    A = void 0 === C ? 0 : C,
                    k = Object(u.a)(t, {
                        boundary: v,
                        rootBoundary: b,
                        padding: _,
                        altBoundary: w,
                    }),
                    x = Object(a.a)(t.placement),
                    P = Object(d.a)(t.placement),
                    T = !P,
                    L = Object(i.a)(x),
                    I = Object(o.a)(L),
                    O = t.modifiersData.popperOffsets,
                    M = t.rects.reference,
                    D = t.rects.popper,
                    j =
                        "function" == typeof A
                            ? A(
                                  Object.assign(
                                      Object.assign({}, t.rects),
                                      {},
                                      { placement: t.placement }
                                  )
                              )
                            : A,
                    R = { x: 0, y: 0 };
                if (O) {
                    if (m) {
                        var F = "y" === L ? n.m : n.f,
                            N = "y" === L ? n.c : n.k,
                            B = "y" === L ? "height" : "width",
                            $ = O[L],
                            V = O[L] + k[F],
                            z = O[L] - k[N],
                            q = S ? -D[B] / 2 : 0,
                            G = P === n.l ? M[B] : D[B],
                            U = P === n.l ? -D[B] : -M[B],
                            H = t.elements.arrow,
                            W =
                                S && H
                                    ? Object(l.a)(H)
                                    : { width: 0, height: 0 },
                            K = t.modifiersData["arrow#persistent"]
                                ? t.modifiersData["arrow#persistent"].padding
                                : Object(p.a)(),
                            Y = K[F],
                            Q = K[N],
                            X = Object(s.a)(0, M[B], W[B]),
                            Z = T ? M[B] / 2 - q - X - Y - j : G - X - Y - j,
                            J = T ? -M[B] / 2 + q + X + Q + j : U + X + Q + j,
                            ee =
                                t.elements.arrow &&
                                Object(c.a)(t.elements.arrow),
                            te = ee
                                ? "y" === L
                                    ? ee.clientTop || 0
                                    : ee.clientLeft || 0
                                : 0,
                            re = t.modifiersData.offset
                                ? t.modifiersData.offset[t.placement][L]
                                : 0,
                            ne = O[L] + Z - re - te,
                            ae = O[L] + J - re,
                            ie = Object(s.a)(
                                S ? Math.min(V, ne) : V,
                                $,
                                S ? Math.max(z, ae) : z
                            );
                        (O[L] = ie), (R[L] = ie - $);
                    }
                    if (g) {
                        var oe = "x" === L ? n.m : n.f,
                            se = "x" === L ? n.c : n.k,
                            le = O[I],
                            ce = le + k[oe],
                            ue = le - k[se],
                            de = Object(s.a)(ce, le, ue);
                        (O[I] = de), (R[I] = de - le);
                    }
                    t.modifiersData[h] = R;
                }
            },
            requiresIfExists: ["offset"],
        };
    },
    function (e, t, r) {
        "use strict";
        r(129);
        var n = r(124),
            a = r(128),
            i = r(123),
            o = r(120);
        n.a, a.a, i.a, o.a;
    },
    function (e, t, r) {
        "use strict";
        function n(e, t, r) {
            var i = e.uuid,
                c = e.type,
                u = e.attributes,
                d = e.events,
                p = e.components.length
                    ? e.components.map(function (e, r) {
                          return n(e, t, r);
                      })
                    : null,
                h = o.default(d),
                f = {};
            return (
                void 0 !== r && null !== r && Object.assign(f, { key: r }),
                Object.assign(
                    f,
                    a(a({ uuid: i, type: l.default(c) }, u), {
                        componentsType: e["components:type"],
                        ctx: t || {},
                    })
                ),
                s.createComponent(c)(f, p, h)
            );
        }
        var a =
                (this && this.__assign) ||
                function () {
                    return (a =
                        Object.assign ||
                        function (e) {
                            for (
                                var t, r = 1, n = arguments.length;
                                r < n;
                                r++
                            ) {
                                t = arguments[r];
                                for (var a in t)
                                    Object.prototype.hasOwnProperty.call(
                                        t,
                                        a
                                    ) && (e[a] = t[a]);
                            }
                            return e;
                        }).apply(this, arguments);
                },
            i =
                (this && this.__importDefault) ||
                function (e) {
                    return e && e.__esModule ? e : { default: e };
                };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.isValidComponent = void 0);
        var o = i(r(187)),
            s = r(131),
            l = i(r(467));
        (t.isValidComponent = function (e) {
            return null !== e && void 0 !== e && 0 !== Object.keys(e).length;
        }),
            (t.default = n);
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(188),
            a = r(132);
        t.default = function (e) {
            var t = {},
                r = Object.values(a.EVENTS);
            for (var i in e)
                if (Object.prototype.hasOwnProperty.call(e, i)) {
                    r.includes(i) || (t[i] = n.createNullCommandBatch());
                    var o = e[i];
                    t[i] = n.createCommandBatch(o);
                }
            return t;
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return function () {
                return Promise.all([Promise.resolve(l.default())]);
            };
        }
        function a(e) {
            if (void 0 === e) return n();
            var t = e.map(function (e) {
                var t = Object.keys(e)[0];
                return i(t, e[t]);
            });
            return function (e) {
                return Promise.all(
                    t.map(function (t) {
                        return t(e);
                    })
                );
            };
        }
        function i(e, t) {
            var r = s.createCommand(e, t),
                n = a(t.success),
                i = a(t.failure);
            return function (e) {
                var t = r(e);
                return (
                    n &&
                        (t = t.then(function (e) {
                            return e && e.stop ? Promise.resolve(e) : n(e);
                        })),
                    i &&
                        (t = t.catch(function (e) {
                            return e && e.stop ? Promise.resolve(e) : i(e);
                        })),
                    t
                );
            };
        }
        var o =
            (this && this.__importDefault) ||
            function (e) {
                return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.createCommandChain = t.createCommandBatch = t.createNullCommandBatch = void 0);
        var s = r(131),
            l = o(r(466));
        (t.createNullCommandBatch = n),
            (t.createCommandBatch = a),
            (t.createCommandChain = i),
            (t.default = { createCommandBatch: a, createCommandChain: i });
    },
    function (e, t, r) {
        "use strict";
        var n = r(1);
        r.n(n);
        t.a = function (e, t) {
            Object(n.useEffect)(
                function () {
                    var r = function (r) {
                        e.current && !e.current.contains(r.target) && t(r);
                    };
                    return (
                        document.addEventListener("mousedown", r),
                        document.addEventListener("touchstart", r),
                        function () {
                            document.removeEventListener("mousedown", r),
                                document.removeEventListener("touchstart", r);
                        }
                    );
                },
                [e, t]
            );
        };
    },
    function (e, t, r) {
        function n(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(e);
                t &&
                    (n = n.filter(function (t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })),
                    r.push.apply(r, n);
            }
            return r;
        }
        function a(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2
                    ? n(Object(r), !0).forEach(function (t) {
                          !(function (e, t, r) {
                              t in e
                                  ? Object.defineProperty(e, t, {
                                        value: r,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                    })
                                  : (e[t] = r);
                          })(e, t, r[t]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(r)
                      )
                    : n(Object(r)).forEach(function (t) {
                          Object.defineProperty(
                              e,
                              t,
                              Object.getOwnPropertyDescriptor(r, t)
                          );
                      });
            }
            return e;
        }
        function i(e, t) {
            t = t || "mweb_social";
            var r = { access_token: e, type: "facebook" };
            $.post(
                "/users/facebook",
                r,
                function (e) {
                    if ("success" != e.error_code)
                        return (
                            $(d).text(e.message),
                            setTimeout(function () {
                                $(d).text("");
                            }, 3e3),
                            dataLayer.push({
                                event: "facebook.failed",
                                pageType: t,
                                userId: "",
                                errorMessage: e.message || "",
                            }),
                            !1
                        );
                    var r = e.data;
                    dataLayer.push({
                        event: "facebook.succeeeded",
                        pageType: t,
                        userId: r.user.id,
                    }),
                        app.scout.login(
                            "appboy",
                            r.user.id,
                            r.user.first_name,
                            r.user.last_name,
                            r.user.email
                        );
                    var n = document.createElement("a");
                    null != app.nextUrlLogin
                        ? ((n.href = app.nextUrlLogin),
                          "#login" ===
                              app.nextUrlLogin.substr(
                                  app.nextUrlLogin.length - 6
                              ) &&
                              (app.nextUrlLogin = n.href.replace("#login", "")),
                          "#register" ===
                              app.nextUrlLogin.substr(
                                  app.nextUrlLogin.length - 9
                              ) &&
                              (app.nextUrlLogin = n.href.replace(
                                  "#register",
                                  ""
                              )),
                          "#fogotPassword" ===
                              app.nextUrlLogin.substr(
                                  app.nextUrlLogin.length - 14
                              ) &&
                              (app.nextUrlLogin = n.href.replace(
                                  "#fogotPassword",
                                  ""
                              )),
                          (window.location.href = app.nextUrlLogin))
                        : window.location.reload();
                },
                "json"
            );
        }
        function o() {
            setTimeout(function () {
                $(".supports.no-touchevents .tab-pane.active")
                    .find("form :input")
                    .filter(":visible:first")
                    .focus();
            }, 200);
        }
        function s() {
            $(".popover-trigger").popover(),
                "undefined" != typeof template &&
                    $(document).ready(function () {
                        $(".fa-credit-card").popover({
                            trigger: "hover",
                            container: "body",
                            placement: "bottom",
                            offset: "0px,15px",
                            html: !0,
                            content: template,
                        });
                    });
        }
        function l(e, t) {
            return { id: e, name: e, position: t + 1 };
        }
        var c = r(31).default;
        (window.EventBus = r(9).default), r(489);
        var u = function () {
            $(".initted").length > 0 ||
                ($("[data-toggle-target]").addClass("initted"),
                $("[data-toggle-target]").on("click", function () {
                    var e = $(this).attr("data-toggle-target"),
                        t = $('[data-toggle-control="' + e + '"]');
                    if (
                        ($(t).toggleClass("active"),
                        $(this).attr("data-alter-text"))
                    ) {
                        var r = $(this).html(),
                            n = $(this).attr("data-alter-text");
                        $(this).html(n), $(this).attr("data-alter-text", r);
                    }
                }),
                s());
        };
        $(document).ready(u),
            $('[data-toggle-target="shops-listing-sorting-pane"]').on(
                "click",
                function (e) {
                    $(".offers-tooltip").length > 0 &&
                        $(".offers-tooltip").remove();
                }
            ),
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            }),
            $(document).on(
                "click",
                "#component-cart .cart-header-upper",
                function () {
                    $(".shop-profile-cart").toggleClass(
                        "shop-profile-cart--minimised"
                    );
                }
            ),
            $("#myModal").on("show.bs.modal", function (e) {
                if (e.relatedTarget) {
                    app.popup.showLoader();
                    var t = $(e.relatedTarget);
                    t.data("modal-class") &&
                        $(this).addClass(t.data("modal-class")),
                        $(this)
                            .find(".modal-content")
                            .load(t.data("url"), function (e, t, r) {
                                "success" === t && app.popup.hideLoader();
                            });
                }
            }),
            $("#myModal").on("hidden.bs.modal", function (e) {
                $(this).find(".modal-content").empty(),
                    $(this).attr("class", "modal hide"),
                    $(this).modal("dispose");
            }),
            $("#component-joker-modal").on("hidden.bs.modal", function (e) {
                window.ComponentJoker && window.ComponentJoker.unMountModal(),
                    $(this).hasClass("expired") && window.location.reload();
            }),
            $("#component-cart-modal").on("hidden.bs.modal", function (e) {
                window.ComponentCart && window.ComponentCart.unMountModal();
            }),
            $("#component-cart-modal").on("show.bs.modal", function (e) {
                app.popup.hideLoader();
            }),
            $(".logout-btn").on("click", function (e) {
                app.logout(e);
            }),
            app.userLoggedIn ||
                ("#login" == window.location.hash.substring(0, 6)
                    ? app.popup.openUserLogin()
                    : "#register" == window.location.hash.substring(0, 9)
                    ? app.popup.openUserRegister()
                    : "#fogotPassword" ==
                          window.location.hash.substring(0, 14) &&
                      app.popup.openForgotPassword());
        $("form.login-form");
        var d = ".social-login-error .alert";
        $(document).on("click", ".facebook_login", function () {
            var e = "mweb_social";
            $(this).hasClass("sign-in-btn") && (e = "login"),
                $(this).hasClass("sign-up-btn") && (e = "register"),
                dataLayer.push({
                    event: "facebook.started",
                    userId: "",
                    pageType: e,
                }),
                FB.login(
                    function (t) {
                        if ("connected" === t.status) {
                            var r = t.authResponse.accessToken;
                            if (
                                t.authResponse.grantedScopes
                                    .split(",")
                                    .indexOf("email") > -1
                            )
                                return (
                                    app.popup.showLoader(),
                                    dataLayer.push({
                                        event: "facebook.completed",
                                        userId: "",
                                        pageType: e,
                                    }),
                                    void i(r, e)
                                );
                            $(".facebook_reprompt").removeClass("d-none"),
                                $(".facebook_login").addClass("d-none"),
                                setTimeout(function () {
                                    $(d).text("");
                                }, 3e3);
                        }
                    },
                    { scope: "public_profile,email", return_scopes: !0 }
                );
        }),
            $(document).on("click", ".facebook_reprompt", function () {
                var e = "mweb_social";
                $(this).hasClass("sign-in-btn") && (e = "login_modal"),
                    $(this).hasClass("sign-up-btn") && (e = "register"),
                    FB.login(
                        function (t) {
                            if ("connected" === t.status) {
                                var r = t.authResponse.accessToken;
                                t.authResponse.grantedScopes
                                    .split(",")
                                    .indexOf("email") > -1 && i(r, e);
                            }
                        },
                        {
                            scope: "public_profile,email",
                            return_scopes: !0,
                            auth_type: "rerequest",
                        }
                    );
            }),
            $(document).on("click", ".facebook_register", function () {
                var e = "mweb_social";
                $(this).hasClass("sign-in-btn") && (e = "login_modal"),
                    $(this).hasClass("sign-up-btn") && (e = "register"),
                    FB.login(
                        function (t) {
                            if ("connected" === t.status) {
                                var r = t.authResponse.accessToken,
                                    n = t.authResponse.grantedScopes.split(",");
                                app.popup.showLoader();
                                if (n.indexOf("email") > -1)
                                    return void i(r, e);
                                $(".facebook_register_reprompt").removeClass(
                                    "d-none"
                                ),
                                    $(".facebook_register").addClass("d-none"),
                                    app.popup.hideLoader(),
                                    setTimeout(function () {
                                        $(d).text("");
                                    }, 3e3);
                            }
                        },
                        { scope: "public_profile,email", return_scopes: !0 }
                    );
            }),
            $(document).on("click", ".facebook_register_reprompt", function () {
                var e = "mweb_social";
                $(this).hasClass("sign-in-btn") && (e = "login"),
                    $(this).hasClass("sign-up-btn") && (e = "register"),
                    FB.login(
                        function (t) {
                            if ("connected" === t.status) {
                                var r = t.authResponse.accessToken;
                                t.authResponse.grantedScopes
                                    .split(",")
                                    .indexOf("email") > -1 &&
                                    (app.popup.showLoader(), i(r, e));
                            }
                        },
                        {
                            scope: "public_profile,email",
                            return_scopes: !0,
                            auth_type: "rerequest",
                        }
                    );
            }),
            $(document).on("click", ".button-google-login", function () {
                var e = "mweb_social";
                $(this).hasClass("sign-in-btn") && (e = "login"),
                    $(this).hasClass("sign-up-btn") && (e = "register");
                var t = this.id;
                window.gapi.auth2
                    .getAuthInstance()
                    .signIn()
                    .then(function (r) {
                        !(function (e, t, r) {
                            r = r || "mweb_social";
                            var n = e.getAuthResponse().id_token;
                            if (n) {
                                var a = { access_token: n, type: "google" };
                                $.post(
                                    "/users/google",
                                    a,
                                    function (e) {
                                        if ("success" != e.error_code)
                                            return (
                                                $(d).text(e.error_message),
                                                setTimeout(function () {
                                                    $(d).text("");
                                                }, 3e3),
                                                "google_login" === t &&
                                                    (loginEvent =
                                                        "google.failed"),
                                                "google_register" === t &&
                                                    (loginEvent =
                                                        "google.failed"),
                                                void (
                                                    "undefined" !=
                                                        typeof loginEvent &&
                                                    dataLayer.push({
                                                        event: loginEvent,
                                                        pageType: r,
                                                        errorMessage:
                                                            e.error_message ||
                                                            "",
                                                        userId: "",
                                                    })
                                                )
                                            );
                                        var n = e.data;
                                        "google_login" === t &&
                                            (loginEvent = "login.succeeded"),
                                            "google_register" === t &&
                                                (loginEvent =
                                                    "register.succeeded"),
                                            "undefined" != typeof loginEvent &&
                                                dataLayer.push({
                                                    event: "google.succeeded",
                                                    pageType: r,
                                                    userId: n.user.id,
                                                }),
                                            app.scout.login(
                                                "appboy",
                                                n.user.id,
                                                n.user.first_name,
                                                n.user.last_name,
                                                n.user.email
                                            );
                                        var a = document.createElement("a");
                                        null != app.nextUrlLogin
                                            ? ((a.href = app.nextUrlLogin),
                                              "#login" ===
                                                  app.nextUrlLogin.substr(
                                                      app.nextUrlLogin.length -
                                                          6
                                                  ) &&
                                                  (app.nextUrlLogin = a.href.replace(
                                                      "#login",
                                                      ""
                                                  )),
                                              "#register" ===
                                                  app.nextUrlLogin.substr(
                                                      app.nextUrlLogin.length -
                                                          9
                                                  ) &&
                                                  (app.nextUrlLogin = a.href.replace(
                                                      "#register",
                                                      ""
                                                  )),
                                              "#fogotPassword" ===
                                                  app.nextUrlLogin.substr(
                                                      app.nextUrlLogin.length -
                                                          14
                                                  ) &&
                                                  (app.nextUrlLogin = a.href.replace(
                                                      "#fogotPassword",
                                                      ""
                                                  )),
                                              (window.location.href =
                                                  app.nextUrlLogin))
                                            : window.location.reload();
                                    },
                                    "json"
                                );
                            }
                        })(r, t, e);
                    });
            }),
            $(document).on("input", "#register_email", function () {
                var e = $(this).val().substring(0, $(this).val().indexOf("@"));
                "" == e && (e = $(this).val()),
                    $("#username").length > 0 && $("#username").val(e);
            }),
            $(document).on(
                "shown.bs.tab",
                '.login-register-tablist a[data-toggle="tab"]',
                function () {
                    dataLayer.push({
                        event: "login.started",
                        userId: "",
                        pageType: "email",
                    }),
                        $(".login-register-tab-content .tab-pane").each(
                            function (e, t) {
                                $(t).find("form")[0].reset();
                            }
                        ),
                        $(
                            ".register-error-message, .tab-pane.active form .alert.alert-warning, .tab-pane.active form .form-text.form-error"
                        )
                            .text("")
                            .hide(),
                        o();
                }
            ),
            o(),
            $(document).on(
                "shown.bs.tab",
                '.go-to-login a[data-toggle="tab"]',
                function (e) {
                    var t = "login.started";
                    $(e.target).hasClass("form-registration-tab") &&
                        (t = "register.started"),
                        dataLayer.push({
                            event: t,
                            userId: "",
                            pageType: "email",
                        });
                }
            );
        $(document).on("click", ".signup_popover", function () {
            $(this).parent().popover("toggle");
        }),
            $("html").on("mouseup", function (e) {
                var t = $(e.target);
                "string" == typeof t[0].className &&
                    -1 == t[0].className.indexOf("popover") &&
                    $(".popover").each(function () {
                        $(this).popover("hide");
                    });
            });
        $.validate({
            form: "#checkout-user-details-form",
            scrollToTopOnError: !1,
            onSuccess: function (e) {
                return efoodLib.checkout.validate(), !1;
            },
            onError: function () {
                window.ComponentCart.unlock(),
                    $("html, body").animate(
                        { scrollTop: $(".has-error").offset().top - 100 },
                        500
                    );
            },
        }),
            $("#component-cart").on(
                "click",
                ".cart-product-list-item-info--offer-info-wrapper",
                function () {
                    $(this).toggleClass("offer-expanded"),
                        $(this)
                            .siblings(".cart-product-list-item--offer-list")
                            .toggle();
                }
            ),
            $(".shop-profile-header-shop-info--favorite-btn").on(
                "click",
                function (e) {
                    e.preventDefault();
                    var t = new efoodAPI(),
                        r = $(this).data("restaurant_id"),
                        n = $(".fa-heart", this),
                        a = $(".text-red", this).length ? "remove" : "add";
                    t.post(
                        "/user/restaurants/" + r + "/favorite",
                        { action: a },
                        function (e) {
                            "success" == e.error_code &&
                                $(n).toggleClass("text-muted text-red");
                        }
                    );
                }
            ),
            $(document).ready(s);
        var p = $(".stickyfill");
        Stickyfill.add(p);
        var h = function () {
            $(".featured-item").on("click", function () {
                var e = $(this).data("shop-url"),
                    t = $(this).data("item-code"),
                    r = $(this).data("shop-id");
                window.location.href = e + "?item_code=" + t + "&shop_id=" + r;
            });
        };
        h();
        var f = window.location.href.split("#");
        "pills-ratings" === f[f.length - 1] &&
            ($('#pills-tab a[href="#pills-ratings"]').tab("show"),
            setTimeout(function () {
                $("html, body").animate(
                    { scrollTop: $("#pills-tab").offset().top },
                    500
                );
            }, 300)),
            $(".translation-dropdown-menu").click(function (e) {
                e.stopPropagation();
            }),
            void 0 != $.cookie("language") &&
                $(
                    "#" +
                        $.cookie("language").replace(
                            /(:|\.|\[|\]|,|=|@)/g,
                            "\\$1"
                        )
                ).prop("checked", !0),
            $(".translate-button").on("click", function (e) {
                e.preventDefault(),
                    $(this).find("input").prop("checked", !0),
                    app.popup.showLoader();
                var t = $(this).attr("data-lang");
                $.cookie("language", t, { expires: 90, path: "/", secure: !0 }),
                    dataLayer.push({
                        event: "language.selected",
                        languageSelected: t,
                        pagetype: dataLayer[0].pageType,
                    }),
                    window.location.reload();
            }),
            (window.componentCartUnlock = function () {
                void 0 != window.ComponentCart && window.ComponentCart.unlock();
            });
        $(".homepage-see-more-slider").slick({
            lazyLoad: "ondemand",
            infinite: !1,
            slidesToShow: 4,
            slidesToScroll: 4,
            appendArrows: ".homepage-see-more-slider-controls",
            prevArrow:
                '<button type="button" class="slick-prev btn btn-secondary box-shadow d-flex p-0 mr-5"><i class="m-auto h-50 text-muted fas fa-chevron-left"></i></button>',
            nextArrow:
                '<button type="button" class="slick-next btn btn-secondary box-shadow d-flex p-0"><i class="m-auto h-50 text-muted fas fa-chevron-right"></i></button>',
            responsive: [
                {
                    breakpoint: 992,
                    settings: { slidesToShow: 3, slidesToScroll: 3 },
                },
                {
                    breakpoint: 768,
                    settings: { slidesToShow: 2, slidesToScroll: 2 },
                },
                {
                    breakpoint: 480,
                    settings: { slidesToShow: 1.5, slidesToScroll: 1 },
                },
                {
                    breakpoint: 420,
                    settings: { slidesToShow: 1.25, slidesToScroll: 1 },
                },
            ],
        }),
            $(".homepage-new-shops-slider").slick({
                infinite: !1,
                slidesToShow: 4,
                slidesToScroll: 1,
                appendArrows: ".homepage-new-shops-slider-controlls",
                prevArrow:
                    '<button type="button" class="slick-prev btn btn-secondary box-shadow d-flex p-0 mr-5"><i class="m-auto h-50 text-muted fas fa-chevron-left"></i></button>',
                nextArrow:
                    '<button type="button" class="slick-next btn btn-secondary box-shadow d-flex p-0"><i class="m-auto h-50 text-muted fas fa-chevron-right"></i></button>',
                responsive: [
                    { breakpoint: 992, settings: { slidesToShow: 3 } },
                    { breakpoint: 768, settings: { slidesToShow: 2 } },
                ],
            }),
            $(".homepage-new-shops-slider-mweb").slick({
                infinite: !1,
                slidesToShow: 2.5,
                slidesToScroll: 1,
                appendArrows: ".homepage-new-shops-slider-controls-mweb",
                prevArrow:
                    '<button type="button" class="slick-prev btn btn-secondary box-shadow d-flex p-0 mr-5"><i class="m-auto h-50 text-muted fas fa-chevron-left"></i></button>',
                nextArrow:
                    '<button type="button" class="slick-next btn btn-secondary box-shadow d-flex p-0"><i class="m-auto h-50 text-muted fas fa-chevron-right"></i></button>',
            });
        (e.exports = {
            showAlert: function (e, t, r, n, a) {
                (n = void 0 === n || n), (a = void 0 !== a && a);
                var i = "alert-success",
                    o = "alert-danger";
                "fail" == e && ((i = "alert-danger"), (o = "alert-success")),
                    t
                        .addClass(i + " d-block")
                        .removeClass(o + " d-none")
                        .text(r),
                    n &&
                        setTimeout(function () {
                            t.fadeOut(300, function () {
                                t.addClass("d-none").removeClass("d-block");
                            });
                        }, 700),
                    a && window.location.reload();
            },
            validateUserAccess: function (e) {
                return (
                    $.validate({
                        form: e,
                        modules: "security",
                        scrollToTopOnError: !1,
                        validateOnBlur: !1,
                        onError: function (e) {
                            return !1;
                        },
                        onSuccess: function (e) {
                            return (
                                $(e).hasClass("login-form")
                                    ? (function (e) {
                                          $(
                                              ".login-error-message, .register-error-message"
                                          ).hide();
                                          var t = $(e).serializeJSON();
                                          t &&
                                              (app.popup.showLoader(),
                                              $.post(
                                                  "/users/login",
                                                  t,
                                                  function (e) {
                                                      if (
                                                          "success" !=
                                                          e.error_code
                                                      ) {
                                                          var t = $(
                                                              ".login-error-message.form-error"
                                                          );
                                                          return (
                                                              $(t)
                                                                  .text(
                                                                      e.message
                                                                  )
                                                                  .show(),
                                                              dataLayer.push({
                                                                  event:
                                                                      "login.failed",
                                                                  registrationType:
                                                                      "email",
                                                                  pageType:
                                                                      "email",
                                                                  userId: "",
                                                              }),
                                                              void app.popup.hideLoader()
                                                          );
                                                      }
                                                      var r = e.data;
                                                      dataLayer.push({
                                                          event:
                                                              "login.succeeded",
                                                          pageType: "email",
                                                          userId: r.user.id,
                                                      }),
                                                          app.scout.login(
                                                              "appboy",
                                                              r.user.id,
                                                              r.user.first_name,
                                                              r.user.last_name,
                                                              r.user.email
                                                          );
                                                      var n = document.createElement(
                                                          "a"
                                                      );
                                                      null != app.nextUrlLogin
                                                          ? ((n.href =
                                                                app.nextUrlLogin),
                                                            "#login" ===
                                                                app.nextUrlLogin.substr(
                                                                    app
                                                                        .nextUrlLogin
                                                                        .length -
                                                                        6
                                                                ) &&
                                                                (app.nextUrlLogin = n.href.replace(
                                                                    "#login",
                                                                    ""
                                                                )),
                                                            "#register" ===
                                                                app.nextUrlLogin.substr(
                                                                    app
                                                                        .nextUrlLogin
                                                                        .length -
                                                                        9
                                                                ) &&
                                                                (app.nextUrlLogin = n.href.replace(
                                                                    "#register",
                                                                    ""
                                                                )),
                                                            "#fogotPassword" ===
                                                                app.nextUrlLogin.substr(
                                                                    app
                                                                        .nextUrlLogin
                                                                        .length -
                                                                        14
                                                                ) &&
                                                                (app.nextUrlLogin = n.href.replace(
                                                                    "#fogotPassword",
                                                                    ""
                                                                )),
                                                            (window.location.href =
                                                                app.nextUrlLogin))
                                                          : window.location.reload();
                                                  },
                                                  "json"
                                              ));
                                      })(e)
                                    : $(e).hasClass("register-form")
                                    ? (function (e) {
                                          $(
                                              ".login-error-message, .register-error-message"
                                          ).hide();
                                          var t = $(e).serializeJSON();
                                          (t.email_repeat = t.email),
                                              t &&
                                                  t.email &&
                                                  (app.popup.showLoader(),
                                                  $.post(
                                                      "/users/register",
                                                      t,
                                                      function (e) {
                                                          if (
                                                              "success" !=
                                                              e.error_code
                                                          ) {
                                                              var t = $(
                                                                  ".register-error-message"
                                                              );
                                                              return (
                                                                  $(t)
                                                                      .text(
                                                                          e.message
                                                                      )
                                                                      .show(),
                                                                  dataLayer.push(
                                                                      {
                                                                          event:
                                                                              "register.failed",
                                                                          registrationType:
                                                                              "email",
                                                                          pageType:
                                                                              "email",
                                                                          userId:
                                                                              "",
                                                                      }
                                                                  ),
                                                                  app.popup.hideLoader(),
                                                                  void $(
                                                                      ".register-form input"
                                                                  )
                                                                      .removeClass(
                                                                          "valid"
                                                                      )
                                                                      .addClass(
                                                                          "error"
                                                                      )
                                                              );
                                                          }
                                                          var r = e.data;
                                                          dataLayer.push({
                                                              event:
                                                                  "register.completed",
                                                              registrationType:
                                                                  "email",
                                                              pageType: "email",
                                                              userId: r.user.id,
                                                          }),
                                                              app.scout.login(
                                                                  "appboy",
                                                                  r.user.id,
                                                                  r.user
                                                                      .first_name,
                                                                  r.user
                                                                      .last_name,
                                                                  r.user.email
                                                              ),
                                                              app.scout.customAttribute(
                                                                  "web_user_status",
                                                                  "prospect"
                                                              ),
                                                              dataLayer.push({
                                                                  event:
                                                                      "newUser",
                                                                  vpv:
                                                                      "/new-user-registered",
                                                              }),
                                                              setTimeout(
                                                                  function () {
                                                                      var e =
                                                                          app.nextUrlLogin ||
                                                                          document
                                                                              .location
                                                                              .href;
                                                                      "#login" ===
                                                                          e.substr(
                                                                              location
                                                                                  .href
                                                                                  .length -
                                                                                  6
                                                                          ) &&
                                                                          (e = e.replace(
                                                                              "#login",
                                                                              ""
                                                                          )),
                                                                          (document.location.href = e);
                                                                  },
                                                                  100
                                                              );
                                                      },
                                                      "json"
                                                  ));
                                      })(e)
                                    : $(e).hasClass("forgot-password-form") &&
                                      (function (e) {
                                          var t = e.find("#forgot_email").val(),
                                              r = new efoodAPI();
                                          app.popup.showLoader();
                                          var n = { email: t, html: 1 };
                                          r.post(
                                              "/user/reset_password",
                                              n,
                                              function (t) {
                                                  if (
                                                      (app.popup.hideLoader(),
                                                      $(
                                                          ".forgot-password-info"
                                                      ).remove(),
                                                      "success" != t.error_code)
                                                  )
                                                      return (
                                                          $(
                                                              ".alert-warning"
                                                          ).removeClass(
                                                              "d-none"
                                                          ),
                                                          void $(
                                                              ".alert-success"
                                                          ).addClass("d-none")
                                                      );
                                                  e.remove(),
                                                      $(
                                                          ".alert-success"
                                                      ).removeClass("d-none"),
                                                      $(
                                                          ".alert-warning"
                                                      ).addClass("d-none");
                                              },
                                              !0
                                          );
                                      })(e),
                                !1
                            );
                        },
                    }),
                    !1
                );
            },
            renderInputMask: function () {
                $("#birth_date").inputmask({
                    showMaskOnHover: !1,
                    clearIncomplete: !0,
                    alias: "date",
                    oncomplete: function () {
                        var e = $("#birth_date").val().split("/"),
                            t = e[2] + "-" + e[1] + "-" + e[0],
                            r = new Date(t),
                            n =
                                r.getFullYear() >= 1928 &&
                                r.getFullYear() <= new Date().getFullYear(),
                            a = document.querySelector("#birth_date");
                        if (!n)
                            return (a.value = ""), void (updateBirthDate = !1);
                        a.setAttribute("data-date", t);
                        var i = document.querySelector("#age-consent");
                        !(function (e) {
                            var t = e.getFullYear() + 18,
                                r = e.getMonth(),
                                n = e.getDate();
                            return new Date(t, r, n) <= new Date();
                        })(r)
                            ? i.removeAttribute("checked", "checked")
                            : i.setAttribute("checked", "checked"),
                            (updateBirthDate = !0);
                    },
                    onincomplete: function () {
                        $("#birth_date").attr("data-date", "");
                    },
                });
            },
            initDataToogle: u,
            initFeaturedDishedSlick: function () {
                $(".featured-items-wrapper") &&
                    $(".featured-items")
                        .on({
                            init: function () {
                                $(".featured-items-wrapper").addClass("ready");
                            },
                        })
                        .slick({
                            infinite: !1,
                            slidesToShow: 3.6,
                            slidesToScroll: 1,
                            dots: !1,
                            lazyLoad: "ondemand",
                            nextArrow:
                                '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-next"><i class="m-auto fa fa-angle-right fa-lg"></i></button>',
                            prevArrow:
                                '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-prev"><i class="m-auto fa fa-angle-left fa-lg"></i></button>',
                            responsive: [
                                {
                                    breakpoint: 769,
                                    settings: { slidesToShow: 2 },
                                },
                            ],
                        });
            },
            initFeaturedDishedListeners: h,
            shortcutReorderViewEvent: function () {
                $(document).ready(function () {
                    var e = $(".menu-reorder");
                    if (e.length > 0) {
                        var t = [];
                        e.each(function (e, r) {
                            var n = l("Reorder", e);
                            t.push(n);
                        }),
                            dataLayer.push({
                                event: "promoView",
                                ecommerce: {
                                    currencyCode: app.ga_currency,
                                    promoView: { promotions: t },
                                },
                            });
                    }
                });
            },
            initReordersSlick: function () {
                var e = $(".smart-assistant-reorder-list-rlp");
                e &&
                    e.slick({
                        infinite: !1,
                        slidesToShow: 8,
                        slidesToScroll: 1,
                        variableWidth: !0,
                        variableHeight: !0,
                        dots: !1,
                        touchThreshold: 300,
                        lazyLoad: "ondemand",
                        nextArrow:
                            '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-next"><i class="m-auto fa fa-angle-right fa-lg"></i></button>',
                        prevArrow:
                            '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-prev"><i class="m-auto fa fa-angle-left fa-lg"></i></button>',
                        responsive: [
                            { breakpoint: 1024, settings: { slidesToShow: 8 } },
                            {
                                breakpoint: 560,
                                settings: { slidesToShow: 4.5 },
                            },
                            { breakpoint: 480, settings: { slidesToShow: 4 } },
                        ],
                    });
            },
        }),
            $(".menu-reorders-slider") &&
                ($(".menu-reorders")
                    .on({
                        init: function () {
                            $(".menu-reorders-slider").addClass("ready");
                        },
                    })
                    .slick({
                        infinite: !1,
                        slidesToShow: 2,
                        slidesToScroll: 1,
                        dots: !1,
                        appendArrows: ".menu-reorders-slider-controls",
                        prevArrow:
                            '<button type="button" class="slick-prev btn btn-secondary box-shadow d-flex p-0 mr-5"><i class="m-auto text-muted fas fa-chevron-left"></i></button>',
                        nextArrow:
                            '<button type="button" class="slick-next btn btn-secondary box-shadow d-flex p-0"><i class="m-auto text-muted fas fa-chevron-right"></i></button>',
                        responsive: [
                            {
                                breakpoint: 768,
                                settings: { slidesToShow: 1.2 },
                            },
                        ],
                    }),
                $(".menu-reorder").on("click", function () {
                    var e = $(this).data(),
                        t = $(this).index();
                    void 0 !== e.order_id &&
                        (window.ComponentCart.mountReorderModal(e.order_id),
                        dataLayer.push({
                            event: "promotionClick",
                            eventLabel: "reorder",
                            ecommerce: {
                                promoClick: { promotions: [l("Reorder", t)] },
                            },
                        }));
                })),
            (function () {
                var e = document.querySelectorAll(".carousel-wrapper");
                e &&
                    (e = Array.prototype.slice.call(e)).forEach(function (e) {
                        var t,
                            r = $(e).data().type;
                        1 === r &&
                            (t = {
                                appendArrows: "#".concat(
                                    e.dataset.carouselId,
                                    "-controls"
                                ),
                                prevArrow:
                                    '<button type="button" class="slick-prev btn btn-secondary shadow-2 border-0 rounded-circle d-flex p-0 mr-5"><i class="m-auto h-50 text-muted fas fa-chevron-left" style="margin-top:9px!important;margin-left:10px!important;"></i></button>',
                                nextArrow:
                                    '<button type="button" class="slick-next btn btn-secondary shadow-2 border-0 rounded-circle d-flex p-0"><i class="m-auto h-50 text-muted fas fa-chevron-right" style="margin-top:10px!important;margin-left:12px!important;"></i></button>',
                            }),
                            2 === r &&
                                (t = {
                                    nextArrow:
                                        '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-next btn btn-link"><i class="m-auto fa fa-angle-right fa-lg"></i></button>',
                                    prevArrow:
                                        '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-prev btn btn-link"><i class="m-auto fa fa-angle-left fa-lg"></i></button>',
                                });
                        var n = {
                            infinite: !1,
                            slidesToShow: parseInt(e.dataset.slides),
                            slidesToScroll: 1,
                            dots: !1,
                            responsive: [
                                {
                                    breakpoint: 1024,
                                    settings: {
                                        slidesToShow: 2.5,
                                        slidesToScroll: 2,
                                    },
                                },
                                {
                                    breakpoint: 680,
                                    settings: {
                                        slidesToShow: 1.8,
                                        slidesToScroll: 1,
                                    },
                                },
                                {
                                    breakpoint: 480,
                                    settings: {
                                        slidesToShow: 1.2,
                                        slidesToScroll: 1,
                                    },
                                },
                            ],
                        };
                        $(e.children[0]).slick(a(a({}, n), t));
                    });
            })(),
            $('a[data-toggle="tab"], a[data-toggle="pill"]').on(
                "shown.bs.tab",
                function () {
                    document
                        .querySelectorAll(".carousel-items")
                        .forEach(function (e) {
                            $(e).slick("refresh");
                        });
                }
            ),
            $(document).ready(function () {
                if (
                    app.displaySmartBanner &&
                    "undefined" != typeof Smartbanner
                ) {
                    var e = document.querySelector("#smartbanner-container");
                    new Smartbanner().attach("#smartbanner-container"),
                        setTimeout(function () {
                            var t = document.querySelector("#newSb_btn_close");
                            if (t) {
                                e.classList.remove("d-none");
                                var r = document.querySelector(".site-header");
                                r.classList.add("smartbanner-offset"),
                                    t.addEventListener("click", function () {
                                        r.classList.remove(
                                            "smartbanner-offset"
                                        );
                                    });
                            }
                        }, 1500);
                }
            }),
            $(document).on("click", ".show-hide-password", function () {
                var e = $(this).prev(),
                    t = $(this).find("i");
                "password" === e.attr("type")
                    ? (e.attr("type", "text"),
                      t.attr("class", "fas fa-eye-slash text-grey"))
                    : (e.attr("type", "password"),
                      t.attr("class", "fas fa-eye text-grey"));
            }),
            (howItWorksTrigger = function () {
                if (!app.userLoggedIn) {
                    var e = document.querySelector("#how-it-works"),
                        t = document.querySelectorAll(".how-it-works-trigger"),
                        r = Array.prototype.slice.call(t);
                    setTimeout(function () {
                        e.classList.remove("d-none");
                    }, 500),
                        r.forEach(function (t) {
                            t.addEventListener("click", function (t) {
                                t.preventDefault(),
                                    e.classList.toggle("active");
                            });
                        });
                }
            }),
            ("homepage" != app.pageController &&
                "delivery" != app.pageController) ||
                howItWorksTrigger(),
            $(".filter-banners-banner").length > 3 &&
                $(".filter-banners").slick({
                    infinite: !1,
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    lazyLoad: "ondemand",
                    nextArrow:
                        '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-next"><i class="m-auto fa fa-angle-right fa-lg"></i></button>',
                    prevArrow:
                        '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-prev"><i class="m-auto fa fa-angle-left fa-lg"></i></button>',
                    responsive: [
                        { breakpoint: 992, settings: { slidesToShow: 3.5 } },
                        { breakpoint: 480, settings: { slidesToShow: 2.5 } },
                    ],
                }),
            $(document).ready(function () {
                Array.prototype.slice
                    .call(document.querySelectorAll(".country-selection"))
                    .forEach(function (e) {
                        e.addEventListener("click", function (t) {
                            var r = document.getElementById(
                                    "translationDropdownMenuLink"
                                ).dataset.country,
                                n = e.dataset.country;
                            if (n && (!r || r !== n)) {
                                if (
                                    window.ComponentCart &&
                                    window.ComponentCart.state &&
                                    window.ComponentCart.state.joker
                                )
                                    return (
                                        t.preventDefault(),
                                        (app.link_joker_abandon = "/"),
                                        (app.country_joker_abandoned = n),
                                        window.ComponentCart.mountJokerModalAbandon(),
                                        void efoodLib.jokerGA.sendAbandonStarted(
                                            window.ComponentCart.state.joker
                                        )
                                    );
                                dataLayer.push({
                                    event: "country.changed",
                                    countrySelected: n,
                                    locationCountry:
                                        dataLayer[0].userAddressCountry,
                                    pagetype: dataLayer[0].pageType,
                                    userId: dataLayer[0].userId,
                                }),
                                    $.cookie("efcountry", n, {
                                        expires: 730,
                                        path: "/",
                                    }),
                                    window.location.replace("/");
                            }
                        });
                    });
            }),
            "objectFit" in document.documentElement.style ||
                document.addEventListener("DOMContentLoaded", function () {
                    Array.prototype.forEach.call(
                        document.querySelectorAll("img[data-object-fit]"),
                        function (e) {
                            ((
                                e.runtimeStyle || e.style
                            ).background = 'url("'
                                .concat(e.src, '") no-repeat 50%/')
                                .concat(
                                    e.currentStyle
                                        ? e.currentStyle["object-fit"]
                                        : e.getAttribute("data-object-fit")
                                )),
                                (e.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"
                                    .concat(e.width, "' height='")
                                    .concat(e.height, "'%3E%3C/svg%3E"));
                        }
                    );
                }),
            document.getElementById("address-form-component") &&
                document.addEventListener("DOMContentLoaded", function () {
                    efoodLib.initializeAddressComponent();
                }),
            $(document).ready(function () {
                c.dynamic.process();
            });
    },
    function (e, t, r) {
        "use strict";
        t.a = {
            is: function (e) {
                var t = window.app.pageController;
                return Array.isArray(e)
                    ? e.reduce(function (e, r) {
                          return e || r === t;
                      }, !1)
                    : t === e;
            },
            SHOP_PROFILE: "menu",
            CHECKOUT: "order_form",
        };
    },
    function (e, t) {
        function r(e) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return n(e);
                })(e) ||
                (function (e) {
                    if (
                        "undefined" != typeof Symbol &&
                        Symbol.iterator in Object(e)
                    )
                        return Array.from(e);
                })(e) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return n(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return n(e, t);
                })(e) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function n(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        if ("order_form" == app.pageController) {
            var a = function (e) {
                var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                    n = (function (e) {
                        var t = i[e],
                            n = document.querySelectorAll(
                                ".order-attribute-checkbox"
                            );
                        return Array.prototype.slice
                            .call(n)
                            .map(function (e) {
                                var r = e.querySelector(
                                        ".order-attribute-action"
                                    ),
                                    n = r.dataset.paymentMethods
                                        .split(", ")
                                        .includes(t),
                                    a = [],
                                    i = [],
                                    o = r.querySelector(
                                        ".order-attribute-action-input"
                                    );
                                return o
                                    ? (n
                                          ? (r.classList.remove("d-none"),
                                            o.checked &&
                                                i.push({
                                                    value: o.checked,
                                                    key:
                                                        r.dataset
                                                            .orderAttribute,
                                                    description: void 0,
                                                }))
                                          : (r.classList.add("d-none"),
                                            (o.checked = !1),
                                            a.push({
                                                value: o.checked,
                                                key: r.dataset.orderAttribute,
                                                description: void 0,
                                            })),
                                      { remove: a, insert: i })
                                    : { remove: a, insert: i };
                            })
                            .reduce(
                                function (e, t) {
                                    return (
                                        (e.remove = [].concat(
                                            r(e.remove),
                                            r(t.remove)
                                        )),
                                        (e.insert = [].concat(
                                            r(e.insert),
                                            r(t.insert)
                                        )),
                                        e
                                    );
                                },
                                { remove: [], insert: [] }
                            );
                    })(e),
                    a = (function (e) {
                        var t = i[e],
                            n = document.querySelectorAll(
                                ".order-attribute-list"
                            );
                        return Array.prototype.slice
                            .call(n)
                            .map(function (e) {
                                var r = e.querySelector(
                                        ".order-attribute-action"
                                    ),
                                    n = r.dataset.paymentMethods
                                        .split(", ")
                                        .includes(t),
                                    a = [],
                                    i = [],
                                    o = r.querySelector(
                                        ".order-attribute-action-input"
                                    );
                                return o
                                    ? (n
                                          ? (r.classList.remove("d-none"),
                                            0 !==
                                                Number(
                                                    o.dataset
                                                        .orderAttributeOptionValue
                                                ) &&
                                                i.push({
                                                    key:
                                                        o.dataset
                                                            .orderAttributeOptionKey,
                                                    value:
                                                        o.dataset
                                                            .orderAttributeOptionValue,
                                                    description:
                                                        o.dataset
                                                            .orderAttributeOptionDescription,
                                                }))
                                          : (r.classList.add("d-none"),
                                            a.push({
                                                key:
                                                    o.dataset
                                                        .orderAttributeOptionKey,
                                                value:
                                                    o.dataset
                                                        .orderAttributeOptionValue,
                                                description:
                                                    o.dataset
                                                        .orderAttributeOptionDescription,
                                            }),
                                            Array.prototype.slice
                                                .call(
                                                    r.querySelectorAll(
                                                        ".order-attribute-list-option"
                                                    )
                                                )
                                                .forEach(function (e) {
                                                    return e.classList.remove(
                                                        "active"
                                                    );
                                                }),
                                            (o.dataset.orderAttributeOptionKey = 0),
                                            (o.dataset.orderAttributeOptionValue = 0),
                                            (o.dataset.orderAttributeOptionDescription = 0),
                                            r.q),
                                      { remove: a, insert: i })
                                    : { remove: [], insert: [] };
                            })
                            .reduce(
                                function (e, t) {
                                    return (
                                        (e.remove = [].concat(
                                            r(e.remove),
                                            r(t.remove)
                                        )),
                                        (e.insert = [].concat(
                                            r(e.insert),
                                            r(t.insert)
                                        )),
                                        e
                                    );
                                },
                                { remove: [], insert: [] }
                            );
                    })(e),
                    o = {
                        remove: [].concat(r(n.remove), r(a.remove)),
                        insert: [].concat(r(n.insert), r(a.insert)),
                    };
                window.ComponentCart.updateOrderAttributes(o, t);
            };
            try {
                window.localStorage.removeItem("orderinmakeoutCoupon");
            } catch (e) {}
            var i = {
                cash: "cash",
                "piraeus.creditcard": "credit_card",
                paypal: "paypal",
                "paypal.vault": "paypal",
            };
            document.addEventListener(
                "paymentsUI.paymentChanged",
                function (e) {
                    var t = null,
                        r = null;
                    if (
                        (e.data &&
                            e.data.previous &&
                            e.data.next &&
                            ((t = e.data.previous), (r = e.data.next)),
                        !e.data &&
                            e.detail &&
                            e.detail.data &&
                            e.detail.data.previous &&
                            e.detail.data.next &&
                            ((t = e.detail.data.previous),
                            (r = e.detail.data.next)),
                        t && r && t !== r)
                    ) {
                        var n = $("#coupon_code").val();
                        s.coupon_validate(n);
                        var a = paymentsUI.getPaymentDetails(),
                            o = window.ComponentCart.cart(),
                            l = o.csr || {},
                            c = a.payment_method;
                        if (
                            ((c = i[c]),
                            "payment_methods" in l &&
                                !l.payment_methods.includes(c) &&
                                (o.removeDonation(l.id, { skipValidation: !0 }),
                                $("#init_csr_modal").attr(
                                    "data-url",
                                    "/foodatwork/modals/csr"
                                )),
                            s.showHideDonations(a.payment_method, {
                                skipValidation: !0,
                            }),
                            s.updateOrderAttributes(a.payment_method, {
                                skipValidation: !0,
                            }),
                            window.ComponentCart.cart().validate(),
                            void 0 !== a.payment_method)
                        )
                            try {
                                localStorage.setItem(
                                    "selected_payment_method",
                                    a.payment_method
                                );
                            } catch (e) {
                                return !1;
                            }
                    }
                }
            ),
                document.addEventListener(
                    "paymentsUI.braintreePayPalIsStarted",
                    function (e) {
                        app.popup.showLoader();
                    }
                ),
                document.addEventListener(
                    "paymentsUI.braintreePayPalIsFinished",
                    function (e) {
                        app.popup.hideLoader();
                    }
                ),
                document.addEventListener(
                    "paymentsUI.braintreePayPalIsCancelled",
                    function (e) {
                        app.popup.hideLoader(), componentCartUnlock();
                    }
                ),
                document.addEventListener(
                    "paymentsUI.iframeIsLoading",
                    function (e) {
                        app.popup.showLoader();
                    }
                ),
                document.addEventListener(
                    "paymentsUI.iframeLoaded",
                    function (e) {
                        app.popup.hideLoader();
                    }
                );
            var o = document.querySelector(".checkout-allergens");
            o &&
                o.addEventListener("click", function () {
                    return app.popup.openAllergens();
                });
            var s = (function (e, t, r) {
                "use strict";
                var n = null,
                    o = r,
                    s = [],
                    l = app.userSid,
                    c = app.apiBaseURL,
                    u = null;
                e("#init_csr_modal").on("click", function (t) {
                    app.popup.open(
                        e(this).attr("data-url"),
                        "modal-login modal-csr",
                        !0,
                        !1
                    );
                }),
                    e(document).on("click", ".donations", function (t) {
                        var r = t.target;
                        A(r, r.checked);
                        var n = e(r).attr("data-amount"),
                            a = "/foodatwork/modals/csr";
                        n && (a += "?amount=".concat(n)),
                            e("#init_csr_modal").attr("data-url", a),
                            e(".modal-csr").modal("hide");
                    }),
                    Array.prototype.slice
                        .call(
                            document.querySelectorAll(
                                ".order-attribute-checkbox"
                            )
                        )
                        .forEach(function (e) {
                            var t = e.querySelector(".order-attribute-action"),
                                n = e.querySelector(
                                    ".order-attribute-action-input"
                                );
                            e.addEventListener("change", function () {
                                if (t.dataset.trackingEventKey) {
                                    var e = t.dataset.trackingEventKey,
                                        a = n.checked ? "selected" : "removed",
                                        i = "".concat(e, ".").concat(a);
                                    dataLayer.push({
                                        event: i,
                                        userId: dataLayer[0].userId,
                                        shopId: r,
                                        locationAddress:
                                            dataLayer[0].userAddress,
                                        locationLat:
                                            dataLayer[0].userAddressLat,
                                        locationLon:
                                            dataLayer[0].userAddressLon,
                                        locationArea:
                                            dataLayer[0].userAddressZip,
                                        locationCity:
                                            dataLayer[0].userAddressCity,
                                        locationCountry:
                                            dataLayer[0].userAddressCountry,
                                        verticalType: app.verticalType,
                                    });
                                }
                                !(function (e, t) {
                                    t
                                        ? window.ComponentCart.addOrderAttribute(
                                              e
                                          )
                                        : window.ComponentCart.removeOrderAttribute(
                                              e
                                          );
                                })(
                                    {
                                        key: t.dataset.orderAttribute,
                                        value: n.checked,
                                        description: void 0,
                                    },
                                    n.checked
                                );
                            });
                        }),
                    Array.prototype.slice
                        .call(
                            document.querySelectorAll(".order-attribute-list")
                        )
                        .forEach(function (e) {
                            var n = e.querySelectorAll(
                                ".order-attribute-list-option"
                            );
                            Array.prototype.slice.call(n).forEach(function (a) {
                                var i = e.querySelector(
                                        ".order-attribute-action"
                                    ),
                                    o = e.querySelector(
                                        ".order-attribute-action-input"
                                    );
                                a.addEventListener("click", function () {
                                    var s = Array.prototype.slice.call(
                                            e.querySelectorAll(
                                                ".order-attribute-list-option.active"
                                            )
                                        ).length,
                                        l =
                                            o.dataset
                                                .orderAttributeOptionKey ===
                                            a.dataset.orderAttributeOptionKey,
                                        c = Array.prototype.slice
                                            .call(n)
                                            .map(function (e) {
                                                return {
                                                    key:
                                                        e.dataset
                                                            .orderAttributeOptionKey,
                                                    value:
                                                        e.dataset
                                                            .orderAttributeOptionValue,
                                                    description:
                                                        e.dataset
                                                            .orderAttributeOptionDescription,
                                                };
                                            }),
                                        u = l
                                            ? []
                                            : [
                                                  {
                                                      key:
                                                          a.dataset
                                                              .orderAttributeOptionKey,
                                                      value:
                                                          a.dataset
                                                              .orderAttributeOptionValue,
                                                      description:
                                                          a.dataset
                                                              .orderAttributeOptionDescription,
                                                  },
                                              ];
                                    if (
                                        (t.ComponentCart.updateOrderAttributes({
                                            remove: c,
                                            insert: u,
                                        }),
                                        Array.prototype.slice
                                            .call(n)
                                            .forEach(function (e) {
                                                return e.classList.remove(
                                                    "active"
                                                );
                                            }),
                                        l || a.classList.add("active"),
                                        l)
                                    )
                                        (o.dataset.orderAttributeOptionKey = 0),
                                            (o.dataset.orderAttributeOptionValue = 0),
                                            (o.dataset.orderAttributeOptionDescription = 0);
                                    else {
                                        if (
                                            0 ===
                                            a.dataset.orderAttributeOptionValue
                                        )
                                            return;
                                        (o.dataset.orderAttributeOptionKey =
                                            a.dataset.orderAttributeOptionKey),
                                            (o.dataset.orderAttributeOptionValue =
                                                a.dataset.orderAttributeOptionValue),
                                            (o.dataset.orderAttributeOptionDescription =
                                                a.dataset.orderAttributeOptionDescription);
                                    }
                                    if (
                                        i.dataset.trackingEventKey &&
                                        i.dataset.trackingParamKey
                                    ) {
                                        var d = i.dataset.trackingEventKey,
                                            p = i.dataset.trackingParamKey,
                                            h = "",
                                            f =
                                                a.dataset
                                                    .orderAttributeOptionValue;
                                        h = l
                                            ? "removed"
                                            : s
                                            ? "changed"
                                            : "selected";
                                        var m = {
                                            event: "".concat(d, ".").concat(h),
                                            userId: dataLayer[0].userId,
                                            shopId: r,
                                            locationAddress:
                                                dataLayer[0].userAddress,
                                            locationLat:
                                                dataLayer[0].userAddressLat,
                                            locationLon:
                                                dataLayer[0].userAddressLon,
                                            locationArea:
                                                dataLayer[0].userAddressZip,
                                            locationCity:
                                                dataLayer[0].userAddressCity,
                                            locationCountry:
                                                dataLayer[0].userAddressCountry,
                                            verticalType: app.verticalType,
                                        };
                                        p && (m[p] = f), dataLayer.push(m);
                                    }
                                });
                            });
                        });
                var d = function () {
                    return {
                        "X-efood-session-id": l,
                        "X-efood-platform": app.sitePlatform,
                        "X-efood-version": app.siteVersion,
                        "Accept-Language": app.apiLocale,
                    };
                };
                e("#doorbell-name, #floor, #phone").on("input", function () {
                    !0, e("#doorbell-name, #floor, #phone").off("input");
                }),
                    e("#coupon_code").on("keypress", function (e) {
                        (10 !== e.keyCode && 13 !== e.keyCode) ||
                            e.preventDefault();
                    }),
                    e("#coupon_code").on("input", function (t) {
                        if ("" == e(this).val())
                            e(".alert-danger").addClass("d-none"),
                                e(".alert-success").addClass("d-none"),
                                e(".alert-warning").addClass("d-none"),
                                e("#cancel_coupon").addClass("d-none"),
                                e(this)
                                    .attr("readonly", !1)
                                    .attr("disabled", !1);
                        else {
                            var r = e(this).val();
                            u && clearTimeout(u),
                                (u = setTimeout(function () {
                                    S(r);
                                }, 800));
                        }
                    }),
                    e("#cancel_coupon").on("click", function (r) {
                        t.ComponentCart.setCoupon(null),
                            (s = []),
                            e("#coupon_code").val("").trigger("input"),
                            r.preventDefault();
                        try {
                            t.localStorage.removeItem("orderinmakeoutCoupon");
                        } catch (e) {}
                    }),
                    e("#details").on("keydown", function (e) {
                        w(e);
                    });
                var p = function (t, r, n, a) {
                        a = a || !1;
                        n || (n = function () {});
                        var i = d();
                        (t = c + t), (r = r || {});
                        return e.ajax({
                            type: "POST",
                            contentType: "application/json",
                            headers: i,
                            url: t,
                            data: JSON.stringify(r),
                            async: a,
                            success: n,
                        });
                    },
                    h = function (t, r, n) {
                        r || (r = function () {});
                        n = n || !1;
                        var a = d();
                        t = c + t;
                        return e.ajax({
                            type: "GET",
                            contentType: "application/json",
                            cache: !1,
                            headers: a,
                            url: t,
                            async: n,
                            success: r,
                        });
                    },
                    f = function () {
                        var e = t.ComponentCart.cart(),
                            r = t.ComponentCart.cart().export().csr,
                            n = t.ComponentCart.cart().export().attributes;
                        return (
                            (e = JSON.parse(JSON.stringify(e))),
                            (e.csr = r),
                            (e.attributes = n),
                            void 0 !== e.shop && (e.shop = e.shop.information),
                            e
                        );
                    },
                    m = function () {
                        return paymentsUI.getPaymentDetails();
                    },
                    y = function () {
                        return m().payment_method;
                    },
                    g = function () {
                        return { coupons: s };
                    },
                    v = function () {
                        var t = f();
                        return (
                            (t.discount = [t.discount_id]),
                            void 0 !== (t = e.extend(t, g(), m())).shop &&
                                delete t.shop,
                            t
                        );
                    },
                    b = function () {
                        var r = e("form").serializeJSON().address;
                        void 0 !== r &&
                            (r.details.replace(/[<>]/g, ""),
                            p("/user/clients/address", r, function (r) {
                                "success" == r.error_code &&
                                    r.data.id &&
                                    ((t.ComponentCart.cart().address_id =
                                        r.data.id),
                                    e("#address_id").val(r.data.id));
                            }));
                    },
                    w = function (e) {
                        !e.shiftKey ||
                            (188 !== e.keyCode && 190 !== e.keyCode) ||
                            e.preventDefault();
                    },
                    _ = function (r, a, i, o) {
                        if (r) {
                            h(
                                "/order/status/" + r,
                                function (s) {
                                    ("success" == s.error_code &&
                                        s.data.status &&
                                        "cancelled" != s.data.status) ||
                                        (app.popup.open(
                                            "/foodatwork/modals/order_proccess_failed",
                                            "modal-order-proccess",
                                            "static",
                                            !1,
                                            function () {
                                                var e = s.data,
                                                    t = e.message,
                                                    r = e.description,
                                                    n = document.querySelector(
                                                        ".modal-order-proces-failed__title"
                                                    ),
                                                    a = document.querySelector(
                                                        ".modal-order-proces-failed__message"
                                                    );
                                                t && n && (n.innerHTML = t),
                                                    r && a && (a.innerHTML = r);
                                            }
                                        ),
                                        clearInterval(n)),
                                        "accepted" == s.data.status &&
                                            (!(function (e, r) {
                                                var n = r.shop || "",
                                                    a = r.payment_method || "",
                                                    i = r.coupon_code || "",
                                                    o = r.offersData,
                                                    s = 0;
                                                if (
                                                    (r.csr &&
                                                        r.csr.amount &&
                                                        (s = r.csr.amount),
                                                    t.ComponentCart &&
                                                        t.ComponentCart.joker())
                                                ) {
                                                    var l = t.ComponentCart.joker();
                                                    l.getTierDiscount() > 0 &&
                                                        dataLayer.push({
                                                            event:
                                                                "joker_order.complete",
                                                            shopId: n.id,
                                                            shopCuisine:
                                                                n.basic_cuisine,
                                                            transactionId: e,
                                                            tierNumber:
                                                                l.tier.offer,
                                                        });
                                                }
                                                if (
                                                    (app.scout.customEvent(
                                                        "web_order"
                                                    ),
                                                    app.scout.customEvent(
                                                        "web_ordered_ZIP",
                                                        {
                                                            ZIP:
                                                                dataLayer[0]
                                                                    .userAddressZip,
                                                        }
                                                    ),
                                                    app.scout.customEvent(
                                                        "web_ordered_city",
                                                        {
                                                            city:
                                                                dataLayer[0]
                                                                    .userAddressCity,
                                                        }
                                                    ),
                                                    app.scout.customEvent(
                                                        "web_ordered_restaurant",
                                                        { restaurant: n.title }
                                                    ),
                                                    app.scout.customEvent(
                                                        "web_ordered_restaurant_id",
                                                        { restaurant_id: n.id }
                                                    ),
                                                    s &&
                                                        s > 0 &&
                                                        (app.scout.customEvent(
                                                            "web_order_with_csr",
                                                            { csr_amount: s }
                                                        ),
                                                        app.scout.customAttribute(
                                                            "web_last_ordered_csr_amount",
                                                            s
                                                        )),
                                                    app.scout.customAttribute(
                                                        "web_user_status",
                                                        "customer"
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_ordered_cuisine_name",
                                                        n.basic_cuisine
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_order_basic_cuisine",
                                                        n.basic_cuisine
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_ordered_restaurant",
                                                        n.title
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_ordered_restaurant_id",
                                                        n.id
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_ordered_ZIP",
                                                        dataLayer[0]
                                                            .userAddressZip
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_ordered_city",
                                                        dataLayer[0]
                                                            .userAddressCity
                                                    ),
                                                    app.scout.unsetCustomAttribute(
                                                        "web_last_abandoned_cart_product_name"
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_last_order_payment_method",
                                                        a
                                                    ),
                                                    app.scout.customAttribute(
                                                        "web_voucher_redeemed_name",
                                                        i
                                                    ),
                                                    o.length)
                                                ) {
                                                    var c = [],
                                                        u = [],
                                                        d = [];
                                                    o.forEach(function (e) {
                                                        app.scout.customEvent(
                                                            "web_ordered_offer",
                                                            {
                                                                offer_name:
                                                                    e.offer_name,
                                                                offer_id:
                                                                    e.offer_id,
                                                                offer_type:
                                                                    e.offer_type,
                                                            }
                                                        ),
                                                            c.push(e.offer_id),
                                                            u.push(
                                                                e.offer_name
                                                            ),
                                                            d.push(
                                                                e.offer_type
                                                            );
                                                    }),
                                                        app.scout.customAttribute(
                                                            "web_last_ordered_offer_types",
                                                            d
                                                        ),
                                                        app.scout.customAttribute(
                                                            "web_last_ordered_offer_names",
                                                            u
                                                        ),
                                                        app.scout.customAttribute(
                                                            "web_last_ordered_offer_ids",
                                                            c
                                                        );
                                                } else
                                                    app.scout.unsetCustomAttribute(
                                                        "web_last_ordered_offer_types"
                                                    ),
                                                        app.scout.unsetCustomAttribute(
                                                            "web_last_ordered_offer_names"
                                                        ),
                                                        app.scout.unsetCustomAttribute(
                                                            "web_last_ordered_offer_ids"
                                                        );
                                                app.scout.logPurchase(
                                                    e.toString(),
                                                    t.ComponentCart.cart()
                                                        .amount
                                                );
                                            })(r, o),
                                            (t.location.href =
                                                "/orders/thankyou?order_id=" +
                                                r +
                                                "&user_address=" +
                                                a)),
                                        "submitted" == s.data.status &&
                                            (i < 3
                                                ? e(
                                                      ".modal-order-proccess .modal-body .order-waiting"
                                                  ).removeClass("d-none")
                                                : (e(
                                                      ".modal-order-proccess .modal-body .order-waiting"
                                                  ).removeClass("d-none"),
                                                  e(
                                                      ".modal-order-proccess .order-still-waiting"
                                                  ).removeClass("d-none")));
                                },
                                !0
                            );
                        } else
                            app.popup.open(
                                "/foodatwork/modals/order_proccess_failed",
                                "modal-order-proccess",
                                "static",
                                !1
                            );
                    },
                    E = function () {
                        var r = v(),
                            a = (function () {
                                var t = f(),
                                    r = [],
                                    n = [];
                                return (
                                    t.products.forEach(function (e) {
                                        void 0 !== e.offer_title &&
                                            n.indexOf(e.offer_id) < 0 &&
                                            (n.push(e.offer_id),
                                            r.push({
                                                offer_name: e.offer_title,
                                                offer_id: e.offer_id.toString(),
                                                offer_type: e.offer_type,
                                            }));
                                    }),
                                    (t = e.extend(t, g(), m(), {
                                        offersData: r,
                                    }))
                                );
                            })(),
                            i = r.address_id || "";
                        e("#error_message_response").html(""),
                            p(
                                "/order/submit",
                                v(),
                                function (r) {
                                    if (
                                        ("success" !== r.error_code ||
                                            !r.data.order_id) &&
                                        "redirect" !== r.error_code
                                    )
                                        return (
                                            e("#error_message_response").html(
                                                r.message
                                            ),
                                            componentCartUnlock(),
                                            e("#myModal").modal("hide"),
                                            void (function (e, t) {
                                                var r = y();
                                                "piraeus.creditcard" == r &&
                                                    (r = "creditcard"),
                                                    dataLayer.push({
                                                        event:
                                                            "transaction.failed",
                                                        locationAddress:
                                                            dataLayer[0]
                                                                .userAddress,
                                                        locationLat:
                                                            dataLayer[0]
                                                                .userAddressLat,
                                                        locationLon:
                                                            dataLayer[0]
                                                                .userAddressLon,
                                                        locationArea:
                                                            dataLayer[0]
                                                                .userAddressZip,
                                                        locationCity:
                                                            dataLayer[0]
                                                                .userAddressCity,
                                                        locationCountry:
                                                            dataLayer[0]
                                                                .userAddressCountry,
                                                        verticalType:
                                                            app.verticalType,
                                                        shopId: e,
                                                        orderPaymentMethod: r,
                                                        shopName:
                                                            cart_config.shop
                                                                .information
                                                                .title,
                                                        chainId:
                                                            cart_config.shop
                                                                .information
                                                                .chain_id,
                                                        chainName: "",
                                                        transactionFailReason: t,
                                                        userId:
                                                            dataLayer[0].userId,
                                                    });
                                            })(o, r.message)
                                        );
                                    if ("redirect" !== r.error_code) {
                                        var s =
                                                60 *
                                                r.provisioning.order_timeout *
                                                1e3 *
                                                10,
                                            l = 0;
                                        (n = setInterval(function () {
                                            _(r.data.order_id, i, l, a), l++;
                                        }, 5e3)),
                                            t.ComponentCart.destroyCart(),
                                            setTimeout(function () {
                                                clearInterval(n),
                                                    app.popup.open(
                                                        "/foodatwork/modals/order_proccess_failed",
                                                        "modal-order-proccess",
                                                        "static",
                                                        !1
                                                    );
                                            }, s);
                                    } else
                                        app.popup.open(
                                            "/foodatwork/modals/redirect?url=" +
                                                encodeURIComponent(
                                                    r.data.redirect
                                                ),
                                            "modal-redirect-process",
                                            "static",
                                            !1
                                        );
                                },
                                !0
                            );
                    },
                    S = function (r, n) {
                        if (r) {
                            r = r.trim().replace("#", "");
                            var a = y();
                            "piraeus.creditcard" == a && (a = "CREDIT");
                            h(
                                "/coupons/validate?coupon=" +
                                    r +
                                    "&shop_id=" +
                                    o +
                                    "&payment=" +
                                    a,
                                function (a) {
                                    if ("success" !== a.error_code)
                                        e(".coupon_alerts .alert-danger")
                                            .removeClass("d-none")
                                            .html(a.message),
                                            e(
                                                ".coupon_alerts .alert-success"
                                            ).addClass("d-none"),
                                            e(
                                                ".coupon_alerts .btn-block"
                                            ).addClass("d-none"),
                                            e(
                                                ".coupon_alerts .alert-warning"
                                            ).addClass("d-none"),
                                            (s = []),
                                            (function (e, t, r, n) {
                                                dataLayer.push({
                                                    event:
                                                        "order_coupon.failed",
                                                    locationAddress:
                                                        dataLayer[0]
                                                            .userAddress,
                                                    locationLat:
                                                        dataLayer[0]
                                                            .userAddressLat,
                                                    locationLon:
                                                        dataLayer[0]
                                                            .userAddressLon,
                                                    locationArea:
                                                        dataLayer[0]
                                                            .userAddressZip,
                                                    locationCity:
                                                        dataLayer[0]
                                                            .userAddressCity,
                                                    locationCountry:
                                                        dataLayer[0]
                                                            .userAddressCountry,
                                                    shopId: e,
                                                    verticalType:
                                                        app.verticalType,
                                                    currencyCode:
                                                        app.ga_currency,
                                                    cartValue: t,
                                                    couponRejected: r,
                                                    couponRejectedMessage: n,
                                                }),
                                                    app.scout.customEvent(
                                                        "web_voucher_failed"
                                                    );
                                            })(
                                                o,
                                                t.ComponentCart.cart().amount,
                                                r,
                                                a.message
                                            ),
                                            t.ComponentCart.setCoupon(null, n),
                                            e("#coupon_code")
                                                .attr("readonly", !1)
                                                .attr("disabled", !1);
                                    else if (
                                        "success" == a.error_code &&
                                        (e("#coupon_code")
                                            .attr("readonly", !0)
                                            .attr("disabled", "disabled"),
                                        t.ComponentCart.setCoupon(r, n),
                                        e(".coupon_alerts .alert-success")
                                            .removeClass("d-none")
                                            .html(a.message),
                                        e(
                                            ".coupon_alerts .btn-block"
                                        ).removeClass("d-none"),
                                        e(
                                            ".coupon_alerts .alert-danger"
                                        ).addClass("d-none"),
                                        setTimeout(function () {
                                            t.ComponentCart.cart()
                                                .price_without_discount <
                                                a.data.discount &&
                                                e(
                                                    ".coupon_alerts .alert-warning"
                                                ).removeClass("d-none");
                                        }, 1200),
                                        s.push(r),
                                        (s = e.grep(s, function (t, r) {
                                            return e.inArray(t, s) === r;
                                        })),
                                        (function (e, t, r, n) {
                                            dataLayer.push({
                                                event: "order_coupon.submitted",
                                                locationAddress:
                                                    dataLayer[0].userAddress,
                                                locationLat:
                                                    dataLayer[0].userAddressLat,
                                                locationLon:
                                                    dataLayer[0].userAddressLon,
                                                locationArea:
                                                    dataLayer[0].userAddressZip,
                                                locationCity:
                                                    dataLayer[0]
                                                        .userAddressCity,
                                                locationCountry:
                                                    dataLayer[0]
                                                        .userAddressCountry,
                                                shopId: e,
                                                verticalType: app.verticalType,
                                                currencyCode: app.ga_currency,
                                                cartValue: t,
                                                coupon: r,
                                                couponValue: n,
                                            }),
                                                app.scout.customEvent(
                                                    "web_voucher_redeemed",
                                                    { voucher_value: t }
                                                );
                                        })(
                                            o,
                                            t.ComponentCart.cart().amount,
                                            r,
                                            a.message
                                        ),
                                        r
                                            .toLocaleLowerCase()
                                            .indexOf("orderinmakeout") > -1)
                                    )
                                        try {
                                            t.localStorage.setItem(
                                                "orderinmakeoutCoupon",
                                                !0
                                            );
                                        } catch (e) {}
                                },
                                !0
                            );
                        }
                    },
                    C = function (e) {
                        arguments.length > 1 &&
                            void 0 !== arguments[1] &&
                            arguments[1];
                        Array.prototype.slice
                            .call(
                                document.querySelectorAll(".donation-wrapper")
                            )
                            .forEach(function (t) {
                                var r = i[e];
                                t
                                    .querySelector("input")
                                    .dataset.paymentMethods.split(", ")
                                    .includes(r)
                                    ? t.classList.remove("d-none")
                                    : t.classList.add("d-none");
                            });
                    },
                    A = function (r, n) {
                        var a =
                                arguments.length > 2 && void 0 !== arguments[2]
                                    ? arguments[2]
                                    : {},
                            i = r.dataset.id,
                            o = "true" === r.dataset.remove,
                            s = r.dataset.instantiated || !1,
                            l = t.ComponentCart.cart().csr;
                        if (!o || l) {
                            if (o)
                                return (
                                    t.ComponentCart.removeDonation(i, a),
                                    void e("#init_csr_modal").attr(
                                        "data-url",
                                        "/foodatwork/modals/csr"
                                    )
                                );
                            var c = Number(r.dataset.amount);
                            s
                                ? t.ComponentCart.updateDonation(i, c, a)
                                : t.ComponentCart.addDonation(i, c, a);
                        }
                    };
                return {
                    upsert_address: function () {
                        return b();
                    },
                    api_submit: function () {
                        return E();
                    },
                    submit: function () {
                        E();
                    },
                    validate: function () {
                        return (function () {
                            if (
                                (app.popup.open(
                                    "/foodatwork/modals/order_proccess",
                                    "modal-order-proccess",
                                    "static",
                                    !1
                                ),
                                0 == efoodLib.updateUserProfile())
                            )
                                return (
                                    t.ComponentCart.unlock(),
                                    void app.popup.close()
                                );
                            b();
                            v().amount, y();
                            E();
                        })();
                    },
                    validate_address_details: function (e) {
                        return w(e);
                    },
                    order_json: function () {
                        return v();
                    },
                    set_coupon: function (e) {
                        return (function (e) {
                            s.push(e);
                        })(e);
                    },
                    coupon_validate: function (e, t) {
                        return S(e, t);
                    },
                    showHideDonations: function (e, t) {
                        return C(e, t);
                    },
                    updateOrderAttributes: function (e, t) {
                        return a(e, t);
                    },
                    init: function () {
                        C(y(), { skipValidation: !0 }),
                            a(y(), { skipValidation: !0 });
                    },
                };
            })($, window, cart_config.shop.information.id);
        }
        e.exports = { checkout: s };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            var e = $("form").serializeJSON(),
                t = !1;
            if (void 0 === e.user && void 0 === e.cellphone) return !0;
            var r = new efoodAPI();
            return (
                r.post(
                    "/user/account",
                    e.user,
                    function (e) {
                        var n = $("#update_user_profile_message"),
                            a = n.data("success-message");
                        if ("error" == e.status) {
                            var i = e.message
                                ? e.message
                                : n.data("fail-message");
                            return (
                                "order_form" === app.pageController &&
                                    (n = $("#error_message_response")),
                                efoodLib.showAlert("fail", n, i, !1),
                                !1
                            );
                        }
                        efoodLib.showAlert("success", n, a, !0, !1),
                            !1 === e.data.verified && Boolean(e.data.cellphone)
                                ? r.post(
                                      "/user/confirm",
                                      {},
                                      function () {
                                          return app.popup.open(
                                              "/foodatwork/modals/sms_verification",
                                              "modal-sms-verification",
                                              "static",
                                              !1
                                          );
                                      },
                                      !0
                                  )
                                : (t = !0);
                    },
                    !1
                ),
                t
            );
        }
        if (
            (Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.validateUserProfileChange = function (e) {
                return (
                    $.validate({
                        form: e,
                        onSuccess: function (e) {
                            return n(), !1;
                        },
                        onError: function () {
                            return console.log("Error"), !1;
                        },
                    }),
                    !1
                );
            }),
            (t.validateNewPasswordForm = function (e) {
                return (
                    $.validate({
                        form: e,
                        onSuccess: function () {
                            return (
                                (function (e) {
                                    var t = $(e).serializeJSON(),
                                        r = document.querySelector(
                                            "#password_change_message"
                                        ),
                                        n = r.dataset.successMessage;
                                    if (
                                        (r.dataset.failMessage,
                                        void 0 === t.password)
                                    )
                                        return !1;
                                    new efoodAPI().post(
                                        "/user/account/change_password",
                                        t.password,
                                        function (e) {
                                            "ok" == e.status
                                                ? efoodLib.showAlert(
                                                      "success",
                                                      $(r),
                                                      n,
                                                      !1,
                                                      !1
                                                  )
                                                : efoodLib.showAlert(
                                                      "fail",
                                                      $(r),
                                                      e.message,
                                                      !1
                                                  );
                                        },
                                        !0
                                    );
                                })(e),
                                $("#passwordHelpBlock").hide(),
                                !1
                            );
                        },
                        onError: function () {
                            return $("#passwordHelpBlock").hide(), !1;
                        },
                    }),
                    !1
                );
            }),
            (t.updateUserProfile = n),
            (t.deletePaymentMethod = function (e, t) {
                var r = $("#delete_saved_credit_card"),
                    n = $("#" + e),
                    a = $("#payment_method_delete_message"),
                    i = r.data("successAlert"),
                    o = r.data("failAlert");
                new efoodAPI().post(
                    "/ext/" + t + "/methods/delete?lang=" + app.apiLocale,
                    { token: e },
                    function (e) {
                        "ok" == e.status
                            ? (n.fadeOut(300, function () {
                                  n.remove();
                              }),
                              efoodLib.showAlert("success", a, i, !1),
                              setTimeout(function () {
                                  (0 != $("#delete_saved_paypal").length &&
                                      0 !=
                                          $("#delete_saved_credit_card")
                                              .length) ||
                                      window.location.reload();
                              }, 5e3))
                            : efoodLib.showAlert("fail", a, o);
                    }
                );
            }),
            (t.deleteAddress = function (e) {
                var t = $("#" + e),
                    r = $("#delete-address"),
                    n = $("#address_delete_message"),
                    a = r.data("successAlert"),
                    i = r.data("failAlert");
                new efoodAPI().get(
                    "/user/clients/address/" +
                        e +
                        "/delete?lang=" +
                        app.apiLocale,
                    function (e) {
                        "ok" == e.status
                            ? (t.fadeOut(150, function () {
                                  return t.remove();
                              }),
                              efoodLib.showAlert("success", n, a, !0, !1),
                              setTimeout(function () {
                                  0 == $(".address-delete").length &&
                                      window.location.reload();
                              }, 300))
                            : efoodLib.showAlert("fail", n, i);
                    }
                );
            }),
            0 != $(".user-account-navigation").length)
        ) {
            var a = $(".nav-link.active"),
                i = $(a).parent().offset(),
                o = $(window).width(),
                s = i.left + $(a).outerWidth(),
                l = s / 2;
            o < s &&
                setTimeout(function () {
                    $(".user-account-navigation .nav").animate(
                        { scrollLeft: l + $(a).width() },
                        500
                    );
                }, 500);
        }
        $(document).on("click", "#update_consent", function (e) {
            e.preventDefault();
            var t = {
                ban_deletion: !1,
                newsletter_optin: $("#marketing_optin").is(":checked"),
                marketing_optin: $("#marketing_optin").is(":checked"),
                tobacco_optin: $("#tobacco_optin").is(":checked"),
                alcohol_optin: $("#alcohol_optin").is(":checked"),
            };
            app.popup.showLoader(),
                $.post("/account/post_privacy", t, function (e, t) {
                    return app.popup.hideLoader();
                });
        }),
            $(document).on("click", "#delete_account", function (e) {
                e.preventDefault();
                var t = {
                    ban_deletion: !0,
                    newsletter_optin: $("#marketing_optin").is(":checked"),
                    marketing_optin: $("#marketing_optin").is(":checked"),
                };
                app.popup.showLoader(),
                    $.post("/account/post_privacy", t, function (e, t) {
                        "success" == t &&
                            app.popup.open(
                                "/foodatwork/modals/delete_account_success",
                                "modal-delete-account-success",
                                !0,
                                !0
                            ),
                            app.popup.hideLoader();
                    });
            }),
            $("#load-more-orders").on("click", function (e) {
                e.preventDefault();
                var t = $(this),
                    r = parseInt(t.attr("data-offset")),
                    n = $("#load-more-orders").parent();
                app.popup.showLoader(),
                    $.get(
                        "/account/get_past_orders",
                        { limit: "50", offset: r },
                        function (e, r, a) {
                            "success" == r &&
                                ($(e).insertBefore(n),
                                t.attr(
                                    "data-offset",
                                    $(".user-account-orders-order").length
                                )),
                                0 == e.length &&
                                    $("#load-more-orders").addClass("d-none");
                        }
                    ),
                    app.popup.hideLoader();
            });
    },
    function (e, t) {
        if (
            "user-account" === app.pageController ||
            "order_form" === app.pageController
        ) {
            $("#cellphone").on("keydown", function (e) {
                r.validate_cellphone(e);
            });
            var r = (function (e, t) {
                return {
                    validate_cellphone: function (t) {
                        return (function (t) {
                            -1 !==
                                e.inArray(t.keyCode, [
                                    46,
                                    8,
                                    9,
                                    27,
                                    13,
                                    107,
                                    110,
                                    190,
                                ]) ||
                                (65 == t.keyCode && !0 === t.ctrlKey) ||
                                (t.keyCode >= 35 && t.keyCode <= 39) ||
                                (t.shiftKey &&
                                    (187 == t.keyCode || 61 == t.keyCode)) ||
                                ((t.shiftKey ||
                                    t.keyCode < 48 ||
                                    t.keyCode > 57) &&
                                    (t.keyCode < 96 || t.keyCode > 105) &&
                                    t.preventDefault());
                        })(t);
                    },
                    verify_cellphone: function (r, n) {
                        return (function (r, n) {
                            new efoodAPI().post(
                                "/user/authenticate",
                                { key: r },
                                function (r) {
                                    if ("success" != r.error_code)
                                        return (
                                            e(
                                                ".modal-sms-verification .alert-success"
                                            )
                                                .addClass("alert-danger")
                                                .removeClass("alert-success")
                                                .removeClass("d-none")
                                                .html(r.message),
                                            e(
                                                ".modal-sms-verification div.alert.text-center.alert-danger.d-none"
                                            )
                                                .removeClass("d-none")
                                                .html(r.message),
                                            void (
                                                "already_authenticated" ==
                                                    r.error_code &&
                                                t.location.reload()
                                            )
                                        );
                                    e(".modal-sms-verification").modal("hide"),
                                        !0 === n &&
                                            "order_form" ===
                                                app.pageController &&
                                            efoodLib.checkout.validate();
                                },
                                !0
                            );
                        })(r, n);
                    },
                    send_sms: function (e) {
                        return (function (e) {
                            var t = new efoodAPI();
                            void 0 === e && (e = function () {}),
                                t.post("/user/confirm", {}, e, !0);
                        })(e);
                    },
                };
            })($, window);
        }
        e.exports = { cellphone: r };
    },
    function (e, t) {
        function r(e) {
            "@babel/helpers - typeof";
            return (r =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                    ? function (e) {
                          return typeof e;
                      }
                    : function (e) {
                          return e &&
                              "function" == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? "symbol"
                              : typeof e;
                      })(e);
        }
        function n(e, t, r) {
            return (n =
                "undefined" != typeof Reflect && Reflect.get
                    ? Reflect.get
                    : function (e, t, r) {
                          var n = (function (e, t) {
                              for (
                                  ;
                                  !Object.prototype.hasOwnProperty.call(e, t) &&
                                  null !== (e = o(e));

                              );
                              return e;
                          })(e, t);
                          if (n) {
                              var a = Object.getOwnPropertyDescriptor(n, t);
                              return a.get ? a.get.call(r) : a.value;
                          }
                      })(e, t, r || e);
        }
        function a(e, t) {
            return (a =
                Object.setPrototypeOf ||
                function (e, t) {
                    return (e.__proto__ = t), e;
                })(e, t);
        }
        function i(e) {
            var t = (function () {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return (
                        Date.prototype.toString.call(
                            Reflect.construct(Date, [], function () {})
                        ),
                        !0
                    );
                } catch (e) {
                    return !1;
                }
            })();
            return function () {
                var n,
                    a = o(e);
                if (t) {
                    var i = o(this).constructor;
                    n = Reflect.construct(a, arguments, i);
                } else n = a.apply(this, arguments);
                return (function (e, t) {
                    if (t && ("object" === r(t) || "function" == typeof t))
                        return t;
                    return (function (e) {
                        if (void 0 === e)
                            throw new ReferenceError(
                                "this hasn't been initialised - super() hasn't been called"
                            );
                        return e;
                    })(e);
                })(this, n);
            };
        }
        function o(e) {
            return (o = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                      return e.__proto__ || Object.getPrototypeOf(e);
                  })(e);
        }
        function s(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function");
        }
        function l(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
            }
        }
        function c(e, t, r) {
            return t && l(e.prototype, t), r && l(e, r), e;
        }
        !(function () {
            function e(e, t) {
                t = t || { bubbles: !1, cancelable: !1, detail: void 0 };
                var r = document.createEvent("CustomEvent");
                return (
                    r.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), r
                );
            }
            "function" == typeof window.CustomEvent ||
                this.CustomEvent.toString().indexOf("CustomEventConstructor") >
                    -1 ||
                ((e.prototype = window.Event.prototype),
                (window.CustomEvent = e));
        })();
        var u = (function () {
                function e(t) {
                    s(this, e),
                        (this.config = t),
                        (this.endpoint = t.endpoint),
                        (this.apiURL = t.apiURL),
                        (this.userSid = t.userSid),
                        (this.skip_confirmation = t.skip_confirmation || !1);
                }
                return (
                    c(e, [
                        {
                            key: "headers",
                            value: function () {
                                var e =
                                        arguments.length > 0 &&
                                        void 0 !== arguments[0]
                                            ? arguments[0]
                                            : "GET",
                                    t =
                                        arguments.length > 1 &&
                                        void 0 !== arguments[1]
                                            ? arguments[1]
                                            : {},
                                    r = {
                                        body: JSON.stringify(t),
                                        method: e,
                                        headers: {
                                            Accept: "application/json",
                                            "Content-Type":
                                                "application/json;charset=UTF-8",
                                            "Accept-Language":
                                                app.apiLocale || "en",
                                            "X-core-session-id": this.userSid,
                                            "X-core-platform": "web",
                                            "X-core-version": "1.0",
                                        },
                                    };
                                return "GET" == e && delete r.body, r;
                            },
                        },
                    ]),
                    e
                );
            })(),
            d = (function (e) {
                function t() {
                    var e =
                        arguments.length > 0 &&
                        void 0 !== arguments[0] &&
                        arguments[0];
                    return (
                        s(this, t),
                        !1 === e &&
                            console.warn(
                                "Hey, you forgot to specify a normal configuration"
                            ),
                        r.call(this, e)
                    );
                }
                !(function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError(
                            "Super expression must either be null or a function"
                        );
                    (e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0,
                        },
                    })),
                        t && a(e, t);
                })(t, u);
                var r = i(t);
                return (
                    c(t, [
                        {
                            key: "warn",
                            value: function (e) {
                                if ("success" !== e.error_code)
                                    throw (
                                        (console.warn(e.error_message),
                                        new Error(e.error_message))
                                    );
                            },
                        },
                        {
                            key: "get_user_addresses",
                            value: function () {
                                var e = this;
                                if (!app.userLoggedIn)
                                    return Promise.resolve([]);
                                var r = "".concat(
                                    this.endpoint,
                                    "/user/clients/address"
                                );
                                return fetch(
                                    r,
                                    n(o(t.prototype), "headers", this).call(
                                        this
                                    )
                                )
                                    .then(function (e) {
                                        return e.json();
                                    })
                                    .then(function (t) {
                                        return (
                                            e.warn(t),
                                            0 === t.data.length
                                                ? Promise.resolve([])
                                                : Promise.resolve(t.data)
                                        );
                                    })
                                    .catch(function (e) {
                                        return console.warn("Error", e);
                                    });
                            },
                        },
                        {
                            key: "search_address",
                            value: function (e) {
                                var r = this;
                                e = encodeURIComponent(e);
                                var a = ""
                                    .concat(
                                        this.apiURL,
                                        "/v2/location/places/?address="
                                    )
                                    .concat(e);
                                return fetch(
                                    a,
                                    n(o(t.prototype), "headers", this).call(
                                        this
                                    )
                                )
                                    .then(function (e) {
                                        return e.json();
                                    })
                                    .then(function (e) {
                                        return (
                                            r.warn(e),
                                            void 0 === e.data.addresses
                                                ? Promise.resolve([])
                                                : Promise.resolve(
                                                      e.data.addresses
                                                  )
                                        );
                                    });
                            },
                        },
                        {
                            key: "geolocation",
                            value: function (e) {
                                var r = this,
                                    a = e.coords.latitude,
                                    i = e.coords.longitude,
                                    s = ""
                                        .concat(
                                            this.apiURL,
                                            "/v2/location/reverseg?lat="
                                        )
                                        .concat(a, "&lon=")
                                        .concat(i);
                                return fetch(
                                    s,
                                    n(o(t.prototype), "headers", this).call(
                                        this
                                    )
                                )
                                    .then(function (e) {
                                        return e.json();
                                    })
                                    .then(function (e) {
                                        return (
                                            r.warn(e),
                                            e.data
                                                ? 0 === e.data.addresses.length
                                                    ? Promise.resolve([])
                                                    : Promise.resolve(
                                                          e.data.addresses[0]
                                                      )
                                                : Promise.resolve([])
                                        );
                                    });
                            },
                        },
                    ]),
                    t
                );
            })(),
            p = {
                userInteractedWithAddressList: !1,
                searchedAddresses: [],
                storedAddresses: [],
                selectedAddress: [],
                listToWork: [],
                savedAddressesMode: !1,
                skip_confirmation: !1,
                config: {
                    endpoint: app.apiBaseURL,
                    apiURL: app.apiURL,
                    userSid: app.userSid,
                    delivery_prefix: app.delivery_prefix || "delivery",
                    skip_confirmation: app.skip_confirmation || !1,
                },
                merge_configs: function (e) {
                    var t = {};
                    for (var r in p.config) t[r] = p.config[r];
                    for (var r in e) t[r] = e[r];
                    p.config = t;
                },
                init: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : {};
                    this.merge_configs(e),
                        p.handlers(),
                        (this.api = new d(p.config)),
                        this.checkIfAddNewAddress()
                            ? $("#address-form-component").addClass(
                                  "user-address-ready"
                              )
                            : this.api.get_user_addresses().then(function (e) {
                                  if (0 === e.length)
                                      return (
                                          $("#address-form-component").addClass(
                                              "user-address-empty"
                                          ),
                                          void $(
                                              "#address-form-component"
                                          ).addClass("user-address-ready")
                                      );
                                  (p.storedAddresses = p.listToWork = e),
                                      p.setSavedMode(),
                                      $("#address-form-component").removeClass(
                                          "user-address-empty"
                                      ),
                                      $("#address-form-component").addClass(
                                          "user-address-ready"
                                      );
                              });
                },
                toggleMode: function () {
                    return p.savedAddressesMode
                        ? p.setSearchMode()
                        : p.setSavedMode();
                },
                checkIfAddNewAddress: function () {
                    return $(".add-new-address").length > 0;
                },
                setSavedMode: function () {
                    (p.addressInput.readOnly = !0),
                        p.clearInput(),
                        (p.listToWork = p.storedAddresses),
                        p.renderList(p.listToWork),
                        p.selectAddress(),
                        p.renderSelectedAddress(),
                        (p.savedAddressesMode = !0),
                        $("#address-form-component")
                            .removeClass("address-search")
                            .addClass("address-saved"),
                        p.hideList();
                },
                setSearchMode: function () {
                    (p.addressInput.readOnly = !1),
                        p.clearInput(),
                        $(p.addressInput).blur(),
                        (p.listToWork = []),
                        p.renderList(p.listToWork),
                        p.selectAddress(),
                        p.renderSelectedAddress(),
                        (p.savedAddressesMode = !1),
                        $("#address-form-component")
                            .removeClass("address-saved")
                            .addClass("address-search"),
                        p.hideList();
                },
                formatMessage: function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {};
                    return e.replace(/\${([^}]*)}/g, function (e, r) {
                        return t[r];
                    });
                },
                getItemTemplate: function () {
                    var e = document.querySelector("#listItemTemplate");
                    return null == e ? "" : e.innerHTML;
                },
                listItemTemplate: function (e, t) {
                    var r = t.friendly_name || "",
                        n = t.scope || "",
                        a = t.description;
                    return this.formatMessage(this.getItemTemplate(), {
                        index: e,
                        friendly_name: r,
                        scope: n,
                        description: a,
                    });
                },
                listItemHelpTemplate: function () {
                    var e = document.querySelector("#listItemHelpTemplate");
                    return null == e ? "" : e.innerHTML;
                },
                renderList: function (e) {
                    $(p.addressList).html(""),
                        $.each(e, function (e, t) {
                            $(p.listItemTemplate(e, t)).appendTo(p.addressList);
                        }),
                        $(p.listItemHelpTemplate()).appendTo(p.addressList),
                        p.showList(),
                        p.autoSelect();
                },
                renderSelectedAddress: function () {
                    this.selectedAddress
                        ? ($(this.addressInput).val(
                              this.selectedAddress.description
                          ),
                          document
                              .querySelector("#scope")
                              .setAttribute(
                                  "data-scope",
                                  this.selectedAddress.scope || ""
                              ),
                          document
                              .querySelector("#friendly_name")
                              .setAttribute(
                                  "data-friendly-name",
                                  this.selectedAddress.friendly_name || ""
                              ))
                        : console.warn("No selected address found.");
                },
                clearScopes: function () {
                    document
                        .querySelector("#scope")
                        .setAttribute("data-scope", ""),
                        document
                            .querySelector("#friendly_name")
                            .setAttribute("data-friendly-name", "");
                },
                clearInput: function () {
                    $(this.addressInput).val(""), this.resetForm();
                },
                resetForm: function () {
                    (this.selectedAddress = []),
                        (this.searchedAddresses = []),
                        this.renderList([]),
                        this.hideList(),
                        this.inputTheme(),
                        this.clearScopes();
                },
                inputTheme: function () {
                    var e = "" == $(p.addressInput).val();
                    $("#address-form-component").attr("data-input-empty", e);
                },
                toggleError: function () {
                    "" == $(p.addressInput).val()
                        ? this.showError()
                        : this.hideError();
                },
                showError: function () {
                    $("#address-form-component").addClass("has-error");
                },
                hideError: function () {
                    $("#address-form-component").removeClass("has-error");
                },
                loaderOn: function () {
                    $("#address-form-component").attr({
                        "data-is-loading": !0,
                    });
                },
                loaderOff: function () {
                    $("#address-form-component").attr({
                        "data-is-loading": !1,
                    });
                },
                hideList: function () {
                    $(p.addressList).hide(),
                        $("#address-form-component").removeClass(
                            "address-form-component-list-open"
                        );
                },
                showList: function () {
                    $(p.addressList).show(),
                        $("#address-form-component").addClass(
                            "address-form-component-list-open"
                        );
                },
                toggleList: function () {
                    return $("#address-form-component").hasClass(
                        "address-form-component-list-open"
                    )
                        ? this.hideList()
                        : this.showList();
                },
                hash_code: function (e) {
                    var t,
                        r = 0;
                    if (0 === e.length) return r;
                    for (t = 0; t < e.length; t++)
                        (r = (r << 5) - r + e.charCodeAt(t)), (r |= 0);
                    return "prerender" + r;
                },
                prerender_selected_address: function (e) {
                    var t = p.normalize_address(e);
                    if (-1 != t.indexOf("foodatwork")) {
                        var r = document.getElementsByTagName("head")[0],
                            n = document.createElement("link");
                        (n.rel = "prefetch prerender"),
                            (n.id = p.hash_code(t)),
                            (n.href = t);
                        document.getElementById(n.id) || r.appendChild(n);
                    }
                },
                selectAddress: function () {
                    if (
                        0 != $(p.addressList).find("li.selected").length &&
                        !$(p.addressList)
                            .find("li.selected")
                            .hasClass("cant-select")
                    ) {
                        var e = $(p.addressList)
                            .find("li.selected")
                            .attr("data-pos");
                        (p.selectedAddress = p.listToWork[e]),
                            p.renderSelectedAddress(),
                            p.inputTheme(),
                            p.hideList(),
                            p.prerender_selected_address(p.selectedAddress);
                        var t = new CustomEvent("AddressChange", {
                            detail: p.selectedAddress,
                        });
                        void 0 !== p.selectedAddress.id &&
                            document.dispatchEvent(t);
                    }
                },
                highLight: function (e) {
                    $(p.addressList).find("li").removeClass("selected"),
                        $(e).addClass("selected");
                },
                highLightPrev: function () {
                    var e = $(p.addressList).find(".selected");
                    $(p.addressList).find("li").removeClass("selected"),
                        0 == e.prev().length
                            ? (e.siblings().last().addClass("selected"),
                              $(".address-form-component-list").scrollTop(
                                  $(
                                      ".address-form-component-list"
                                  ).outerHeight()
                              ))
                            : (e.prev().addClass("selected"),
                              e.prev().offset().top <
                                  $(".address-form-component-list").offset()
                                      .top +
                                      e.prev().outerHeight() &&
                                  $(".address-form-component-list").scrollTop(
                                      $(
                                          ".address-form-component-list"
                                      ).scrollTop() - e.prev().outerHeight()
                                  ));
                },
                highLightNext: function () {
                    var e = $(p.addressList).find(".selected");
                    $(p.addressList).find("li").removeClass("selected"),
                        0 == e.next().length
                            ? (e.siblings().first().addClass("selected"),
                              $(".address-form-component-list").scrollTop(0))
                            : (e.next().addClass("selected"),
                              e.next().offset().top +
                                  2 * e.next().outerHeight() >
                                  $(
                                      ".address-form-component-list"
                                  ).outerHeight() +
                                      $(".address-form-component-list").offset()
                                          .top &&
                                  $(".address-form-component-list").scrollTop(
                                      $(
                                          ".address-form-component-list"
                                      ).scrollTop() + e.outerHeight()
                                  ));
                },
                searchedAddress: function () {
                    return $(p.addressInput).val().trim();
                },
                autoSelect: function () {
                    $(p.addressList).find("li").first().addClass("selected");
                },
                searchAddress: function () {
                    var e = this;
                    (0 != p.selectedAddress.length &&
                        p.selectedAddress.description == p.searchedAddress()) ||
                        (p.resetForm(),
                        this.searchedAddress().length < 3
                            ? this.hideList()
                            : (this.toggleError(),
                              this.loaderOn(),
                              this.api
                                  .search_address(this.searchedAddress())
                                  .then(function (t) {
                                      return (
                                          (e.searchedAddresses = t),
                                          (e.listToWork = e.searchedAddresses),
                                          e.renderList(e.listToWork),
                                          e.listToWork
                                      );
                                  })
                                  .then(function (e) {
                                      var t = new CustomEvent(
                                          "address_input.submitted",
                                          { detail: e.length || 0 }
                                      );
                                      document.dispatchEvent(t);
                                  })
                                  .then(function () {
                                      p.loaderOff();
                                  })
                                  .catch(function () {
                                      $(p.addressList).html(""), p.hideList();
                                  })));
                },
                json_to_querystring: function (e) {
                    var t = [
                        "id",
                        "is_default",
                        "landphone",
                        "description",
                        "is_served",
                        "region",
                        "details",
                        "doorbell_name",
                        "logo",
                        "scope",
                        "no_map",
                    ];
                    return (
                        (e.address = e.description),
                        (e.city = e.region.city),
                        (e.area = e.region.area),
                        "?" +
                            Object.keys(e)
                                .map(function (r) {
                                    return (
                                        !(t.indexOf(r) >= 0) &&
                                        !!r &&
                                        !!e[r] &&
                                        encodeURIComponent(r) +
                                            "=" +
                                            encodeURIComponent(e[r])
                                    );
                                })
                                .filter(Boolean)
                                .join("&")
                    );
                },
                normalize_address: function (e) {
                    var t = p.json_to_querystring(e),
                        r = 1 === $(".address-saved").length;
                    if (
                        ((p.skip_confirmation =
                            r || "business_discounts" == e.scope),
                        app.status.cuisineLanding &&
                            app.status.cuisineLanding.hasOwnProperty(
                                "selectedCuisine"
                            ) &&
                            (e.lo = window.location.pathname),
                        "business_discounts" == e.scope)
                    ) {
                        var n =
                            void 0 !== e.id
                                ? "&user_address=".concat(e.id)
                                : "";
                        return "/foodatwork/"
                            .concat(encodeURIComponent(e.slug))
                            .concat(t)
                            .concat(n);
                    }
                    return app.shop && app.isChain && e.id
                        ? "/"
                              .concat(p.config.delivery_prefix, "/")
                              .concat(p.config.chain_prefix, "/")
                              .concat(app.shop.chain.slug, "?user_address=")
                              .concat(e.id)
                        : e.id && e.lo
                        ? "/shops?user_address="
                              .concat(e.id, "&lo=")
                              .concat(encodeURIComponent(e.lo))
                        : e.id
                        ? "/shops?user_address=".concat(e.id)
                        : "/shops".concat(t);
                },
                submitAddress: function () {
                    if (
                        (this.toggleError(),
                        this.hideList(),
                        0 !== p.selectedAddress.length)
                    ) {
                        app.popup.showLoader();
                        var e = this.normalize_address(this.selectedAddress),
                            t = 1 + p.listToWork.indexOf(p.selectedAddress),
                            r = !1 === p.savedAddressesMode ? "new" : "saved",
                            n = {
                                address: this.selectedAddress,
                                deliveryAddressStatus: r,
                                locationMethod: "manual",
                                addressListRank: t,
                            },
                            a = new CustomEvent("address.submitted", {
                                detail: n,
                            });
                        ("new" == r || this.userInteractedWithAddressList) &&
                            document.dispatchEvent(a),
                            p.skip_confirmation
                                ? window.location.assign(e)
                                : p.init_confirm(this.selectedAddress);
                    }
                },
                init_confirm: function (e) {
                    var t = encodeURIComponent(JSON.stringify(e));
                    if (void 0 === e)
                        return app.popup.open(
                            "/foodatwork/modals/address_confirm/".concat(t),
                            "modal-addressbox-confirmation"
                        );
                    if (void 0 === e.scope)
                        return app.popup.open(
                            "/foodatwork/modals/address_confirm/".concat(t),
                            "modal-addressbox-confirmation"
                        );
                    if ("business_discounts" == e.scope) {
                        var r = p.normalize_address(e);
                        return window.location.assign(r);
                    }
                    return app.popup.open(
                        "/foodatwork/modals/address_confirm/".concat(t),
                        "modal-addressbox-confirmation"
                    );
                },
                geoFindMe: function () {
                    var e = this;
                    if ((app.popup.showLoader(), !navigator.geolocation))
                        return (
                            console.log(
                                "Geolocation is not supported by your browser"
                            ),
                            void app.popup.hideLoader()
                        );
                    navigator.geolocation.getCurrentPosition(
                        function (t) {
                            e.api.geolocation(t).then(function (e) {
                                if ((app.popup.hideLoader(), 0 !== e.length)) {
                                    (e.area = e.region.area),
                                        (e.city = e.region.city);
                                    var t = {
                                            address: e,
                                            addressListRank: 1,
                                            deliveryAddressStatus: "new",
                                            locationMethod: "geolocation",
                                        },
                                        r = new CustomEvent(
                                            "address.submitted",
                                            { detail: t }
                                        );
                                    document.dispatchEvent(r),
                                        p.init_confirm(e);
                                }
                            });
                        },
                        function (e) {
                            app.popup.hideLoader();
                        }
                    );
                },
                scrollIntoView: function () {
                    if (window.outerWidth < 576) {
                        var e =
                            document
                                .getElementById("address-form-component")
                                .getBoundingClientRect().top +
                            window.pageYOffset;
                        (elTop = e - 20), window.scroll(0, elTop);
                    }
                },
                handlers: function () {
                    var e = this;
                    $(p.addressInput).on("keydown", function (t) {
                        switch (t.keyCode) {
                            case 38:
                                p.showList(), p.highLightPrev();
                                break;
                            case 40:
                                p.showList(), p.highLightNext();
                                break;
                            case 33:
                            case 34:
                            case 35:
                            case 36:
                            case 37:
                            case 39:
                            case 91:
                            case 92:
                                p.showList();
                                break;
                            case 13:
                                return (
                                    $(p.addressList).is(":visible")
                                        ? ((e.userInteractedWithAddressList = !0),
                                          p.selectAddress())
                                        : p.submitAddress(),
                                    !1
                                );
                            default:
                                return !p.savedAddressesMode && void h();
                        }
                    }),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-search-input",
                            function (e) {
                                e.preventDefault(), p.scrollIntoView();
                            }
                        ),
                        $("#address-form-component").on(
                            "mouseover",
                            ".address-form-component-list-item",
                            function () {
                                p.highLight(this);
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-list-item",
                            function () {
                                p.selectAddress();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-clear-btn",
                            function (e) {
                                e.preventDefault(),
                                    p.clearInput(),
                                    p.addressInput.focus(),
                                    p.scrollIntoView();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".btn-primary",
                            function () {
                                p.submitAddress();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-overlay",
                            function () {
                                p.hideList();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-inner",
                            function () {
                                p.toggleList();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-geolocation-btn",
                            function () {
                                p.geoFindMe();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-list-item-new-address",
                            function () {
                                p.setSearchMode(),
                                    (p.skip_confirmation = !1),
                                    p.addressInput.focus(),
                                    p.scrollIntoView();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-back-to-saved",
                            function () {
                                p.setSavedMode();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-list-item-manual-address",
                            function () {
                                p.init_confirm();
                            }
                        ),
                        $("#address-form-component").on(
                            "click",
                            ".address-form-component-alert",
                            function () {
                                p.hideError();
                            }
                        ),
                        document
                            .querySelector(".address-form-component-list")
                            .addEventListener("click", function (t) {
                                t.target != t.currentTarget &&
                                    (e.userInteractedWithAddressList = !0);
                            });
                },
            },
            h = debounce(
                function () {
                    p.searchAddress();
                },
                350,
                !1
            );
        e.exports = {
            addressComponent: p,
            initializeAddressComponent: function () {
                efoodLib &&
                    efoodLib.addressComponent &&
                    ((efoodLib.addressComponent.addressInput = document.querySelector(
                        "#address-form-component .address-form-component-search-input"
                    )),
                    (efoodLib.addressComponent.addressList = document.querySelector(
                        "#address-form-component .address-form-component-list"
                    )),
                    efoodLib.addressComponent.init({
                        delivery_prefix: app.deliveryPrefix,
                        chain_prefix: app.chainPrefix,
                    }));
            },
        };
    },
    function (e, t) {
        e.exports = {
            validatePasswordResetForm: function (e) {
                return (
                    $.validate({
                        form: e,
                        onSuccess: function () {
                            return (
                                (function () {
                                    var e = {
                                            token:
                                                $(
                                                    "#reset_password input[name=key]"
                                                ).val() || "",
                                            new_password: $(
                                                "#reset_pass"
                                            ).val(),
                                        },
                                        t = $(
                                            "#password_reset_message_success"
                                        ),
                                        r = $("#password_reset_message_fail"),
                                        n = document.getElementById(
                                            "update_btn"
                                        ),
                                        a = t.data("success-message");
                                    if (
                                        ((n.disabled = !0),
                                        r.addClass("d-none"),
                                        r.removeClass("d-block"),
                                        t.addClass("d-none"),
                                        t.removeClass("d-block"),
                                        void 0 === e.new_password)
                                    )
                                        return !1;
                                    new efoodAPI().post(
                                        "/user/password/token",
                                        e,
                                        function (e) {
                                            var i = e.message;
                                            $("#passwordHelpBlock").hide(),
                                                "ok" == e.status
                                                    ? (efoodLib.showAlert(
                                                          "success",
                                                          t,
                                                          a,
                                                          !1,
                                                          !1
                                                      ),
                                                      (n.disabled = !0))
                                                    : (efoodLib.showAlert(
                                                          "fail",
                                                          r,
                                                          i,
                                                          !1,
                                                          !1
                                                      ),
                                                      (n.disabled = !1));
                                        },
                                        !0
                                    );
                                })(),
                                !1
                            );
                        },
                        onError: function () {
                            return !1;
                        },
                    }),
                    !1
                );
            },
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(198);
        t.a = function (e) {
            return (
                Object(n.useEffect)(function () {
                    e.onInit && e.onInit();
                }, []),
                a.a.createElement(
                    i.a,
                    {
                        onClose: e.onClose,
                        disableClickAway: e.disableClickAway,
                        dismissable: e.dismissable,
                        classNames: e.type,
                    },
                    a.a.createElement(
                        "div",
                        { className: "re-dialog rounded ".concat(e.type) },
                        e.children
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(189),
            o = r(503),
            s = r(504);
        t.a = function (e) {
            function t() {
                r || c();
            }
            var r = e.disableClickAway,
                l = e.children,
                c = e.onClose,
                u = e.dismissable,
                d = e.classNames,
                p = Object(n.useRef)();
            Object(s.a)();
            var h = Object(o.a)(27);
            return (
                Object(i.a)(p, function () {
                    return t();
                }),
                Object(n.useEffect)(
                    function () {
                        h && t();
                    },
                    [h]
                ),
                a.a.createElement(
                    "div",
                    { className: "re-modal ".concat(d) },
                    a.a.createElement(
                        "div",
                        { className: "re-modal--dialog" },
                        a.a.createElement(
                            "div",
                            { className: "re-modal--content", ref: p },
                            u
                                ? a.a.createElement(
                                      "div",
                                      {
                                          className:
                                              "re-modal--close text-muted",
                                          onClick: c,
                                      },
                                      a.a.createElement("i", {
                                          className:
                                              "fa fa-times re-modal--close-icon",
                                      })
                                  )
                                : null,
                            l
                        )
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e, t) {
            return function () {
                for (
                    var r = new Array(arguments.length), n = 0;
                    n < r.length;
                    n++
                )
                    r[n] = arguments[n];
                return e.apply(t, r);
            };
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return encodeURIComponent(e)
                .replace(/%3A/gi, ":")
                .replace(/%24/g, "$")
                .replace(/%2C/gi, ",")
                .replace(/%20/g, "+")
                .replace(/%5B/gi, "[")
                .replace(/%5D/gi, "]");
        }
        var a = r(17);
        e.exports = function (e, t, r) {
            if (!t) return e;
            var i;
            if (r) i = r(t);
            else if (a.isURLSearchParams(t)) i = t.toString();
            else {
                var o = [];
                a.forEach(t, function (e, t) {
                    null !== e &&
                        void 0 !== e &&
                        (a.isArray(e) ? (t += "[]") : (e = [e]),
                        a.forEach(e, function (e) {
                            a.isDate(e)
                                ? (e = e.toISOString())
                                : a.isObject(e) && (e = JSON.stringify(e)),
                                o.push(n(t) + "=" + n(e));
                        }));
                }),
                    (i = o.join("&"));
            }
            if (i) {
                var s = e.indexOf("#");
                -1 !== s && (e = e.slice(0, s)),
                    (e += (-1 === e.indexOf("?") ? "?" : "&") + i);
            }
            return e;
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e) {
            return !(!e || !e.__CANCEL__);
        };
    },
    function (e, t, r) {
        "use strict";
        (function (t) {
            function n(e, t) {
                !a.isUndefined(e) &&
                    a.isUndefined(e["Content-Type"]) &&
                    (e["Content-Type"] = t);
            }
            var a = r(17),
                i = r(539),
                o = { "Content-Type": "application/x-www-form-urlencoded" },
                s = {
                    adapter: (function () {
                        var e;
                        return (
                            "undefined" != typeof XMLHttpRequest
                                ? (e = r(203))
                                : void 0 !== t &&
                                  "[object process]" ===
                                      Object.prototype.toString.call(t) &&
                                  (e = r(203)),
                            e
                        );
                    })(),
                    transformRequest: [
                        function (e, t) {
                            return (
                                i(t, "Accept"),
                                i(t, "Content-Type"),
                                a.isFormData(e) ||
                                a.isArrayBuffer(e) ||
                                a.isBuffer(e) ||
                                a.isStream(e) ||
                                a.isFile(e) ||
                                a.isBlob(e)
                                    ? e
                                    : a.isArrayBufferView(e)
                                    ? e.buffer
                                    : a.isURLSearchParams(e)
                                    ? (n(
                                          t,
                                          "application/x-www-form-urlencoded;charset=utf-8"
                                      ),
                                      e.toString())
                                    : a.isObject(e)
                                    ? (n(t, "application/json;charset=utf-8"),
                                      JSON.stringify(e))
                                    : e
                            );
                        },
                    ],
                    transformResponse: [
                        function (e) {
                            if ("string" == typeof e)
                                try {
                                    e = JSON.parse(e);
                                } catch (e) {}
                            return e;
                        },
                    ],
                    timeout: 0,
                    xsrfCookieName: "XSRF-TOKEN",
                    xsrfHeaderName: "X-XSRF-TOKEN",
                    maxContentLength: -1,
                    maxBodyLength: -1,
                    validateStatus: function (e) {
                        return e >= 200 && e < 300;
                    },
                };
            (s.headers = {
                common: { Accept: "application/json, text/plain, */*" },
            }),
                a.forEach(["delete", "get", "head"], function (e) {
                    s.headers[e] = {};
                }),
                a.forEach(["post", "put", "patch"], function (e) {
                    s.headers[e] = a.merge(o);
                }),
                (e.exports = s);
        }.call(t, r(78)));
    },
    function (e, t, r) {
        "use strict";
        var n = r(17),
            a = r(540),
            i = r(542),
            o = r(200),
            s = r(543),
            l = r(546),
            c = r(547),
            u = r(204);
        e.exports = function (e) {
            return new Promise(function (t, r) {
                var d = e.data,
                    p = e.headers;
                n.isFormData(d) && delete p["Content-Type"];
                var h = new XMLHttpRequest();
                if (e.auth) {
                    var f = e.auth.username || "",
                        m = e.auth.password
                            ? unescape(encodeURIComponent(e.auth.password))
                            : "";
                    p.Authorization = "Basic " + btoa(f + ":" + m);
                }
                var y = s(e.baseURL, e.url);
                if (
                    (h.open(
                        e.method.toUpperCase(),
                        o(y, e.params, e.paramsSerializer),
                        !0
                    ),
                    (h.timeout = e.timeout),
                    (h.onreadystatechange = function () {
                        if (
                            h &&
                            4 === h.readyState &&
                            (0 !== h.status ||
                                (h.responseURL &&
                                    0 === h.responseURL.indexOf("file:")))
                        ) {
                            var n =
                                    "getAllResponseHeaders" in h
                                        ? l(h.getAllResponseHeaders())
                                        : null,
                                i = {
                                    data:
                                        e.responseType &&
                                        "text" !== e.responseType
                                            ? h.response
                                            : h.responseText,
                                    status: h.status,
                                    statusText: h.statusText,
                                    headers: n,
                                    config: e,
                                    request: h,
                                };
                            a(t, r, i), (h = null);
                        }
                    }),
                    (h.onabort = function () {
                        h &&
                            (r(u("Request aborted", e, "ECONNABORTED", h)),
                            (h = null));
                    }),
                    (h.onerror = function () {
                        r(u("Network Error", e, null, h)), (h = null);
                    }),
                    (h.ontimeout = function () {
                        var t = "timeout of " + e.timeout + "ms exceeded";
                        e.timeoutErrorMessage && (t = e.timeoutErrorMessage),
                            r(u(t, e, "ECONNABORTED", h)),
                            (h = null);
                    }),
                    n.isStandardBrowserEnv())
                ) {
                    var g =
                        (e.withCredentials || c(y)) && e.xsrfCookieName
                            ? i.read(e.xsrfCookieName)
                            : void 0;
                    g && (p[e.xsrfHeaderName] = g);
                }
                if (
                    ("setRequestHeader" in h &&
                        n.forEach(p, function (e, t) {
                            void 0 === d && "content-type" === t.toLowerCase()
                                ? delete p[t]
                                : h.setRequestHeader(t, e);
                        }),
                    n.isUndefined(e.withCredentials) ||
                        (h.withCredentials = !!e.withCredentials),
                    e.responseType)
                )
                    try {
                        h.responseType = e.responseType;
                    } catch (t) {
                        if ("json" !== e.responseType) throw t;
                    }
                "function" == typeof e.onDownloadProgress &&
                    h.addEventListener("progress", e.onDownloadProgress),
                    "function" == typeof e.onUploadProgress &&
                        h.upload &&
                        h.upload.addEventListener(
                            "progress",
                            e.onUploadProgress
                        ),
                    e.cancelToken &&
                        e.cancelToken.promise.then(function (e) {
                            h && (h.abort(), r(e), (h = null));
                        }),
                    d || (d = null),
                    h.send(d);
            });
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(541);
        e.exports = function (e, t, r, a, i) {
            var o = new Error(e);
            return n(o, t, r, a, i);
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17);
        e.exports = function (e, t) {
            function r(e, t) {
                return n.isPlainObject(e) && n.isPlainObject(t)
                    ? n.merge(e, t)
                    : n.isPlainObject(t)
                    ? n.merge({}, t)
                    : n.isArray(t)
                    ? t.slice()
                    : t;
            }
            function a(a) {
                n.isUndefined(t[a])
                    ? n.isUndefined(e[a]) || (i[a] = r(void 0, e[a]))
                    : (i[a] = r(e[a], t[a]));
            }
            t = t || {};
            var i = {},
                o = ["url", "method", "data"],
                s = ["headers", "auth", "proxy", "params"],
                l = [
                    "baseURL",
                    "transformRequest",
                    "transformResponse",
                    "paramsSerializer",
                    "timeout",
                    "timeoutMessage",
                    "withCredentials",
                    "adapter",
                    "responseType",
                    "xsrfCookieName",
                    "xsrfHeaderName",
                    "onUploadProgress",
                    "onDownloadProgress",
                    "decompress",
                    "maxContentLength",
                    "maxBodyLength",
                    "maxRedirects",
                    "transport",
                    "httpAgent",
                    "httpsAgent",
                    "cancelToken",
                    "socketPath",
                    "responseEncoding",
                ],
                c = ["validateStatus"];
            n.forEach(o, function (e) {
                n.isUndefined(t[e]) || (i[e] = r(void 0, t[e]));
            }),
                n.forEach(s, a),
                n.forEach(l, function (a) {
                    n.isUndefined(t[a])
                        ? n.isUndefined(e[a]) || (i[a] = r(void 0, e[a]))
                        : (i[a] = r(void 0, t[a]));
                }),
                n.forEach(c, function (n) {
                    n in t
                        ? (i[n] = r(e[n], t[n]))
                        : n in e && (i[n] = r(void 0, e[n]));
                });
            var u = o.concat(s).concat(l).concat(c),
                d = Object.keys(e)
                    .concat(Object.keys(t))
                    .filter(function (e) {
                        return -1 === u.indexOf(e);
                    });
            return n.forEach(d, a), i;
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            this.message = e;
        }
        (n.prototype.toString = function () {
            return "Cancel" + (this.message ? ": " + this.message : "");
        }),
            (n.prototype.__CANCEL__ = !0),
            (e.exports = n);
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (e, t, r) {
        r(169),
            r(444),
            r(449),
            r(451),
            r(473),
            r(478),
            r(486),
            r(487),
            r(488),
            r(190),
            r(192),
            r(492),
            r(193),
            r(194),
            r(195),
            r(196),
            r(14),
            (e.exports = r(493));
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i() {
            function e(e) {
                f.default.Bus.trigger(
                    f.default.SET_COOKIE,
                    "shop_preferred_view",
                    e,
                    { expires: 720, path: "/", secure: !0 }
                ),
                    a(e),
                    v(!1),
                    "image" === e
                        ? document
                              .querySelector("body")
                              .classList.add("page-with-cover")
                        : "list" === e &&
                          document
                              .querySelector("body")
                              .classList.remove("page-with-cover"),
                    Object(h.shopListUpdated)(
                        window.app.status.shopListing
                            .shopCategorySelectedQuantity,
                        Array.from(
                            document.querySelectorAll(".cuisine-filter:checked")
                        ).reduce(function (e, t, r) {
                            return (e +=
                                0 !== r
                                    ? "|" +
                                      t.dataset.en.charAt(0).toUpperCase() +
                                      t.dataset.en.slice(1)
                                    : t.dataset.en.charAt(0).toUpperCase() +
                                      t.dataset.en.slice(1));
                        }, ""),
                        window.app.status.shopListing.shopFilteringSelected,
                        window.app.status.shopListing.shopSortingSelected,
                        window.app.status.shopListing.shopQuantityShown,
                        document.querySelectorAll(
                            ".shops-listings-shops-list-item"
                        ).length,
                        e,
                        window.app.status.shopListing.shopListMessageShown,
                        "promoted:"
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="sponsored"]'
                                ).length,
                                ",new:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="new"]'
                                ).length,
                                ",favorite:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="favourite"]'
                                ).length
                            )
                    );
            }
            var t = n(Object(o.useState)("image"), 2),
                r = t[0],
                a = t[1],
                i = n(Object(o.useState)(!1), 2),
                l = i[0],
                m = i[1],
                y = n(Object(o.useState)(!1), 2),
                g = y[0],
                v = y[1],
                b = n(Object(o.useState)(null), 2),
                w = b[0],
                _ = b[1];
            document.addEventListener("reorderLoaded", function () {
                return m(!0);
            }),
                $(window).scroll(function () {
                    var e = $(".toggle-tooltip-shop-listing");
                    e.length &&
                        ($(window).scrollTop() >
                        $("#shops-listing-toggle").offset().top - 40
                            ? e.css("opacity", "0")
                            : e.css("opacity", "1"));
                }),
                Object(o.useEffect)(function () {
                    var e = window.$.cookie("shop_preferred_view");
                    ("image" !== e && "list" !== e) || a(e);
                    var t = "ShopListingToggleViewTooltip",
                        r =
                            JSON.parse(
                                window.localStorage.getItem(
                                    "shown_onboarding_tooltips"
                                )
                            ) || [];
                    -1 === r.indexOf(t) &&
                        (setTimeout(function () {
                            return v(!0);
                        }, 1e3),
                        r.push(t),
                        window.localStorage.setItem(
                            "shown_onboarding_tooltips",
                            JSON.stringify(r)
                        ));
                }, []);
            var E = d.a.get(
                s.a.createElement(p.a, {
                    show: function () {
                        return v(!1);
                    },
                }),
                "tooltip",
                {
                    modifiers: [
                        {
                            name: "offset",
                            enabled: !0,
                            options: { offset: [0, 20] },
                        },
                    ],
                },
                "toggle-tooltip-shop-listing",
                "toggle-tooltip-shop-listing-arrow"
            );
            return s.a.createElement(
                s.a.Fragment,
                null,
                s.a.createElement(
                    "div",
                    {
                        className:
                            "shops-listing-toggle-container rounded ml-auto bg-light text-right d-flex align-items-center mr-5 mr-sm-0",
                    },
                    s.a.createElement(
                        "div",
                        {
                            className: c()("toggle-item text-center rounded", {
                                "text-muted": "image" === r,
                            }),
                            onClick: function () {
                                return e("list");
                            },
                            ref: _,
                        },
                        "list" === r
                            ? s.a.createElement("div", {
                                  className: "toggle-selector",
                              })
                            : null,
                        s.a.createElement(
                            "small",
                            null,
                            s.a.createElement("i", {
                                className: "far fa-list align-middle",
                            }),
                            s.a.createElement(
                                "span",
                                { className: "ml-2 d-none d-md-inline" },
                                window.app.i18n.trans.generic
                                    .SHOP_LISTING_TOGGLE_LIST
                            )
                        )
                    ),
                    s.a.createElement(
                        "div",
                        {
                            className: "toggle-item text-center rounded".concat(
                                "list" === r ? " text-muted" : ""
                            ),
                            onClick: function () {
                                return e("image");
                            },
                        },
                        "image" === r
                            ? s.a.createElement("div", {
                                  className: "toggle-selector",
                              })
                            : null,
                        s.a.createElement(
                            "small",
                            null,
                            s.a.createElement("i", {
                                className: "far fa-border-all align-middle",
                            }),
                            s.a.createElement(
                                "span",
                                { className: "ml-2 d-none d-md-inline" },
                                window.app.i18n.trans.generic
                                    .SHOP_LISTING_TOGGLE_IMAGES
                            )
                        )
                    )
                ),
                g
                    ? s.a.createElement(u.a, {
                          update: l,
                          config: E,
                          referenceElement: w,
                      })
                    : null
            );
        }
        var o = r(1),
            s = r.n(o),
            l = r(79),
            c = r.n(l),
            u = r(80),
            d = r(84),
            p = r(441),
            h = r(14),
            f = (r.n(h), r(9));
        (i.propTypes = {}), (t.a = i);
    },
    function (e, t, r) {
        "use strict";
        r(415), r(118), r(437);
        var n = r(170);
        r.d(t, "a", function () {
            return n.a;
        });
    },
    function (e, t, r) {
        "use strict";
        var n = r(1);
        r.n(n), r(118), r(119), r(170);
    },
    function (e, t, r) {
        "use strict";
        r(13), r(171), r(129);
        var n = r(435);
        r.d(t, "a", function () {
            return n.a;
        });
        r(185);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return ["table", "td", "th"].indexOf(Object(n.a)(e)) >= 0;
        };
        var n = r(39);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e.replace(/left|right|bottom|top/g, function (e) {
                return n[e];
            });
        };
        var n = { left: "right", right: "left", bottom: "top", top: "bottom" };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e.replace(/start|end/g, function (e) {
                return n[e];
            });
        };
        var n = { start: "end", end: "start" };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return t === a.o
                ? Object(y.a)(Object(i.a)(e))
                : Object(d.b)(t)
                ? (function (e) {
                      var t = Object(p.a)(e);
                      return (
                          (t.top = t.top + e.clientTop),
                          (t.left = t.left + e.clientLeft),
                          (t.bottom = t.top + e.clientHeight),
                          (t.right = t.left + e.clientWidth),
                          (t.width = e.clientWidth),
                          (t.height = e.clientHeight),
                          (t.x = t.left),
                          (t.y = t.top),
                          t
                      );
                  })(t)
                : Object(y.a)(Object(o.a)(Object(c.a)(e)));
        }
        t.a = function (e, t, r) {
            var a =
                    "clippingParents" === t
                        ? (function (e) {
                              var t = Object(s.a)(Object(h.a)(e)),
                                  r =
                                      ["absolute", "fixed"].indexOf(
                                          Object(u.a)(e).position
                                      ) >= 0 && Object(d.b)(e)
                                          ? Object(l.a)(e)
                                          : e;
                              return Object(d.a)(r)
                                  ? t.filter(function (e) {
                                        return (
                                            Object(d.a)(e) &&
                                            Object(f.a)(e, r) &&
                                            "body" !== Object(m.a)(e)
                                        );
                                    })
                                  : [];
                          })(e)
                        : [].concat(t),
                i = [].concat(a, [r]),
                o = i[0],
                c = i.reduce(function (t, r) {
                    var a = n(e, r);
                    return (
                        (t.top = Math.max(a.top, t.top)),
                        (t.right = Math.min(a.right, t.right)),
                        (t.bottom = Math.min(a.bottom, t.bottom)),
                        (t.left = Math.max(a.left, t.left)),
                        t
                    );
                }, n(e, o));
            return (
                (c.width = c.right - c.left),
                (c.height = c.bottom - c.top),
                (c.x = c.left),
                (c.y = c.top),
                c
            );
        };
        var a = r(13),
            i = r(421),
            o = r(422),
            s = r(179),
            l = r(64),
            c = r(36),
            u = r(59),
            d = r(23),
            p = r(82),
            h = r(81),
            f = r(173),
            m = r(39),
            y = r(180);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = Object(n.a)(e),
                r = Object(a.a)(e),
                o = t.visualViewport,
                s = r.clientWidth,
                l = r.clientHeight,
                c = 0,
                u = 0;
            return (
                o &&
                    ((s = o.width),
                    (l = o.height),
                    /^((?!chrome|android).)*safari/i.test(
                        navigator.userAgent
                    ) || ((c = o.offsetLeft), (u = o.offsetTop))),
                { width: s, height: l, x: c + Object(i.a)(e), y: u }
            );
        };
        var n = r(35),
            a = r(36),
            i = r(125);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = Object(n.a)(e),
                r = Object(o.a)(e),
                s = e.ownerDocument.body,
                l = Math.max(
                    t.scrollWidth,
                    t.clientWidth,
                    s ? s.scrollWidth : 0,
                    s ? s.clientWidth : 0
                ),
                c = Math.max(
                    t.scrollHeight,
                    t.clientHeight,
                    s ? s.scrollHeight : 0,
                    s ? s.clientHeight : 0
                ),
                u = -r.scrollLeft + Object(i.a)(e),
                d = -r.scrollTop;
            return (
                "rtl" === Object(a.a)(s || t).direction &&
                    (u += Math.max(t.clientWidth, s ? s.clientWidth : 0) - l),
                { width: l, height: c, x: u, y: d }
            );
        };
        var n = r(36),
            a = r(59),
            i = r(125),
            o = r(126);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return ["html", "body", "#document"].indexOf(Object(o.a)(e)) >= 0
                ? e.ownerDocument.body
                : Object(s.b)(e) && Object(i.a)(e)
                ? e
                : n(Object(a.a)(e));
        }
        t.a = n;
        var a = r(81),
            i = r(127),
            o = r(39),
            s = r(23);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t) {
            void 0 === t && (t = {});
            var r = t,
                s = r.placement,
                l = r.boundary,
                c = r.rootBoundary,
                u = r.padding,
                d = r.flipVariations,
                p = r.allowedAutoPlacements,
                h = void 0 === p ? a.h : p,
                f = Object(n.a)(s),
                m = f
                    ? d
                        ? a.n
                        : a.n.filter(function (e) {
                              return Object(n.a)(e) === f;
                          })
                    : a.b,
                y = m.filter(function (e) {
                    return h.indexOf(e) >= 0;
                });
            0 === y.length && (y = m);
            var g = y.reduce(function (t, r) {
                return (
                    (t[r] = Object(i.a)(e, {
                        placement: r,
                        boundary: l,
                        rootBoundary: c,
                        padding: u,
                    })[Object(o.a)(r)]),
                    t
                );
            }, {});
            return Object.keys(g).sort(function (e, t) {
                return g[e] - g[t];
            });
        };
        var n = r(83),
            a = r(13),
            i = r(65),
            o = r(40);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return "x" === e ? "y" : "x";
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e, t, r) {
            void 0 === r && (r = !1);
            var u = Object(l.a)(t),
                d = Object(n.a)(e),
                p = Object(o.b)(t),
                h = { scrollLeft: 0, scrollTop: 0 },
                f = { x: 0, y: 0 };
            return (
                (p || (!p && !r)) &&
                    (("body" !== Object(i.a)(t) || Object(c.a)(u)) &&
                        (h = Object(a.a)(t)),
                    Object(o.b)(t)
                        ? (((f = Object(n.a)(t)).x += t.clientLeft),
                          (f.y += t.clientTop))
                        : u && (f.x = Object(s.a)(u))),
                {
                    x: d.left + h.scrollLeft - f.x,
                    y: d.top + h.scrollTop - f.y,
                    width: d.width,
                    height: d.height,
                }
            );
        };
        var n = r(82),
            a = r(427),
            i = r(39),
            o = r(23),
            s = r(125),
            l = r(36),
            c = r(127);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return e !== Object(a.a)(e) && Object(i.b)(e)
                ? Object(o.a)(e)
                : Object(n.a)(e);
        };
        var n = r(126),
            a = r(35),
            i = r(23),
            o = r(428);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return { scrollLeft: e.scrollLeft, scrollTop: e.scrollTop };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = (function (e) {
                function t(e) {
                    n.add(e.name),
                        []
                            .concat(e.requires || [], e.requiresIfExists || [])
                            .forEach(function (e) {
                                if (!n.has(e)) {
                                    var a = r.get(e);
                                    a && t(a);
                                }
                            }),
                        a.push(e);
                }
                var r = new Map(),
                    n = new Set(),
                    a = [];
                return (
                    e.forEach(function (e) {
                        r.set(e.name, e);
                    }),
                    e.forEach(function (e) {
                        n.has(e.name) || t(e);
                    }),
                    a
                );
            })(e);
            return n.g.reduce(function (e, r) {
                return e.concat(
                    t.filter(function (e) {
                        return e.phase === r;
                    })
                );
            }, []);
        };
        var n = r(13);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t;
            return function () {
                return (
                    t ||
                        (t = new Promise(function (r) {
                            Promise.resolve().then(function () {
                                (t = void 0), r(e());
                            });
                        })),
                    t
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        r(432), r(13);
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            for (
                var t = arguments.length,
                    r = new Array(t > 1 ? t - 1 : 0),
                    n = 1;
                n < t;
                n++
            )
                r[n - 1] = arguments[n];
            return [].concat(r).reduce(function (e, t) {
                return e.replace(/%s/, t);
            }, e);
        };
    },
    function (e, t, r) {
        "use strict";
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = e.reduce(function (e, t) {
                var r = e[t.name];
                return (
                    (e[t.name] = r
                        ? Object.assign(
                              Object.assign(Object.assign({}, r), t),
                              {},
                              {
                                  options: Object.assign(
                                      Object.assign({}, r.options),
                                      t.options
                                  ),
                                  data: Object.assign(
                                      Object.assign({}, r.data),
                                      t.data
                                  ),
                              }
                          )
                        : t),
                    e
                );
            }, {});
            return Object.keys(t).map(function (e) {
                return t[e];
            });
        };
    },
    function (e, t, r) {
        "use strict";
        r.d(t, "a", function () {
            return f;
        });
        var n = r(129),
            a = r(124),
            i = r(128),
            o = r(123),
            s = r(120),
            l = r(183),
            c = r(178),
            u = r(184),
            d = r(172),
            p = r(182),
            h = (r(185), r(171), [a.a, i.a, o.a, s.a, l.a, c.a, u.a, d.a, p.a]),
            f = Object(n.a)({ defaultModifiers: h });
    },
    function (e, t) {
        function r(e, t) {
            if (e === t) return !0;
            if (e && t && "object" == typeof e && "object" == typeof t) {
                if (e.constructor !== t.constructor) return !1;
                var s, l, c;
                if (Array.isArray(e)) {
                    if ((s = e.length) != t.length) return !1;
                    for (l = s; 0 != l--; ) if (!r(e[l], t[l])) return !1;
                    return !0;
                }
                var u;
                if (a && e instanceof Map && t instanceof Map) {
                    if (e.size !== t.size) return !1;
                    for (u = e.entries(); !(l = u.next()).done; )
                        if (!t.has(l.value[0])) return !1;
                    for (u = e.entries(); !(l = u.next()).done; )
                        if (!r(l.value[1], t.get(l.value[0]))) return !1;
                    return !0;
                }
                if (i && e instanceof Set && t instanceof Set) {
                    if (e.size !== t.size) return !1;
                    for (u = e.entries(); !(l = u.next()).done; )
                        if (!t.has(l.value[0])) return !1;
                    return !0;
                }
                if (o && ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) {
                    if ((s = e.length) != t.length) return !1;
                    for (l = s; 0 != l--; ) if (e[l] !== t[l]) return !1;
                    return !0;
                }
                if (e.constructor === RegExp)
                    return e.source === t.source && e.flags === t.flags;
                if (e.valueOf !== Object.prototype.valueOf)
                    return e.valueOf() === t.valueOf();
                if (e.toString !== Object.prototype.toString)
                    return e.toString() === t.toString();
                if (
                    ((c = Object.keys(e)),
                    (s = c.length) !== Object.keys(t).length)
                )
                    return !1;
                for (l = s; 0 != l--; )
                    if (!Object.prototype.hasOwnProperty.call(t, c[l]))
                        return !1;
                if (n && e instanceof Element) return !1;
                for (l = s; 0 != l--; )
                    if (
                        (("_owner" !== c[l] &&
                            "__v" !== c[l] &&
                            "__o" !== c[l]) ||
                            !e.$$typeof) &&
                        !r(e[c[l]], t[c[l]])
                    )
                        return !1;
                return !0;
            }
            return e != e && t != t;
        }
        var n = "undefined" != typeof Element,
            a = "function" == typeof Map,
            i = "function" == typeof Set,
            o = "function" == typeof ArrayBuffer && !!ArrayBuffer.isView;
        e.exports = function (e, t) {
            try {
                return r(e, t);
            } catch (e) {
                if ((e.message || "").match(/stack|recursion/i))
                    return (
                        console.warn(
                            "react-fast-compare cannot handle circular refs"
                        ),
                        !1
                    );
                throw e;
            }
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = (r.n(n), r(438));
        r.n(a), r(118), r(119);
    },
    function (e, t, r) {
        "use strict";
        var n = function () {};
        e.exports = n;
    },
    function (e, t, r) {
        "use strict";
        function n() {}
        function a() {}
        var i = r(440);
        (a.resetWarningCache = n),
            (e.exports = function () {
                function e(e, t, r, n, a, o) {
                    if (o !== i) {
                        var s = new Error(
                            "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
                        );
                        throw ((s.name = "Invariant Violation"), s);
                    }
                }
                function t() {
                    return e;
                }
                e.isRequired = e;
                var r = {
                    array: e,
                    bool: e,
                    func: e,
                    number: e,
                    object: e,
                    string: e,
                    symbol: e,
                    any: e,
                    arrayOf: t,
                    element: e,
                    elementType: e,
                    instanceOf: t,
                    node: e,
                    objectOf: t,
                    oneOf: t,
                    oneOfType: t,
                    shape: t,
                    exact: t,
                    checkPropTypes: a,
                    resetWarningCache: n,
                };
                return (r.PropTypes = r), r;
            });
    },
    function (e, t, r) {
        "use strict";
        e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                { className: "d-flex align-items-center w-100" },
                a.a.createElement(
                    "div",
                    { className: "text-left", style: { flex: 1 } },
                    a.a.createElement(
                        "div",
                        null,
                        window.app.i18n.trans.generic.SHOP_LISTING_TIP
                    )
                ),
                a.a.createElement(
                    "div",
                    null,
                    a.a.createElement(
                        "span",
                        { style: { cursor: "pointer" }, onClick: e.show },
                        a.a.createElement("i", {
                            className: "text-muted fa fa-times",
                        })
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
            }
        }
        var a = r(443),
            i = (function () {
                function e() {
                    !(function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError(
                                "Cannot call a class as a function"
                            );
                    })(this, e),
                        (this.emitter = Object(a.a)());
                }
                return (
                    (function (e, t, r) {
                        t && n(e.prototype, t), r && n(e, r);
                    })(
                        e,
                        [
                            {
                                key: "on",
                                value: function (e, t) {
                                    return this.emitter.on(e, t);
                                },
                            },
                            {
                                key: "once",
                                value: function (e, t) {
                                    var r = this.emitter.on(e, function () {
                                        r && r(), t.apply(void 0, arguments);
                                    });
                                    return r;
                                },
                            },
                            {
                                key: "trigger",
                                value: function (e) {
                                    for (
                                        var t,
                                            r = arguments.length,
                                            n = new Array(r > 1 ? r - 1 : 0),
                                            a = 1;
                                        a < r;
                                        a++
                                    )
                                        n[a - 1] = arguments[a];
                                    return (t = this.emitter).emit.apply(
                                        t,
                                        [e].concat(n)
                                    );
                                },
                            },
                            {
                                key: "clear",
                                value: function (e) {
                                    e
                                        ? this.emitter.events[e] &&
                                          (this.emitter.events[e] = [])
                                        : (this.emitter.events = {});
                                },
                            },
                        ],
                        [
                            {
                                key: "getInstance",
                                value: function () {
                                    return (
                                        e.instance || (e.instance = new e()),
                                        e.instance
                                    );
                                },
                            },
                        ]
                    ),
                    e
                );
            })().getInstance();
        t.a = i;
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(e);
                t &&
                    (n = n.filter(function (t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })),
                    r.push.apply(r, n);
            }
            return r;
        }
        function o(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2
                    ? i(Object(r), !0).forEach(function (t) {
                          !(function (e, t, r) {
                              t in e
                                  ? Object.defineProperty(e, t, {
                                        value: r,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                    })
                                  : (e[t] = r);
                          })(e, t, r[t]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(r)
                      )
                    : i(Object(r)).forEach(function (t) {
                          Object.defineProperty(
                              e,
                              t,
                              Object.getOwnPropertyDescriptor(r, t)
                          );
                      });
            }
            return e;
        }
        r.d(t, "a", function () {
            return s;
        });
        var s = function () {
            return {
                queue: {},
                events: {},
                emit: function (e) {
                    for (
                        var t = arguments.length,
                            r = new Array(t > 1 ? t - 1 : 0),
                            a = 1;
                        a < t;
                        a++
                    )
                        r[a - 1] = arguments[a];
                    if (this.events[e]) {
                        var i,
                            s = n(this.events[e] || []);
                        try {
                            for (s.s(); !(i = s.n()).done; ) {
                                i.value.apply(void 0, r);
                            }
                        } catch (e) {
                            s.e(e);
                        } finally {
                            s.f();
                        }
                    } else this.queue[e] = o({}, r);
                },
                on: function (e, t) {
                    var r = this;
                    return (
                        this.queue[e] &&
                            (t(this.queue[e][0]), (this.queue[e] = null)),
                        (this.events[e] = this.events[e] || []).push(t),
                        function () {
                            return (r.events[e] = r.events[e].filter(function (
                                e
                            ) {
                                return e !== t;
                            }));
                        }
                    );
                },
            };
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return (n =
                Object.assign ||
                function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = arguments[t];
                        for (var n in r)
                            Object.prototype.hasOwnProperty.call(r, n) &&
                                (e[n] = r[n]);
                    }
                    return e;
                }).apply(this, arguments);
        }
        function a(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return i(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return i(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        a = function () {};
                    return {
                        s: a,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: a,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function o(e, t) {
            return e && e % t == 0;
        }
        function s(e) {
            var t = document.createElement("div");
            return (
                (function (e, t) {
                    t.parentNode.insertBefore(e, t.nextSibling);
                })(t, e),
                t
            );
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var l = r(1),
            c = r.n(l),
            u = r(30),
            d = r.n(u),
            p = r(445),
            h = r(448),
            f = r(14);
        r.n(f);
        window.app.renderSwimlanes = function () {
            if (
                "shop-search" === window.app.pageController &&
                document.querySelector(
                    ".shops-listings-shops-list-item--last-open"
                )
            ) {
                var e =
                    window.app &&
                    window.app.swimlanes &&
                    window.app.swimlanes.key;
                e &&
                    fetch("/swimlanes?swimlanes_key=".concat(e))
                        .then(function (e) {
                            return e.json();
                        })
                        .then(function (e) {
                            if (e) {
                                var t = (function (e) {
                                        var t,
                                            r = Array.from(
                                                document.querySelectorAll(
                                                    ".shops-listings-shops-list-item"
                                                )
                                            ).filter(function (e) {
                                                var t = !e.classList.contains(
                                                        "shops-listings-shops-list-item--promoted"
                                                    ),
                                                    r = !e.classList.contains(
                                                        "shops-listings-shops-list-item--closed"
                                                    );
                                                return t && r;
                                            }),
                                            n = 0,
                                            i = [],
                                            l = a(r);
                                        try {
                                            for (l.s(); !(t = l.n()).done; ) {
                                                var c = t.value;
                                                if (!e.length || r.length <= n)
                                                    break;
                                                o(++n, 5) &&
                                                    i.push({
                                                        data: e.shift(),
                                                        element: s(c),
                                                    });
                                            }
                                        } catch (e) {
                                            l.e(e);
                                        } finally {
                                            l.f();
                                        }
                                        return i;
                                    })(e),
                                    r = (function (e) {
                                        if (!e.length) return [];
                                        var t = document.querySelector(
                                            ".shops-listings-shops-list-item--last-open"
                                        );
                                        if (t) {
                                            var r,
                                                n = [],
                                                i = a(e);
                                            try {
                                                for (
                                                    i.s();
                                                    !(r = i.n()).done;

                                                ) {
                                                    var o = r.value;
                                                    n.push({
                                                        data: o,
                                                        element: s(t),
                                                    });
                                                }
                                            } catch (e) {
                                                i.e(e);
                                            } finally {
                                                i.f();
                                            }
                                            return n;
                                        }
                                    })(e);
                                !(function () {
                                    var e =
                                        arguments.length > 0 &&
                                        void 0 !== arguments[0]
                                            ? arguments[0]
                                            : {};
                                    if (
                                        e &&
                                        e.swimlanePairs &&
                                        e.swimlanePairs.length
                                    ) {
                                        var t = new h.a(e.swimlanePairs);
                                        Object(f.swimlanesLoaded)(t);
                                        var r,
                                            i = a(e.swimlanePairs);
                                        try {
                                            for (i.s(); !(r = i.n()).done; ) {
                                                var o = r.value;
                                                d.a.render(
                                                    c.a.createElement(
                                                        p.a,
                                                        n({}, o.data, {
                                                            swimlanesTrackingData: t,
                                                        })
                                                    ),
                                                    o.element
                                                );
                                            }
                                        } catch (e) {
                                            i.e(e);
                                        } finally {
                                            i.f();
                                        }
                                    }
                                })({ swimlanePairs: t.concat(r) });
                            }
                        })
                        .catch(function (e) {
                            return Object(f.swimlanesLoadedWithErrors)(e);
                        });
            }
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                a(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            if (e) {
                if ("string" == typeof e) return i(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                    "Object" === r && e.constructor && (r = e.constructor.name),
                    "Map" === r || "Set" === r
                        ? Array.from(e)
                        : "Arguments" === r ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        ? i(e, t)
                        : void 0
                );
            }
        }
        function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var o = r(1),
            s = r.n(o),
            l = r(446),
            c = r(447),
            u = (r.n(c), r(14));
        r.n(u);
        t.a = function (e) {
            function t(t, r) {
                return e.shops.slice(t, t + Math.round(r));
            }
            var r = Object(o.useRef)(!0),
                i = n(Object(o.useState)(!0), 2),
                d = i[0],
                p = i[1],
                h = n(Object(o.useState)(!1), 2),
                f = h[0],
                m = h[1],
                y = n(
                    Object(c.useKeenSlider)({
                        initial: 0,
                        slidesPerView: 3.6,
                        spacing: 16,
                        slideChanged: function (n) {
                            r.current
                                ? (r.current = !1)
                                : Object(u.swimlaneSwiped)(
                                      t(
                                          n.details().relativeSlide,
                                          n.details().slidesPerView
                                      ),
                                      e.meta,
                                      e.swimlanesTrackingData
                                  );
                        },
                        afterChange: function (e) {
                            var t = e.details().positions;
                            p(t[t.length - 1].portion < 0.9),
                                m(t[0].portion < 0.9);
                        },
                        breakpoints: {
                            "(max-width: 768px)": { slidesPerView: 2 },
                        },
                    }),
                    2
                ),
                g = y[0],
                v = y[1];
            return s.a.createElement(
                "div",
                { className: "px-5 px-lg-0 mt-9 mb-7 position-relative" },
                s.a.createElement(
                    "div",
                    { className: "d-flex" },
                    s.a.createElement("h3", { className: "mb-0" }, e.title),
                    e.id
                        ? s.a.createElement(
                              "div",
                              { className: "ml-auto" },
                              s.a.createElement(
                                  "a",
                                  {
                                      className: "text-muted",
                                      onClick: function (r) {
                                          r.preventDefault();
                                          var n,
                                              i = 0,
                                              o = (function (e, t) {
                                                  var r;
                                                  if (
                                                      "undefined" ==
                                                          typeof Symbol ||
                                                      null == e[Symbol.iterator]
                                                  ) {
                                                      if (
                                                          Array.isArray(e) ||
                                                          (r = a(e)) ||
                                                          (t &&
                                                              e &&
                                                              "number" ==
                                                                  typeof e.length)
                                                      ) {
                                                          r && (e = r);
                                                          var n = 0,
                                                              i = function () {};
                                                          return {
                                                              s: i,
                                                              n: function () {
                                                                  return n >=
                                                                      e.length
                                                                      ? {
                                                                            done: !0,
                                                                        }
                                                                      : {
                                                                            done: !1,
                                                                            value:
                                                                                e[
                                                                                    n++
                                                                                ],
                                                                        };
                                                              },
                                                              e: function (e) {
                                                                  throw e;
                                                              },
                                                              f: i,
                                                          };
                                                      }
                                                      throw new TypeError(
                                                          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                                                      );
                                                  }
                                                  var o,
                                                      s = !0,
                                                      l = !1;
                                                  return {
                                                      s: function () {
                                                          r = e[
                                                              Symbol.iterator
                                                          ]();
                                                      },
                                                      n: function () {
                                                          var e = r.next();
                                                          return (
                                                              (s = e.done), e
                                                          );
                                                      },
                                                      e: function (e) {
                                                          (l = !0), (o = e);
                                                      },
                                                      f: function () {
                                                          try {
                                                              s ||
                                                                  null ==
                                                                      r.return ||
                                                                  r.return();
                                                          } finally {
                                                              if (l) throw o;
                                                          }
                                                      },
                                                  };
                                              })(v.details().positions);
                                          try {
                                              for (
                                                  o.s();
                                                  !(n = o.n()).done &&
                                                  1 !== n.value.portion;

                                              )
                                                  i++;
                                          } catch (e) {
                                              o.e(e);
                                          } finally {
                                              o.f();
                                          }
                                          Object(u.swimlaneExpanded)(
                                              t(i, v.details().slidesPerView),
                                              e.meta,
                                              e.swimlanesTrackingData
                                          ),
                                              (window.location.href = "/discovery?id="
                                                  .concat(e.id, "&key=")
                                                  .concat(e.swimlanesKey));
                                      },
                                      style: { cursor: "pointer" },
                                  },
                                  window.app.i18n.trans.swimlanes.SEE_ALL,
                                  s.a.createElement("i", {
                                      className: "ml-2 h4 fa fa-chevron-right",
                                  })
                              )
                          )
                        : null
                ),
                s.a.createElement(
                    "div",
                    { className: "mt-7 position-relative" },
                    s.a.createElement(
                        "div",
                        { ref: g, className: "keen-slider pb-3" },
                        e.shops.map(function (t) {
                            return s.a.createElement(l.a, {
                                requestId: e.meta.tracking_swimlanes_request_id,
                                strategy: e.meta.tracking_swimlanes_strategy,
                                key: t.id,
                                shop: t,
                                slideClass:
                                    e.shops.length <= 3
                                        ? " swimlane-slider-less-than-3"
                                        : "",
                                isLast: t.id === e.shops[e.shops.length - 1].id,
                                goNext: function () {
                                    return v.next();
                                },
                                swimlanesTrackingData: e.swimlanesTrackingData,
                            });
                        })
                    ),
                    v && f
                        ? s.a.createElement(
                              "button",
                              {
                                  className:
                                      "rounded-circle position-absolute m-auto swimlane-btn swimlane-btn-left",
                                  onClick: function (e) {
                                      e.stopPropagation() || v.prev();
                                  },
                              },
                              s.a.createElement("i", {
                                  className:
                                      "fa fa-angle-left fa-lg text-muted",
                              })
                          )
                        : null,
                    v && d
                        ? s.a.createElement(
                              "button",
                              {
                                  className:
                                      "rounded-circle position-absolute m-auto swimlane-btn swimlane-btn-right",
                                  onClick: function (e) {
                                      e.stopPropagation() || v.next();
                                  },
                              },
                              s.a.createElement("i", {
                                  className:
                                      "fa fa-angle-right fa-lg text-muted",
                              })
                          )
                        : null
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(14);
        r.n(i);
        t.a = function (e) {
            var t = ""
                    .concat(window.app.i18n.trans.swimlanes.URL_PREFIX)
                    .concat(e.shop.slug),
                r =
                    "el" === window.app.apiLocale
                        ? (function (e) {
                              return e.toString().replace(".", ",");
                          })(e.shop.minimum_order)
                        : e.shop.minimum_order,
                n = e.shop.delivery_custom_message
                    ? e.shop.delivery_custom_message
                    : e.shop.delivery_eta + "'";
            return a.a.createElement(
                "div",
                {
                    onClick: function (r) {
                        r.preventDefault(),
                            e.isLast && e.goNext(),
                            Object(i.shopClicked)(
                                e.shop,
                                e.requestId,
                                e.strategy,
                                e.swimlanesTrackingData
                            ),
                            (window.location.href = t);
                    },
                    className:
                        "d-block bg-white rounded swimlane-item keen-slider__slide" +
                        e.slideClass,
                },
                a.a.createElement(
                    "div",
                    { className: "rounded-top swimlane-item-image" },
                    a.a.createElement("img", {
                        "data-src": e.shop.cover,
                        className: "swimlane-item-image__img cover lazyload",
                        loading: "lazy",
                    })
                ),
                a.a.createElement(
                    "div",
                    { className: "p-3" },
                    a.a.createElement(
                        "div",
                        { className: "swimlane-item-title font-weight-bold" },
                        e.shop.title
                    ),
                    a.a.createElement(
                        "div",
                        { className: "mt-2 text-truncate" },
                        a.a.createElement(
                            "small",
                            { className: "font-weight-bold text-muted" },
                            e.shop.basic_cuisine
                        )
                    ),
                    a.a.createElement(
                        "div",
                        null,
                        a.a.createElement(
                            "small",
                            { className: "text-muted" },
                            n,
                            "  ",
                            window.app.i18n.trans.swimlanes.MINIMUM_ORDER,
                            " ",
                            r,
                            window.app.i18n.currency.symbol
                        )
                    ),
                    a.a.createElement(
                        "div",
                        { className: "mt-2" },
                        a.a.createElement(
                            "small",
                            null,
                            a.a.createElement("i", {
                                className:
                                    "fas fa-star star-filled text-primary",
                            }),
                            a.a.createElement(
                                "span",
                                {
                                    className:
                                        "ml-2 text-primary font-weight-bold",
                                },
                                Number.parseFloat(
                                    e.shop.average_rating
                                ).toPrecision(2)
                            ),
                            a.a.createElement(
                                "span",
                                { className: "ml-2 text-muted" },
                                "(",
                                e.shop.num_ratings,
                                ")"
                            )
                        )
                    )
                )
            );
        };
    },
    function (e, t, r) {
        !(function (e, n) {
            n(t, r(1));
        })(0, function (e, t) {
            "use strict";
            function r(e, t, r) {
                return (
                    t in e
                        ? Object.defineProperty(e, t, {
                              value: r,
                              enumerable: !0,
                              configurable: !0,
                              writable: !0,
                          })
                        : (e[t] = r),
                    e
                );
            }
            function n(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t &&
                        (n = n.filter(function (t) {
                            return Object.getOwnPropertyDescriptor(
                                e,
                                t
                            ).enumerable;
                        })),
                        r.push.apply(r, n);
                }
                return r;
            }
            function a(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var a = null != arguments[t] ? arguments[t] : {};
                    t % 2
                        ? n(Object(a), !0).forEach(function (t) {
                              r(e, t, a[t]);
                          })
                        : Object.getOwnPropertyDescriptors
                        ? Object.defineProperties(
                              e,
                              Object.getOwnPropertyDescriptors(a)
                          )
                        : n(Object(a)).forEach(function (t) {
                              Object.defineProperty(
                                  e,
                                  t,
                                  Object.getOwnPropertyDescriptor(a, t)
                              );
                          });
                }
                return e;
            }
            function i(e, t) {
                if (e) {
                    if ("string" == typeof e) return o(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name),
                        "Map" === r || "Set" === r
                            ? Array.from(e)
                            : "Arguments" === r ||
                              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                            ? o(e, t)
                            : void 0
                    );
                }
            }
            function o(e, t) {
                (null == t || t > e.length) && (t = e.length);
                for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
                return n;
            }
            function s(e) {
                function t(e, t, r) {
                    var n =
                        arguments.length > 3 && void 0 !== arguments[3]
                            ? arguments[3]
                            : {};
                    e.addEventListener(t, r, n), we.push([e, t, r, n]);
                }
                function r(e) {
                    if (re && ne === l(e) && g()) {
                        var t = p(e).x;
                        if (!h(e) && le) return s(e);
                        le &&
                            (N(), (ae = t), B.setAttribute(ve, !0), (le = !1)),
                            e.cancelable && e.preventDefault(),
                            M(se(ae - t, xe) * (b() ? -1 : 1), e.timeStamp),
                            (ae = t);
                    }
                }
                function n(e) {
                    re ||
                        !g() ||
                        (function (e) {
                            return e.hasAttribute(ee.preventEvent);
                        })(e.target) ||
                        ((re = !0),
                        (le = !0),
                        (ne = l(e)),
                        h(e),
                        S(),
                        (te = K),
                        (ae = p(e).x),
                        M(0, e.timeStamp),
                        m("dragStart"));
                }
                function s(e) {
                    re &&
                        ne === l(e, !0) &&
                        g() &&
                        (B.removeAttribute(ve),
                        (re = !1),
                        (function () {
                            switch ((m("beforeChange"), ee.mode)) {
                                case "free":
                                    !(function () {
                                        if (0 === X)
                                            return !(!D(0) || v()) && A(K);
                                        var e =
                                            ee.friction /
                                            Math.pow(Math.abs(X), -0.5);
                                        k(
                                            (Math.pow(X, 2) / e) * Math.sign(X),
                                            6 * Math.abs(X / e),
                                            function (e) {
                                                return 1 - Math.pow(1 - e, 5);
                                            }
                                        );
                                    })();
                                    break;
                                case "free-snap":
                                    !(function () {
                                        if (0 === X) return A(K);
                                        var e =
                                                ee.friction /
                                                Math.pow(Math.abs(X), -0.5),
                                            t =
                                                (Math.pow(X, 2) / e) *
                                                Math.sign(X),
                                            r = 6 * Math.abs(X / e),
                                            n = (Ce + t) / (G / U);
                                        k(
                                            (-1 === Y
                                                ? Math.floor(n)
                                                : Math.ceil(n)) *
                                                (G / U) -
                                                Ce,
                                            r,
                                            function (e) {
                                                return 1 - Math.pow(1 - e, 5);
                                            }
                                        );
                                    })();
                                    break;
                                case "snap":
                                default:
                                    A(
                                        (1 === U && 0 !== Y ? te : K) +
                                            Math.sign(Y)
                                    );
                            }
                        })(),
                        m("dragEnd"));
                }
                function l(e) {
                    var t =
                        arguments.length > 1 &&
                        void 0 !== arguments[1] &&
                        arguments[1]
                            ? (function (e) {
                                  return e.changedTouches;
                              })(e)
                            : d(e);
                    return t ? (t[0] ? t[0].identifier : "error") : "default";
                }
                function d(e) {
                    return e.targetTouches;
                }
                function p(e) {
                    var t = d(e);
                    return {
                        x: _()
                            ? t
                                ? t[0].screenY
                                : e.pageY
                            : t
                            ? t[0].screenX
                            : e.pageX,
                        timestamp: e.timeStamp,
                    };
                }
                function h(e) {
                    var t = d(e);
                    if (!t) return !0;
                    var r = t[0],
                        n = _() ? r.clientY : r.clientX,
                        a = _() ? r.clientX : r.clientY,
                        i =
                            void 0 !== ie &&
                            void 0 !== oe &&
                            Math.abs(oe - a) <= Math.abs(ie - n);
                    return (ie = n), (oe = a), i;
                }
                function f(e) {
                    g() && re && e.preventDefault();
                }
                function m(e) {
                    ee[e] && ee[e](xe);
                }
                function y() {
                    return ee.centered;
                }
                function g() {
                    return void 0 !== $ ? $ : ee.controls;
                }
                function v() {
                    return ee.loop;
                }
                function b() {
                    return ee.rtl;
                }
                function w() {
                    return !ee.loop && ee.rubberband;
                }
                function _() {
                    return !!ee.vertical;
                }
                function E() {
                    ce = window.requestAnimationFrame(C);
                }
                function S() {
                    ce && (window.cancelAnimationFrame(ce), (ce = null)),
                        (ue = null);
                }
                function C(e) {
                    ue || (ue = e);
                    var t = e - ue,
                        r = (function (e) {
                            return de * he(e / pe) - fe;
                        })(t);
                    if (t >= pe)
                        return (
                            M(de - fe, !1), ye ? ye() : void m("afterChange")
                        );
                    var n = D(r);
                    if (0 === n || v() || w() || me) {
                        if (0 !== n && w() && !me)
                            return (function () {
                                if ((S(), 0 === X)) return A(K, !0);
                                var e = 0.04 / Math.pow(Math.abs(X), -0.5),
                                    t = (Math.pow(X, 2) / e) * Math.sign(X),
                                    r = function (e) {
                                        return --e * e * e + 1;
                                    },
                                    n = X;
                                k(t, 3 * Math.abs(n / e), r, !0, function () {
                                    k(F(R(K)), 500, r, !0);
                                });
                            })();
                        (fe += r), M(r, !1), E();
                    } else M(r - n, !1);
                }
                function A(e, t) {
                    var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : ee.duration;
                    k(
                        F(
                            (e = R(
                                e,
                                arguments.length > 3 &&
                                    void 0 !== arguments[3] &&
                                    arguments[3],
                                arguments.length > 4 &&
                                    void 0 !== arguments[4] &&
                                    arguments[4]
                            ))
                        ),
                        r,
                        function (e) {
                            return 1 + --e * e * e * e * e;
                        },
                        t
                    );
                }
                function k(e, t, r, n, a) {
                    S(),
                        (de = e),
                        (fe = 0),
                        (pe = t),
                        (he = r),
                        (me = n),
                        (ye = a),
                        (ue = null),
                        E();
                }
                function x(a) {
                    var i = c(e);
                    i.length &&
                        ((B = i[0]),
                        L(a),
                        t(window, "orientationchange", I),
                        t(window, "resize", function () {
                            return L();
                        }),
                        t(B, "dragstart", function (e) {
                            g() && e.preventDefault();
                        }),
                        t(B, "mousedown", n),
                        t(B, "mousemove", r),
                        t(B, "mouseleave", s),
                        t(B, "mouseup", s),
                        t(B, "touchstart", n, { passive: !0 }),
                        t(B, "touchmove", r, { passive: !1 }),
                        t(B, "touchend", s, { passive: !0 }),
                        t(B, "touchcancel", s, { passive: !0 }),
                        t(window, "wheel", f, { passive: !1 }),
                        m("mounted"));
                }
                function P() {
                    var e,
                        t = ge.breakpoints || [];
                    for (var r in t) window.matchMedia(r).matches && (e = r);
                    if (e === _e) return !0;
                    var n = (_e = e) ? t[_e] : ge;
                    n.breakpoints && _e && delete n.breakpoints,
                        (ee = a(a(a({}, ke), ge), n)),
                        (Ee = !0),
                        (W = null),
                        T();
                }
                function T(e, t) {
                    e && (ge = e), t && (_e = null), O(), x(t);
                }
                function L(e) {
                    var t = window.innerWidth;
                    if (P() && (t !== W || e)) {
                        W = t;
                        var r = ee.slides;
                        "number" == typeof r
                            ? ((q = null), (V = r))
                            : ((q = c(r, B)), (V = q ? q.length : 0));
                        var n = ee.dragSpeed;
                        (se =
                            "function" == typeof n
                                ? n
                                : function (e) {
                                      return e * n;
                                  }),
                            (G = _() ? B.offsetHeight : B.offsetWidth),
                            (U = (function (e) {
                                return "function" == typeof e
                                    ? e()
                                    : u(e, 1, Math.max(v() ? V - 1 : V, 1));
                            })(ee.slidesPerView)),
                            (H = u(ee.spacing, 0, G / (U - 1) - 1)),
                            (G += H),
                            (z = y() ? (G / 2 - G / U / 2) / G : 0),
                            q &&
                                q.forEach(function (e) {
                                    var t = "calc("
                                        .concat(100 / U, "% - ")
                                        .concat((H / U) * (U - 1), "px)");
                                    _()
                                        ? ((e.style["min-height"] = t),
                                          (e.style["max-height"] = t))
                                        : ((e.style["min-width"] = t),
                                          (e.style["max-width"] = t));
                                });
                        var a = !Se || (Ee && ee.resetSlide) ? ee.initial : K;
                        (function (e) {
                            m("beforeChange"), M(F(e), !1), m("afterChange");
                        })(v() ? a : j(a)),
                            _() && B.setAttribute(be, !0),
                            (Ee = !1);
                    }
                }
                function I(e) {
                    L(), setTimeout(L, 500), setTimeout(L, 2e3);
                }
                function O() {
                    we.forEach(function (e) {
                        e[0].removeEventListener(e[1], e[2], e[3]);
                    }),
                        (we = []),
                        (function () {
                            if (q) {
                                var e = ["transform", "-webkit-transform"];
                                (e = [].concat(
                                    (function (e) {
                                        return (
                                            (function (e) {
                                                if (Array.isArray(e))
                                                    return o(e);
                                            })(e) ||
                                            (function (e) {
                                                if (
                                                    "undefined" !=
                                                        typeof Symbol &&
                                                    Symbol.iterator in Object(e)
                                                )
                                                    return Array.from(e);
                                            })(e) ||
                                            i(e) ||
                                            (function () {
                                                throw new TypeError(
                                                    "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                                                );
                                            })()
                                        );
                                    })(e),
                                    _
                                        ? ["min-height", "max-height"]
                                        : ["min-width", "max-width"]
                                )),
                                    q.forEach(function (t) {
                                        e.forEach(function (e) {
                                            t.style.removeProperty(e);
                                        });
                                    });
                            }
                        })(),
                        B && B.hasAttribute(be) && B.removeAttribute(be),
                        m("destroyed");
                }
                function M(e) {
                    var t =
                        !(arguments.length > 1 && void 0 !== arguments[1]) ||
                        arguments[1];
                    (function (e, t) {
                        clearTimeout(Q);
                        var r = Math.sign(e);
                        if (
                            (r !== Y && N(),
                            (Y = r),
                            Ae.push({ distance: e, time: t }),
                            (Q = setTimeout(function () {
                                (Ae = []), (X = 0);
                            }, 50)),
                            (Ae = Ae.slice(-6)).length <= 1 || 0 === Y)
                        )
                            return (X = 0);
                        var n = Ae.slice(0, -1).reduce(function (e, t) {
                                return e + t.distance;
                            }, 0),
                            a = Ae[Ae.length - 1].time,
                            i = Ae[0].time;
                        X = u(n / (a - i), -10, 10);
                    })(
                        e,
                        arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : Date.now()
                    ),
                        t &&
                            (e = (function (e) {
                                if (v()) return e;
                                var t = D(e);
                                if (!w()) return e - t;
                                if (0 === t) return e;
                                var r;
                                return (
                                    e *
                                    ((r = t / G),
                                    (1 - Math.abs(r)) * (1 - Math.abs(r)))
                                );
                            })(e)),
                        (Ce += e),
                        (function () {
                            (J = v()
                                ? (Ce % ((G * V) / U)) / ((G * V) / U)
                                : Ce / ((G * V) / U)),
                                (function () {
                                    var e = Math.round(Ce / (G / U));
                                    e !== K &&
                                        ((!v() && (e < 0 || e > V - 1)) ||
                                            ((K = e), m("slideChanged")));
                                })();
                            for (var e = [], t = 0; t < V; t++) {
                                var r =
                                    (((1 / V) * t -
                                        (J < 0 && v() ? J + 1 : J)) *
                                        V) /
                                        U +
                                    z;
                                v() &&
                                    (r +=
                                        r > (V - 1) / U
                                            ? -V / U
                                            : r < -V / U + 1
                                            ? V / U
                                            : 0);
                                var n = 1 / U,
                                    a = r + n,
                                    i =
                                        a < n
                                            ? a / n
                                            : a > 1
                                            ? 1 - ((a - 1) * U) / 1
                                            : 1;
                                e.push({
                                    portion: i < 0 || i > 1 ? 0 : i,
                                    distance: b() ? -1 * r + 1 - n : r,
                                });
                            }
                            (Z = e),
                                q &&
                                    q.forEach(function (e, t) {
                                        var r =
                                                Z[t].distance * G -
                                                t *
                                                    (G / U -
                                                        H / U -
                                                        (H / U) * (U - 1)),
                                            n = _() ? 0 : r,
                                            a = _() ? r : 0,
                                            i = "translate3d("
                                                .concat(n, "px, ")
                                                .concat(a, "px, 0)");
                                        (e.style.transform = i),
                                            (e.style["-webkit-transform"] = i);
                                    }),
                                m("move");
                        })();
                }
                function D(e) {
                    var t = (G * (V - 1 * (y() ? 1 : U))) / U,
                        r = Ce + e;
                    return r > t ? r - t : r < 0 ? r : 0;
                }
                function j(e) {
                    return u(e, 0, V - 1 - (y() ? 0 : U - 1));
                }
                function R(e) {
                    var t =
                            arguments.length > 1 &&
                            void 0 !== arguments[1] &&
                            arguments[1],
                        r =
                            arguments.length > 2 &&
                            void 0 !== arguments[2] &&
                            arguments[2];
                    return v()
                        ? t
                            ? (function (e, t) {
                                  var r = ((K % V) + V) % V,
                                      n =
                                          r < (e = ((e % V) + V) % V)
                                              ? -r - V + e
                                              : -(r - e),
                                      a = r > e ? V - r + e : e - r,
                                      i = t
                                          ? Math.abs(n) <= a
                                              ? n
                                              : a
                                          : e < r
                                          ? n
                                          : a;
                                  return K + i;
                              })(e, r)
                            : e
                        : j(e);
                }
                function F(e) {
                    return -((-G / U) * e + Ce);
                }
                function N() {
                    Ae = [];
                }
                var B,
                    $,
                    V,
                    z,
                    q,
                    G,
                    U,
                    H,
                    W,
                    K,
                    Y,
                    Q,
                    X,
                    Z,
                    J,
                    ee,
                    te,
                    re,
                    ne,
                    ae,
                    ie,
                    oe,
                    se,
                    le,
                    ce,
                    ue,
                    de,
                    pe,
                    he,
                    fe,
                    me,
                    ye,
                    ge =
                        arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                    ve = "data-keen-slider-moves",
                    be = "data-keen-slider-v",
                    we = [],
                    _e = null,
                    Ee = !1,
                    Se = !1,
                    Ce = 0,
                    Ae = [],
                    ke = {
                        centered: !1,
                        breakpoints: null,
                        controls: !0,
                        dragSpeed: 1,
                        friction: 0.0025,
                        loop: !1,
                        initial: 0,
                        duration: 500,
                        preventEvent: "data-keen-slider-pe",
                        slides: ".keen-slider__slide",
                        vertical: !1,
                        resetSlide: !1,
                        slidesPerView: 1,
                        spacing: 0,
                        mode: "snap",
                        rtl: !1,
                        rubberband: !0,
                    },
                    xe = {
                        controls: function (e) {
                            $ = e;
                        },
                        destroy: O,
                        refresh: function (e) {
                            T(e, !0);
                        },
                        next: function () {
                            A(K + 1, !0);
                        },
                        prev: function () {
                            A(K - 1, !0);
                        },
                        moveToSlide: function (e, t) {
                            A(e, !0, t);
                        },
                        moveToSlideRelative: function (e) {
                            var t =
                                arguments.length > 1 &&
                                void 0 !== arguments[1] &&
                                arguments[1];
                            A(
                                e,
                                !0,
                                arguments.length > 2 ? arguments[2] : void 0,
                                !0,
                                t
                            );
                        },
                        resize: function () {
                            L(!0);
                        },
                        details: function () {
                            return (function () {
                                var e = Math.abs(J),
                                    t = Ce < 0 ? 1 - e : e;
                                return {
                                    direction: Y,
                                    progressTrack: t,
                                    progressSlides: (t * V) / (V - 1),
                                    positions: Z,
                                    position: Ce,
                                    speed: X,
                                    relativeSlide: ((K % V) + V) % V,
                                    absoluteSlide: K,
                                    size: V,
                                    slidesPerView: U,
                                    widthOrHeight: G,
                                };
                            })();
                        },
                    };
                return P(), (Se = !0), m("created"), xe;
            }
            function l(e) {
                return Array.prototype.slice.call(e);
            }
            function c(e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : document;
                return "function" == typeof e
                    ? l(e())
                    : "string" == typeof e
                    ? l(t.querySelectorAll(e))
                    : e instanceof HTMLElement != 0
                    ? [e]
                    : e instanceof NodeList != 0
                    ? e
                    : [];
            }
            function u(e, t, r) {
                return Math.min(Math.max(e, t), r);
            }
            Math.sign ||
                (Math.sign = function (e) {
                    return (e > 0) - (e < 0) || +e;
                });
            var d = function e(t, r) {
                var n = Object.prototype.toString.call(t);
                if (n !== Object.prototype.toString.call(r)) return !1;
                if (["[object Array]", "[object Object]"].indexOf(n) < 0)
                    return !1;
                var a =
                    "[object Array]" === n ? t.length : Object.keys(t).length;
                if (
                    a !==
                    ("[object Array]" === n ? r.length : Object.keys(r).length)
                )
                    return !1;
                var i = function (t, r) {
                    var n = Object.prototype.toString.call(t);
                    if (["[object Array]", "[object Object]"].indexOf(n) >= 0) {
                        if (!e(t, r)) return !1;
                    } else {
                        if (n !== Object.prototype.toString.call(r)) return !1;
                        if ("[object Function]" === n) {
                            if (t.toString() !== r.toString()) return !1;
                        } else if (t !== r) return !1;
                    }
                };
                if ("[object Array]" === n) {
                    for (var o = 0; o < a; o++)
                        if (!1 === i(t[o], r[o])) return !1;
                } else
                    for (var s in t)
                        if (t.hasOwnProperty(s) && !1 === i(t[s], r[s]))
                            return !1;
                return !0;
            };
            (e.default = s),
                (e.useKeenSlider = function () {
                    var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                                ? arguments[0]
                                : {},
                        r = t.useRef(),
                        n = t.useRef(),
                        a = (function (e, t) {
                            return (
                                (function (e) {
                                    if (Array.isArray(e)) return e;
                                })(e) ||
                                (function (e, t) {
                                    if (
                                        "undefined" != typeof Symbol &&
                                        Symbol.iterator in Object(e)
                                    ) {
                                        var r = [],
                                            n = !0,
                                            a = !1,
                                            i = void 0;
                                        try {
                                            for (
                                                var o, s = e[Symbol.iterator]();
                                                !(n = (o = s.next()).done) &&
                                                (r.push(o.value),
                                                !t || r.length !== t);
                                                n = !0
                                            );
                                        } catch (e) {
                                            (a = !0), (i = e);
                                        } finally {
                                            try {
                                                n ||
                                                    null == s.return ||
                                                    s.return();
                                            } finally {
                                                if (a) throw i;
                                            }
                                        }
                                        return r;
                                    }
                                })(e, t) ||
                                i(e, t) ||
                                (function () {
                                    throw new TypeError(
                                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                                    );
                                })()
                            );
                        })(t.useState(null), 2),
                        o = a[0],
                        l = a[1];
                    return (
                        t.useEffect(
                            function () {
                                var e = new s(r.current, n.current);
                                return (
                                    l(e),
                                    function () {
                                        e.destroy();
                                    }
                                );
                            },
                            [
                                (function (e) {
                                    return (
                                        d(n.current, e) || (n.current = e),
                                        n.current
                                    );
                                })(e),
                            ]
                        ),
                        [r, o]
                    );
                }),
                Object.defineProperty(e, "__esModule", { value: !0 });
        });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
            }
        }
        var a = (function () {
            function e(t) {
                !(function (e, t) {
                    if (!(e instanceof t))
                        throw new TypeError(
                            "Cannot call a class as a function"
                        );
                })(this, e),
                    (this.pairs = t),
                    (this.strategiesList = this.getStrategiesList().join(",")),
                    (this.strategiesListLoaded = this.getStrategiesListLoaded().join(
                        ", "
                    )),
                    (this.vendorIds = this.getVendorsIds().join("")),
                    (this.swimlaneTotal = this.getSwimlaneTotal()),
                    (this.swimlaneStrategyListNames = this.getSwimlaneStrategyListNames().join(
                        ","
                    )),
                    (this.swimlaneRequestId = this.getSwimlaneRequestId());
            }
            return (
                (function (e, t, r) {
                    t && n(e.prototype, t), r && n(e, r);
                })(e, [
                    {
                        key: "getStrategiesList",
                        value: function () {
                            return this.pairs
                                .map(function (e) {
                                    if (
                                        e.data &&
                                        e.data.meta &&
                                        e.data.meta.tracking_swimlanes_strategy
                                    )
                                        return e.data.meta
                                            .tracking_swimlanes_strategy;
                                })
                                .sort();
                        },
                    },
                    {
                        key: "getStrategiesListLoaded",
                        value: function () {
                            var e = this;
                            return this.getStrategiesList().map(function (
                                t,
                                r
                            ) {
                                var n = e.pairs[r];
                                if (n.data.shops && n.data.shops.length)
                                    return [t, n.data.shops.length].join(":");
                            });
                        },
                    },
                    {
                        key: "getVendorsIds",
                        value: function () {
                            var e = this;
                            return this.getStrategiesList().map(function (
                                t,
                                r
                            ) {
                                var n = e.pairs[r];
                                if (
                                    n.data.meta &&
                                    n.data.meta.tracking_swimlanes_strategy
                                )
                                    return (
                                        [
                                            t,
                                            n.data.shops
                                                .map(function (e) {
                                                    return e.id;
                                                })
                                                .join(","),
                                        ].join(":") + "; "
                                    );
                            });
                        },
                    },
                    {
                        key: "getSwimlaneStrategyListNames",
                        value: function () {
                            return this.pairs.map(function (e) {
                                return e.data.title;
                            });
                        },
                    },
                    {
                        key: "getSwimlaneTotal",
                        value: function () {
                            return this.pairs.length;
                        },
                    },
                    {
                        key: "getSwimlaneRequestId",
                        value: function () {
                            return this.pairs[0].data.meta
                                .tracking_swimlanes_request_id;
                        },
                    },
                ]),
                e
            );
        })();
        t.a = a;
    },
    function (e, t, r) {
        "use strict";
        function n() {
            window.ComponentCart.mountDeliveryMethodsModal();
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var a = r(1),
            i = r.n(a),
            o = r(30),
            s = r.n(o),
            l = r(450);
        document.addEventListener("DOMContentLoaded", function () {
            0 !==
                document.querySelectorAll(".delivery-methods-button").length &&
                (function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : {};
                    if (e.selector) {
                        var t = document.querySelectorAll(e.selector),
                            r = null;
                        document.addEventListener(
                            "set-delivery-method",
                            function (e) {
                                r = e.data;
                                for (var a = 0; a < t.length; a++) {
                                    var o = t[a];
                                    s.a.render(
                                        i.a.createElement(l.a, {
                                            selectedDeliveryMethod: r,
                                            onDeliveryMethodsButtonClicked: n,
                                        }),
                                        o
                                    );
                                }
                            }
                        );
                        for (var a = 0; a < t.length; a++) {
                            var o = t[a];
                            s.a.render(
                                i.a.createElement(l.a, {
                                    selectedDeliveryMethod: r,
                                    onDeliveryMethodsButtonClicked: n,
                                }),
                                o
                            );
                        }
                    } else
                        console.error(
                            "DeliveryMethodButtons: provide a valid selector to mount"
                        );
                })({ selector: ".delivery-methods-button" });
        });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e) {
            if (!e.selectedDeliveryMethod)
                return s.a.createElement("div", {
                    className:
                        "skeleton-shape skeleton-shape--btn-xl skeleton-shape--grey-light mb-5",
                });
            var t = n(Object(o.useState)(!1), 2),
                r = t[0],
                a = t[1],
                i = n(Object(o.useState)(null), 2),
                l = i[0],
                c = i[1],
                p = d.a.get(
                    e.selectedDeliveryMethod &&
                        e.selectedDeliveryMethod.selected &&
                        e.selectedDeliveryMethod.selected.tooltip &&
                        e.selectedDeliveryMethod.selected.tooltip.title,
                    "tooltip",
                    null,
                    null,
                    null
                );
            Object(o.useEffect)(function () {
                var t =
                    e.selectedDeliveryMethod &&
                    e.selectedDeliveryMethod.selected &&
                    e.selectedDeliveryMethod.selected.tooltip &&
                    e.selectedDeliveryMethod.selected.tooltip.id;
                if (t) {
                    var r = JSON.parse(
                            window.localStorage.getItem(
                                "shown_onboarding_tooltips"
                            )
                        ),
                        n = r || [];
                    -1 !== n.indexOf(t)
                        ? a(!1)
                        : (n.push(t),
                          window.localStorage.setItem(
                              "shown_onboarding_tooltips",
                              JSON.stringify(n)
                          ),
                          a(!0),
                          setTimeout(function () {
                              a(!1);
                          }, 5e3));
                }
            }, []);
            var h =
                    e.selectedDeliveryMethod &&
                    e.selectedDeliveryMethod.selected &&
                    e.selectedDeliveryMethod.selected.short_name,
                f = e.selectedDeliveryMethod.slots.find(function (t) {
                    return t.options.some(function (t) {
                        return (
                            t.value ===
                            e.selectedDeliveryMethod.selected.option.value
                        );
                    });
                });
            return s.a.createElement(
                s.a.Fragment,
                null,
                s.a.createElement(
                    "div",
                    {
                        ref: c,
                        className: "delivery-methods-selector",
                        onClick: e.onDeliveryMethodsButtonClicked,
                    },
                    s.a.createElement(
                        "div",
                        { className: "delivery-method-info" },
                        s.a.createElement(
                            "div",
                            { className: "delivery-method-name" },
                            h
                        ),
                        0 === e.selectedDeliveryMethod.slots.length
                            ? s.a.createElement(
                                  "div",
                                  { className: "delivery-method-subtitle" },
                                  e.selectedDeliveryMethod.selected.subtitle
                              )
                            : null,
                        1 === e.selectedDeliveryMethod.slots.length
                            ? s.a.createElement(
                                  "div",
                                  { className: "delivery-method-subtitle" },
                                  e.selectedDeliveryMethod.selected.option.title
                              )
                            : null,
                        f && e.selectedDeliveryMethod.slots.length > 1
                            ? s.a.createElement(
                                  "div",
                                  { className: "delivery-method-subtitle" },
                                  f.title,
                                  "  ",
                                  e.selectedDeliveryMethod.selected.option.title
                              )
                            : null
                    ),
                    s.a.createElement(
                        "div",
                        { className: "action-wrapper" },
                        s.a.createElement("i", {
                            className: "fas fa-chevron-right",
                        })
                    )
                ),
                r
                    ? s.a.createElement(u.a, { referenceElement: l, config: p })
                    : null
            );
        }
        var o = r(1),
            s = r.n(o),
            l = r(21),
            c = r.n(l),
            u = r(80),
            d = r(84);
        (i.propTypes = {
            selectedDeliveryMethod: c.a.object,
            onDeliveryMethodsButtonClicked: c.a.func,
        }),
            (t.a = i);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return s(e);
                })(e) ||
                (function (e) {
                    if (
                        "undefined" != typeof Symbol &&
                        Symbol.iterator in Object(e)
                    )
                        return Array.from(e);
                })(e) ||
                o(e) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            if (null == e) return {};
            var r,
                n,
                a = (function (e, t) {
                    if (null == e) return {};
                    var r,
                        n,
                        a = {},
                        i = Object.keys(e);
                    for (n = 0; n < i.length; n++)
                        (r = i[n]), t.indexOf(r) >= 0 || (a[r] = e[r]);
                    return a;
                })(e, t);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                for (n = 0; n < i.length; n++)
                    (r = i[n]),
                        t.indexOf(r) >= 0 ||
                            (Object.prototype.propertyIsEnumerable.call(e, r) &&
                                (a[r] = e[r]));
            }
            return a;
        }
        function i(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                o(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function o(e, t) {
            if (e) {
                if ("string" == typeof e) return s(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                    "Object" === r && e.constructor && (r = e.constructor.name),
                    "Map" === r || "Set" === r
                        ? Array.from(e)
                        : "Arguments" === r ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        ? s(e, t)
                        : void 0
                );
            }
        }
        function s(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function l(e, t) {
            for (var r = 0; r < e.length; r++) {
                var n = e[r],
                    a = t(n);
                h.a.render(d.a.createElement(m.a, a), n);
            }
        }
        function c() {
            function e() {
                fetch("/shop/".concat(app.shop.id, "/menu"))
                    .then(function (e) {
                        return e.json();
                    })
                    .then(function (e) {
                        return (E = e);
                    })
                    .then(function () {
                        Promise.all([
                            (function (e) {
                                var t = e.categories.reduce(
                                        function (e, t) {
                                            var n = t.items,
                                                i = a(t, ["items"]);
                                            return (
                                                i.requires_consent &&
                                                    !e.preparedItemsConsent[
                                                        i.id
                                                    ] &&
                                                    (e.preparedItemsConsent[
                                                        i.id
                                                    ] = i.consent_component),
                                                n.forEach(function (t) {
                                                    if (
                                                        !t.shortage &&
                                                        !e.preparedItems[t.code]
                                                    ) {
                                                        var n = t.name
                                                                .toLowerCase()
                                                                .split(" ")
                                                                .map(function (
                                                                    e
                                                                ) {
                                                                    return r(
                                                                        e.trim()
                                                                    );
                                                                }),
                                                            a = Object.assign(
                                                                t,
                                                                {
                                                                    romanized: n,
                                                                    category: i,
                                                                }
                                                            );
                                                        e.preparedItems[
                                                            t.code
                                                        ] = a;
                                                    }
                                                }, e.preparedItems),
                                                e
                                            );
                                        },
                                        {
                                            preparedItems: {},
                                            preparedItemsConsent: {},
                                        }
                                    ),
                                    n = t.preparedItems,
                                    i = t.preparedItemsConsent,
                                    o = Object.values(n);
                                return Promise.resolve({
                                    preparedItems: o,
                                    preparedItemsConsent: i,
                                });
                            })(E),
                            (function (e) {
                                if (!e.offers) return Promise.resolve([]);
                                var t = e.offers.map(function (e) {
                                    var t = e.title
                                        .toLowerCase()
                                        .split(" ")
                                        .map(function (e) {
                                            return r(e.trim());
                                        });
                                    return Object.assign(e, { romanized: t });
                                });
                                return Promise.resolve(t);
                            })(E),
                        ])
                            .then(function (e) {
                                var r = i(e, 2),
                                    n = r[0],
                                    a = n.preparedItems,
                                    o = n.preparedItemsConsent,
                                    s = r[1];
                                (C = a), (A = s), (k = o), l(b, t);
                            })
                            .catch(function () {
                                (C = []), (A = []), l(b, t);
                            });
                    });
            }
            function t(t) {
                return {
                    shop: w,
                    menu: C,
                    offers: A,
                    consents: k,
                    romanize: r,
                    lang: _,
                    view: t.dataset.view,
                    onSearchMounted: function (r, a) {
                        return (function (t, r, a) {
                            f.default.Bus.on(f.default.REFRESH, e),
                                t.addEventListener(
                                    "set-search-value",
                                    function (e) {
                                        return r(e.data);
                                    }
                                ),
                                t.addEventListener(
                                    "set-search-cart-product",
                                    function (e) {
                                        return a(n(e.data));
                                    }
                                );
                        })(t, r, a);
                    },
                    onSearchUnmounted: function () {
                        return (function (e) {
                            e.removeEventListener("set-search-value"),
                                e.removeEventListener(
                                    "set-search-cart-product"
                                ),
                                document.removeEventListener("refresh");
                        })(t);
                    },
                    onSearchClicked: m,
                    onSearchCleared: g,
                    onSearchChanged: function (e) {
                        return (function (e, t) {
                            !(function (e, t) {
                                var r = document.createEvent("Event");
                                (r.data = t),
                                    r.initEvent("menu-search-change", !0, !0),
                                    e
                                        .getElementsByTagName("input")[0]
                                        .dispatchEvent(r);
                            })(e, t);
                        })(t, e);
                    },
                    onEmptySearchResults: h,
                    onOfferSelect: o,
                    onProductSelect: s,
                    onQuickAddProduct: c,
                    onQuickAddProductDecrease: u,
                    onQuickAddProductIncrease: d,
                    onMaxItemCountMessageShown: p,
                };
            }
            function r(e) {
                var t = window.StringMatchUtils.removeDiacritics(e, "greek");
                return window.StringMatchUtils.romanize(t, "greek");
            }
            function o(e) {
                app.shop.is_open
                    ? app.address_exists || !app.isChain
                        ? window.ComponentCart &&
                          window.ComponentCart.mountOffer(e.id, null)
                        : app.popup.addressbox()
                    : app.popup.openSuggestedRestaurandModal();
            }
            function s(e) {
                if (app.shop.is_open)
                    if (app.address_exists || !app.isChain) {
                        if (window.ComponentCart && !e.shortage) {
                            var t = null;
                            if (window.config.supermarket) {
                                var r = window.ComponentCart.cart().products.find(
                                    function (t) {
                                        return t.product_id === e.code;
                                    }
                                );
                                t = r ? r.group_id : null;
                            }
                            window.ComponentCart.mountMenuItem(e.code, t);
                        }
                    } else app.popup.addressbox();
                else app.popup.openSuggestedRestaurandModal();
            }
            function c(e) {
                S ||
                    (app.shop.is_open
                        ? app.shop.is_serving
                            ? app.address_exists || !app.isChain
                                ? (efoodLib.tracking.addToCart(
                                      app.shop.id,
                                      app.shop.title,
                                      e.name,
                                      e.code,
                                      1,
                                      e.price,
                                      "search"
                                  ),
                                  (S = !0),
                                  window.ComponentCart.quickAddItem(e.code)
                                      .then(function () {
                                          return (S = !1);
                                      })
                                      .catch(function () {
                                          return (S = !1);
                                      }))
                                : app.popup.addressbox()
                            : window.ComponentCart.mountMenuItem(e.code, null)
                        : app.popup.openSuggestedRestaurandModal());
            }
            function u(e) {
                app.shop.is_open
                    ? app.shop.is_serving
                        ? app.address_exists || !app.isChain
                            ? (efoodLib.tracking.removeFromCart(
                                  app.shop.id,
                                  app.shop.title,
                                  e.name,
                                  e.code,
                                  e.quantity - 1,
                                  e.price,
                                  "search"
                              ),
                              window.ComponentCart.quickAddDecreaseQuantity(
                                  e.code
                              ))
                            : app.popup.addressbox()
                        : window.ComponentCart.mountMenuItem(e.code, null)
                    : app.popup.openSuggestedRestaurandModal();
            }
            function d(e) {
                app.shop.is_open
                    ? app.shop.is_serving
                        ? app.address_exists || !app.isChain
                            ? (efoodLib.tracking.addToCart(
                                  app.shop.id,
                                  app.shop.title,
                                  e.name,
                                  e.code,
                                  e.quantity + 1,
                                  e.price,
                                  "search"
                              ),
                              window.ComponentCart.quickAddIncreaseQuantity(
                                  e.code
                              ))
                            : app.popup.addressbox()
                        : window.ComponentCart.mountMenuItem(e.code, null)
                    : app.popup.openSuggestedRestaurandModal();
            }
            function p() {
                efoodLib.tracking.productItemMessageShown(
                    app.shop.id,
                    app.shop.title,
                    "search",
                    "max_item_quantity"
                );
            }
            function h(e) {
                var t = window.location.href.replace(
                    window.location.origin,
                    ""
                );
                Object(y.searchErrorShown)(
                    e,
                    t,
                    app.shop.id,
                    app.shop.verticalType
                );
            }
            function m() {
                var e = window.location.href.replace(
                    window.location.origin,
                    ""
                );
                Object(y.searchBarClicked)(
                    e,
                    app.shop.id,
                    app.shop.verticalType
                );
            }
            function g(e) {
                var t = window.location.href.replace(
                    window.location.origin,
                    ""
                );
                Object(y.searchCleared)(
                    e,
                    t,
                    app.shop.id,
                    app.shop.verticalType
                );
            }
            var v =
                arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
            if (v.selector) {
                var b = document.querySelectorAll(v.selector),
                    w = app.shop,
                    _ = window.app.i18n.trans["menu-search"],
                    E = null,
                    S = !1,
                    C = [],
                    A = [],
                    k = {};
                e();
            } else
                console.error("MenuSearch: provide a valid selector to mount");
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var u = r(1),
            d = r.n(u),
            p = r(30),
            h = r.n(p),
            f = r(9),
            m = r(452),
            y = r(14);
        r.n(y);
        document.addEventListener("DOMContentLoaded", function () {
            0 !== document.querySelectorAll(".menu-search").length &&
                c({ selector: ".menu-search" });
        });
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return s(e);
                })(e) ||
                (function (e) {
                    if (
                        "undefined" != typeof Symbol &&
                        Symbol.iterator in Object(e)
                    )
                        return Array.from(e);
                })(e) ||
                o(e) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = o(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        a = function () {};
                    return {
                        s: a,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: a,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var i,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (i = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw i;
                    }
                },
            };
        }
        function i(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                o(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function o(e, t) {
            if (e) {
                if ("string" == typeof e) return s(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                    "Object" === r && e.constructor && (r = e.constructor.name),
                    "Map" === r || "Set" === r
                        ? Array.from(e)
                        : "Arguments" === r ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        ? s(e, t)
                        : void 0
                );
            }
        }
        function s(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function l(e) {
            function t() {
                T(""), k(!1), S([]), O(!1), e.onSearchCleared();
            }
            var r = Object(c.useRef)(),
                o = i(Object(c.useState)([]), 2),
                s = o[0],
                l = o[1],
                d = i(Object(c.useState)([]), 2),
                p = d[0],
                S = d[1],
                C = i(Object(c.useState)(!1), 2),
                A = C[0],
                k = C[1],
                x = i(Object(c.useState)(""), 2),
                P = x[0],
                T = x[1],
                L = i(Object(c.useState)(!1), 2),
                I = L[0],
                O = L[1],
                M = i(Object(c.useState)(!1), 2),
                D = M[0],
                j = M[1],
                R = i(Object(c.useState)(!0), 2),
                F = R[0],
                N = R[1],
                B = Object(g.a)(P, 200);
            Object(v.a)(r, function () {
                return j(!1);
            }),
                Object(b.a)(h.default.MENU_HIDE_OFFERS, function () {
                    t(), N(!1);
                }),
                Object(b.a)(h.default.MENU_SHOW_OFFERS, function () {
                    t(), N(!0);
                }),
                Object(c.useEffect)(
                    function () {
                        e.onSearchChanged(P);
                    },
                    [P]
                ),
                Object(c.useEffect)(function () {
                    return (
                        e.onSearchMounted(T, function (e) {
                            return l(e);
                        }),
                        function () {
                            e.onSearchUnmounted();
                        }
                    );
                }, []),
                Object(c.useEffect)(
                    function () {
                        var t = B.trim().toLowerCase();
                        if (t.length <= 2) return S([]), void O(!1);
                        var r = t
                            .split(" ")
                            .filter(Boolean)
                            .map(function (t) {
                                return e.romanize(t.trim());
                            });
                        k(!0),
                            (function (e, t, r) {
                                var o = t.reduce(function (t, r) {
                                        var o,
                                            s = 0,
                                            l = a(e.entries());
                                        try {
                                            for (l.s(); !(o = l.n()).done; ) {
                                                var c,
                                                    u = i(o.value, 2),
                                                    d = u[0],
                                                    p = u[1],
                                                    h = a(
                                                        r.romanized.entries()
                                                    );
                                                try {
                                                    for (
                                                        h.s();
                                                        !(c = h.n()).done;

                                                    ) {
                                                        var f = i(c.value, 2),
                                                            m =
                                                                1 / (f[0] + 1) +
                                                                1 / (d + 1),
                                                            y = f[1].indexOf(p);
                                                        -1 !== y &&
                                                            (s +=
                                                                (1 / (y + 1)) *
                                                                m);
                                                    }
                                                } catch (e) {
                                                    h.e(e);
                                                } finally {
                                                    h.f();
                                                }
                                            }
                                        } catch (e) {
                                            l.e(e);
                                        } finally {
                                            l.f();
                                        }
                                        return 0 === s
                                            ? t
                                            : [].concat(n(t), [
                                                  Object.assign(
                                                      {
                                                          score: s,
                                                          type: "item",
                                                      },
                                                      r
                                                  ),
                                              ]);
                                    }, []),
                                    s = [];
                                F &&
                                    (s = r.reduce(function (t, r) {
                                        var o,
                                            s = 0,
                                            l = a(e.entries());
                                        try {
                                            for (l.s(); !(o = l.n()).done; ) {
                                                var c,
                                                    u = i(o.value, 2),
                                                    d = u[0],
                                                    p = u[1],
                                                    h = a(
                                                        r.romanized.entries()
                                                    );
                                                try {
                                                    for (
                                                        h.s();
                                                        !(c = h.n()).done;

                                                    ) {
                                                        var f = i(c.value, 2),
                                                            m =
                                                                1 / (f[0] + 1) +
                                                                1 / (d + 1),
                                                            y = f[1].indexOf(p);
                                                        -1 !== y &&
                                                            (s +=
                                                                (1 / (y + 1)) *
                                                                m);
                                                    }
                                                } catch (e) {
                                                    h.e(e);
                                                } finally {
                                                    h.f();
                                                }
                                            }
                                        } catch (e) {
                                            l.e(e);
                                        } finally {
                                            l.f();
                                        }
                                        return 0 === s
                                            ? t
                                            : [].concat(n(t), [
                                                  Object.assign(
                                                      {
                                                          score: s,
                                                          type: "offer",
                                                      },
                                                      r
                                                  ),
                                              ]);
                                    }, []));
                                var l = [].concat(n(o), n(s));
                                l.sort(function (e, t) {
                                    return e.score > t.score
                                        ? -1
                                        : e.score < t.score
                                        ? 1
                                        : 0;
                                });
                                var c = l.slice(0, 30);
                                return Promise.resolve(c);
                            })(r, e.menu, e.offers)
                                .then(function (t) {
                                    S(t),
                                        O(t.length <= 0),
                                        k(!1),
                                        t.length <= 0 &&
                                            e.onEmptySearchResults(B);
                                })
                                .catch(function () {
                                    return k(!1);
                                });
                    },
                    [B, e.menu]
                );
            var $ = i(Object(c.useState)(null), 2),
                V = $[0],
                z = $[1],
                q = E.a.get(
                    u.a.createElement(
                        "div",
                        null,
                        I
                            ? u.a.createElement(y.a, { value: P })
                            : u.a.createElement(m.a, {
                                  items: p,
                                  consents: e.consents,
                                  cartProducts: s,
                                  view: e.view,
                                  onOfferSelect: function (t) {
                                      e.onOfferSelect(t);
                                  },
                                  onItemSelect: function (t) {
                                      e.onProductSelect(t);
                                  },
                                  onQuickAddItem: function (t) {
                                      e.onQuickAddProduct(t);
                                  },
                                  onQuickAddItemDecrease: function (t, r) {
                                      var n = Object.assign(t, {
                                          quantity: r.quantity,
                                      });
                                      e.onQuickAddProductDecrease(n);
                                  },
                                  onQuickAddItemIncrease: function (t, r) {
                                      var n = Object.assign(t, {
                                          quantity: r.quantity,
                                      });
                                      e.onQuickAddProductIncrease(n);
                                  },
                                  onMaxItemCountMessageShown:
                                      e.onMaxItemCountMessageShown,
                              })
                    ),
                    "dropdown",
                    null,
                    "menu-search-dropdown" + (D ? "" : " d-none"),
                    null
                );
            return u.a.createElement(
                "div",
                { className: "shop-profile-menu-search", ref: r },
                u.a.createElement(
                    w.a.Provider,
                    { value: e.lang },
                    u.a.createElement(
                        "div",
                        { ref: z },
                        u.a.createElement(f.a, {
                            value: P,
                            onChange: function (e) {
                                T(e);
                            },
                            onClear: t,
                            loading: A,
                            onClick: function () {
                                j(!0), e.onSearchClicked();
                            },
                        })
                    ),
                    u.a.createElement(_.a, {
                        update: D,
                        target: r.current,
                        referenceElement: V,
                        config: q,
                    })
                )
            );
        }
        var c = r(1),
            u = r.n(c),
            d = r(21),
            p = r.n(d),
            h = r(9),
            f = r(453),
            m = r(456),
            y = r(471),
            g = r(472),
            v = r(189),
            b = r(133),
            w = r(85),
            _ = r(80),
            E = r(84);
        (l.propTypes = {
            shop: p.a.object,
            menu: p.a.array,
            offers: p.a.array,
            consents: p.a.object,
            lang: p.a.object,
            onSearchMounted: p.a.func,
            onSearchUnmounted: p.a.func,
            onSearchClicked: p.a.func,
            onSearchCleared: p.a.func,
            onSearchChanged: p.a.func,
            onEmptySearchResults: p.a.func,
            onProductSelect: p.a.func,
            onQuickAddProduct: p.a.func,
            onQuickAddProductDecrease: p.a.func,
            onQuickAddProductIncrease: p.a.func,
            onMaxItemCountMessageShown: p.a.func,
        }),
            (t.a = l);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = Object(a.useContext)(u.a);
            return i.a.createElement(
                "div",
                {
                    className:
                        "search-input-wrapper form-group m-0 w-100 bg-white rounded box-shadow",
                    onClick: e.onClick,
                },
                i.a.createElement(
                    "div",
                    { className: "input-group h-100" },
                    i.a.createElement(l.a, { loading: e.loading }),
                    i.a.createElement("input", {
                        className:
                            "form-control search-input border-0 pl-0 my-auto",
                        type: "text",
                        placeholder: t["search-placeholder"],
                        onChange: function (t) {
                            return e.onChange(t.target.value);
                        },
                        value: e.value,
                        autoComplete: "off",
                    }),
                    e.value.length > 0
                        ? i.a.createElement(c.a, { onClick: e.onClear })
                        : null
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o),
            l = r(454),
            c = r(455),
            u = r(85);
        (n.propTypes = {
            loading: s.a.bool,
            value: s.a.string,
            onChange: s.a.func,
            onClear: s.a.func,
            onClick: s.a.func,
        }),
            (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return i.a.createElement(
                "div",
                { className: "input-group-prepend" },
                i.a.createElement(
                    "div",
                    {
                        className:
                            "input-group-text border-0 bg-white text-muted ml-4",
                    },
                    e.loading
                        ? i.a.createElement("i", {
                              className: "fad fa-spinner fa-spin",
                          })
                        : i.a.createElement("i", {
                              className: "fa fa-search text-muted",
                              "aria-hidden": "true",
                          })
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o);
        (n.propTypes = { loading: s.a.bool }), (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return i.a.createElement(
                "div",
                { className: "input-group-append" },
                i.a.createElement(
                    "div",
                    { className: "input-group-text bg-white border-0" },
                    i.a.createElement(
                        "button",
                        {
                            type: "button",
                            className:
                                "search-icon border-0 d-flex align-items-center outline-0",
                            onClick: e.onClick,
                        },
                        i.a.createElement("i", {
                            className: "fa fa-times",
                            "aria-hidden": "true",
                        })
                    )
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o);
        (n.propTypes = { onClick: s.a.func }), (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = e.items.reduce(
                    function (e, t) {
                        return (
                            t.requires_consent
                                ? e.consentItems.push(t)
                                : e.cleanItems.push(t),
                            e
                        );
                    },
                    { cleanItems: [], consentItems: [] }
                ),
                r = t.cleanItems,
                n = t.consentItems;
            return i.a.createElement(
                "div",
                { className: "bg-white shadow rounded" },
                i.a.createElement(
                    "ul",
                    {
                        className:
                            "shop-profile-menu-list collapse mb-0 dont-collapse-md dont-collapse-sm-down list-unstyled",
                    },
                    i.a.createElement(d.a, { items: n, consents: e.consents }),
                    r.map(function (t) {
                        var r = e.cartProducts.find(function (e) {
                            return e.product_id === t.code;
                        });
                        return "grid" === e.view
                            ? i.a.createElement(l.a, {
                                  key: t.code,
                                  product: t,
                                  cartProduct: r,
                                  onProductSelected: function () {
                                      return e.onItemSelect(t, r);
                                  },
                                  onQuickAddProduct: function () {
                                      return e.onQuickAddItem(t);
                                  },
                                  onQuickAddProductDecrease: function () {
                                      return e.onQuickAddItemDecrease(t, r);
                                  },
                                  onQuickAddProductIncrease: function () {
                                      return e.onQuickAddItemIncrease(t, r);
                                  },
                                  onMaxItemCountMessageShown:
                                      e.onMaxItemCountMessageShown,
                              })
                            : "offer" === t.type
                            ? i.a.createElement(u.a, {
                                  key: t.id,
                                  product: t,
                                  onOfferSelected: function () {
                                      return e.onOfferSelect(t, r);
                                  },
                              })
                            : i.a.createElement(c.a, {
                                  key: t.code,
                                  product: t,
                                  onProductSelected: function () {
                                      return e.onItemSelect(t, r);
                                  },
                              });
                    })
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o),
            l = r(457),
            c = r(458),
            u = r(459),
            d = r(460);
        (n.propTypes = {
            items: s.a.array,
            cartProducts: s.a.array,
            onOfferSelect: s.a.func,
            onItemSelect: s.a.func,
            onQuickAddItem: s.a.func,
            onQuickAddItemDecrease: s.a.func,
            onQuickAddItemIncrease: s.a.func,
            onMaxItemCountMessageShown: s.a.func,
        }),
            (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e) {
            var t = [e.product.size_info, e.product.metric_unit_description]
                    .filter(Boolean)
                    .join("  "),
                r = Object(o.useContext)(f.a),
                a = !Boolean(e.cartProduct),
                i = Object(o.useRef)(),
                l = n(Object(o.useState)(!1), 2),
                c = l[0],
                u = l[1],
                g = n(Object(o.useState)(null), 2),
                v = g[0],
                b = g[1],
                w = y.a.get(
                    r["max-item-count"].replace(
                        "%n",
                        e.cartProduct ? e.cartProduct.max_item_count : null
                    ),
                    "tooltip",
                    {
                        placement: "top-end",
                        modifiers: [
                            {
                                name: "offset",
                                enabled: !0,
                                options: { offset: [0, 16] },
                            },
                        ],
                    },
                    "search-tooltip-inner" + (c ? "" : " d-none"),
                    "search-tooltip-arrow"
                );
            return s.a.createElement(
                "li",
                {
                    className: d()(
                        "shop-profile-menu-list-item px-5 pt-7 pb-5",
                        {
                            "shop-profile-menu-list-item--not-available":
                                e.product.shortage,
                        }
                    ),
                    onClick: e.onProductSelected,
                },
                s.a.createElement(
                    "div",
                    {
                        className:
                            "shop-profile-menu-list-item--inner d-flex align-items-start",
                    },
                    s.a.createElement(
                        "div",
                        {
                            className:
                                "shop-profile-menu-search-item__image-wrapper flex-shrink-0  mr-7",
                        },
                        e.product.images && e.product.images.menu
                            ? s.a.createElement("img", {
                                  alt: e.product.name,
                                  width: "108",
                                  className:
                                      "shop-profile-menu-list-item-img bg-white rounded",
                                  src: e.product.images.menu,
                              })
                            : null
                    ),
                    s.a.createElement(
                        "div",
                        { className: "w-100" },
                        s.a.createElement(
                            "p",
                            { className: "mb-0" },
                            e.product.name
                        ),
                        e.product.badges &&
                            e.product.badges.length > 0 &&
                            0 !== Object.keys(e.product.badges[0]).length
                            ? s.a.createElement(
                                  "div",
                                  { className: "mt-3" },
                                  s.a.createElement(
                                      "span",
                                      { className: "d-inline-block" },
                                      s.a.createElement(
                                          p.a,
                                          e.product.badges[0]
                                      )
                                  )
                              )
                            : null,
                        s.a.createElement(
                            "div",
                            { className: "d-block d-sm-flex" },
                            s.a.createElement(
                                "div",
                                null,
                                s.a.createElement(
                                    "button",
                                    {
                                        type: "button",
                                        className:
                                            "mt-6 py-0 px-0 btn btn-link btn-add-to-cart hover-no-decoration text-black d-flex flex-column",
                                    },
                                    s.a.createElement(
                                        "span",
                                        {
                                            className:
                                                "shop-profile-menu-search-item__price font-weight-bold order-2",
                                        },
                                        Object(h.a)(
                                            e.product.price,
                                            app.i18n.locale,
                                            app.i18n.currency.symbol
                                        )
                                    ),
                                    e.product.discount && e.product.discount > 0
                                        ? s.a.createElement(
                                              "del",
                                              {
                                                  className:
                                                      "shop-profile-menu-search-item__full-price small text-left",
                                              },
                                              Object(h.a)(
                                                  e.product.full_price,
                                                  app.i18n.locale,
                                                  app.i18n.currency.symbol
                                              )
                                          )
                                        : null
                                ),
                                t
                                    ? s.a.createElement(
                                          "div",
                                          {
                                              className:
                                                  "mt-2 small text-muted",
                                          },
                                          t
                                      )
                                    : null
                            ),
                            s.a.createElement(
                                "div",
                                {
                                    className:
                                        "quick-add-controls ml-auto mt-4 mt-sm-auto",
                                    ref: b,
                                },
                                s.a.createElement("div", { ref: i }),
                                s.a.createElement(
                                    "button",
                                    {
                                        className:
                                            "quick-add-button px-6 align-items-center justify-content-center btn btn-block btn-sm " +
                                            (a ? "d-flex" : "d-none"),
                                        onClick: function (t) {
                                            t.stopPropagation(),
                                                e.onQuickAddProduct(t);
                                        },
                                    },
                                    s.a.createElement(
                                        "small",
                                        null,
                                        s.a.createElement("i", {
                                            className:
                                                "fas fa-plus font-weight-light mr-1",
                                        }),
                                        s.a.createElement(
                                            "span",
                                            { className: "font-weight-bold" },
                                            r.add
                                        )
                                    )
                                ),
                                s.a.createElement(
                                    "div",
                                    {
                                        className: d()(
                                            "quick-add-update-controls-wrapper",
                                            { "d-none": a }
                                        ),
                                    },
                                    s.a.createElement(
                                        "div",
                                        {
                                            className:
                                                "quick-add-update-controls d-flex justify-content-between align-items-center ",
                                        },
                                        s.a.createElement(
                                            "div",
                                            {
                                                className: "quick-add-decrease",
                                                onClick: function (t) {
                                                    t.stopPropagation(),
                                                        e.onQuickAddProductDecrease(
                                                            t
                                                        );
                                                },
                                            },
                                            "-"
                                        ),
                                        s.a.createElement(
                                            "div",
                                            { className: "quick-add-quantity" },
                                            Boolean(e.cartProduct)
                                                ? e.cartProduct.quantity
                                                : 0
                                        ),
                                        s.a.createElement(
                                            "div",
                                            {
                                                className: "quick-add-increase",
                                                onClick: function (t) {
                                                    t.stopPropagation(),
                                                        e.cartProduct
                                                            .max_item_count ===
                                                            e.cartProduct
                                                                .quantity &&
                                                            (u(!0),
                                                            e.onMaxItemCountMessageShown(),
                                                            setTimeout(
                                                                function () {
                                                                    u(!1);
                                                                },
                                                                3e3
                                                            )),
                                                        e.onQuickAddProductIncrease(
                                                            t
                                                        );
                                                },
                                            },
                                            "+"
                                        )
                                    )
                                ),
                                c
                                    ? s.a.createElement(m.a, {
                                          update: c,
                                          target: i.current,
                                          referenceElement: v,
                                          config: w,
                                      })
                                    : null
                            )
                        )
                    )
                )
            );
        }
        var o = r(1),
            s = r.n(o),
            l = r(21),
            c = r.n(l),
            u = r(79),
            d = r.n(u),
            p = r(86),
            h = r(130),
            f = r(85),
            m = r(80),
            y = r(84);
        (i.propTypes = {
            product: c.a.object,
            onProductSelected: c.a.func,
            onQuickAddProduct: c.a.func,
            onQuickAddProductIncrease: c.a.func,
            onQuickAddProductDecrease: c.a.func,
        }),
            (t.a = i);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = Object(d.a)(
                    e.product.price,
                    app.i18n.locale,
                    app.i18n.currency.symbol
                ),
                r = e.product.has_variations
                    ? ""
                          .concat(
                              window.app.i18n.trans["menu-search"].from,
                              " "
                          )
                          .concat(t)
                    : t;
            return i.a.createElement(
                "li",
                {
                    className: c()(
                        "shop-profile-menu-list-item px-9 pt-7 pb-5",
                        {
                            "shop-profile-menu-list-item--not-available":
                                e.product.shortage,
                        }
                    ),
                    onClick: e.onProductSelected,
                },
                i.a.createElement(
                    "div",
                    {
                        className:
                            "shop-profile-menu-list-item--inner d-flex align-items-start",
                    },
                    i.a.createElement(
                        "div",
                        { className: "w-100" },
                        i.a.createElement(
                            "p",
                            { className: "mb-0 font-weight-bold" },
                            e.product.name
                        ),
                        e.product.description
                            ? i.a.createElement(
                                  "div",
                                  {
                                      className:
                                          "small text-muted shop-profile-menu-list-item-description",
                                  },
                                  e.product.description
                              )
                            : null,
                        i.a.createElement(
                            "div",
                            { className: "mt-3 d-inline-block" },
                            r
                        ),
                        e.product.badges &&
                            e.product.badges.length > 0 &&
                            0 !== Object.keys(e.product.badges[0]).length
                            ? i.a.createElement(
                                  "span",
                                  { className: "ml-3 d-inline-block" },
                                  i.a.createElement(u.a, e.product.badges[0])
                              )
                            : null
                    ),
                    e.product.images && e.product.images.menu
                        ? i.a.createElement(
                              "div",
                              { className: "pl-5 flex-shrink-0" },
                              i.a.createElement("img", {
                                  alt: e.product.name,
                                  width: "108",
                                  className:
                                      "shop-profile-menu-list-item-img bg-white rounded",
                                  src: e.product.images.menu,
                              })
                          )
                        : null
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o),
            l = r(79),
            c = r.n(l),
            u = r(86),
            d = r(130);
        (n.propTypes = { product: s.a.object, onProductSelected: s.a.func }),
            (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return i.a.createElement(
                "li",
                {
                    className: c()(
                        "shop-profile-menu-list-item px-9 pt-7 pb-5",
                        {
                            "shop-profile-menu-list-item--not-available":
                                e.product.shortage,
                        }
                    ),
                    onClick: e.onOfferSelected,
                },
                i.a.createElement(
                    "div",
                    {
                        className:
                            "shop-profile-menu-list-item--inner d-flex align-items-start",
                    },
                    i.a.createElement(
                        "div",
                        { className: "w-100" },
                        i.a.createElement(
                            "p",
                            { className: "mb-0 font-weight-bold" },
                            e.product.title
                        ),
                        e.product.price
                            ? i.a.createElement(
                                  "div",
                                  { className: "mt-3 mr-3 d-inline-block" },
                                  Object(d.a)(
                                      e.product.price,
                                      app.i18n.locale,
                                      app.i18n.currency.symbol
                                  )
                              )
                            : null,
                        e.product.badges &&
                            e.product.badges.length > 0 &&
                            0 !== Object.keys(e.product.badges[0]).length
                            ? i.a.createElement(
                                  "span",
                                  { className: "d-inline-block" },
                                  i.a.createElement(u.a, e.product.badges[0])
                              )
                            : null
                    ),
                    e.product.image
                        ? i.a.createElement(
                              "div",
                              { className: "pl-5 flex-shrink-0" },
                              i.a.createElement("img", {
                                  alt: e.product.name,
                                  width: "108",
                                  className:
                                      "shop-profile-menu-list-item-img bg-white rounded",
                                  src: e.product.image,
                              })
                          )
                        : null
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o),
            l = r(79),
            c = r.n(l),
            u = r(86),
            d = r(130);
        (n.propTypes = { product: s.a.object, onOfferSelected: s.a.func }),
            (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i),
            s = r(461);
        t.a = function (e) {
            var t,
                r = [],
                a = [],
                i = n(e.items);
            try {
                for (i.s(); !(t = i.n()).done; ) {
                    var l = t.value.category.id;
                    if (e.consents[l]) {
                        var c = e.consents[l];
                        a.includes(c.uuid) ||
                            (r.push(e.consents[l]), a.push(c.uuid));
                    }
                }
            } catch (e) {
                i.e(e);
            } finally {
                i.f();
            }
            return o.a.createElement(
                o.a.Fragment,
                null,
                r.map(function (e, t) {
                    return o.a.createElement(s.a, {
                        key: "consent-".concat(t),
                        component: e,
                    });
                })
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(31),
            a = r.n(n);
        t.a = function (e) {
            var t = a.a.instantiate(e.component);
            return React.createElement(
                "li",
                { className: "shop-profile-menu-list-item px-5 pt-7 pb-5" },
                t
            );
        };
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.EVENTS = void 0),
            (t.EVENTS = { INIT: "init", CLICK: "click" });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.RegistryContainer = void 0);
        var n = (function () {
            function e() {
                (this.components = new Map()), (this.commands = new Map());
            }
            return (
                (e.prototype.clear = function () {
                    (this.components = new Map()), (this.commands = new Map());
                }),
                e
            );
        })();
        t.RegistryContainer = n;
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        t.default = function () {};
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        t.default = function (e) {
            return e.replace(/:|\./g, "-");
        };
    },
    function (e, t, r) {
        "use strict";
        var n =
            (this && this.__importDefault) ||
            function (e) {
                return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.prerendered = t.dynamic = void 0);
        var a = r(469);
        Object.defineProperty(t, "dynamic", {
            enumerable: !0,
            get: function () {
                return n(a).default;
            },
        });
        var i = r(470);
        Object.defineProperty(t, "prerendered", {
            enumerable: !0,
            get: function () {
                return n(i).default;
            },
        });
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            for (
                var t = {},
                    r = 0,
                    n = Array.from(
                        document.querySelectorAll(
                            "[data-dynamic-component-data]"
                        )
                    );
                r < n.length;
                r++
            ) {
                var a = n[r],
                    s = a.dataset.dynamicComponentData,
                    l = JSON.parse(a.innerText);
                t[s] = l;
            }
            for (
                var c = 0,
                    u = Array.from(
                        document.querySelectorAll(".dynamic-component")
                    );
                c < u.length;
                c++
            ) {
                var d = u[c];
                t[(s = d.dataset.dynamicComponent)] &&
                    i.default.render(o.default(t[s], e), d);
            }
        }
        var a =
            (this && this.__importDefault) ||
            function (e) {
                return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.process = void 0);
        var i = a(r(30)),
            o = a(r(186));
        (t.process = n), (t.default = { process: n });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            l[e] = s.default(t);
        }
        function a(e, t) {
            return l[e] && l[e][t] ? l[e][t]() : null;
        }
        function i() {
            for (
                var e = {},
                    t = 0,
                    r = document.querySelectorAll("[data-prerendered-event]");
                t < r.length;
                t++
            ) {
                var i = r[t],
                    o = i.dataset.prerenderedEvent,
                    s = JSON.parse(i.innerHTML);
                e[o] = s;
            }
            for (
                var l = function (t) {
                        var r = t.dataset.prerenderedComponent;
                        if (e[r]) {
                            n(r, e[r]);
                            for (
                                var i = (t.dataset.triggers || "").split(","),
                                    o = 0,
                                    s = ["click"];
                                o < s.length;
                                o++
                            ) {
                                var l = s[o];
                                i.includes(l)
                                    ? t.addEventListener(
                                          "trigger-click",
                                          function () {
                                              return a(r, "click");
                                          }
                                      )
                                    : t.addEventListener("click", function () {
                                          return a(r, "click");
                                      });
                            }
                        }
                    },
                    c = 0,
                    u = document.querySelectorAll(".prerendered-component");
                c < u.length;
                c++
            ) {
                l(u[c]);
            }
        }
        var o =
            (this && this.__importDefault) ||
            function (e) {
                return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.process = t.call = t.register = void 0);
        var s = o(r(187)),
            l = {};
        (t.register = n),
            (t.call = a),
            (t.process = i),
            (t.default = { register: n, call: a, process: i });
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = Object(a.useContext)(l.a);
            return i.a.createElement(
                "div",
                { className: "bg-white shadow rounded px-5 px-md-9 py-3" },
                i.a.createElement(
                    "span",
                    { className: "no-results text-muted" },
                    t["no-results"],
                    ' "',
                    e.value,
                    '"'
                )
            );
        }
        var a = r(1),
            i = r.n(a),
            o = r(21),
            s = r.n(o),
            l = r(85);
        (n.propTypes = { value: s.a.string }), (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1);
        r.n(i);
        t.a = function (e, t) {
            var r = n(Object(i.useState)(e), 2),
                a = r[0],
                o = r[1];
            return (
                Object(i.useEffect)(
                    function () {
                        var r = setTimeout(function () {
                            o(e);
                        }, t);
                        return function () {
                            clearTimeout(r);
                        };
                    },
                    [e, t]
                ),
                a
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = i(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        a = function () {};
                    return {
                        s: a,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: a,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                i(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function i(e, t) {
            if (e) {
                if ("string" == typeof e) return o(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                    "Object" === r && e.constructor && (r = e.constructor.name),
                    "Map" === r || "Set" === r
                        ? Array.from(e)
                        : "Arguments" === r ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        ? o(e, t)
                        : void 0
                );
            }
        }
        function o(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function s(e) {
            "@babel/helpers - typeof";
            return (s =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                    ? function (e) {
                          return typeof e;
                      }
                    : function (e) {
                          return e &&
                              "function" == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? "symbol"
                              : typeof e;
                      })(e);
        }
        function l(e) {
            !(function (e) {
                var t,
                    r = n(e);
                try {
                    for (r.s(); !(t = r.n()).done; ) {
                        var i = a(t.value, 2),
                            o = i[0],
                            s = i[1];
                        0 !== s.size &&
                            ("page-top" !== o.dataset.placement &&
                            "page-middle" !== o.dataset.placement &&
                            "page-bottom" !== o.dataset.placement
                                ? "popup" !== o.dataset.placement ||
                                  p.a.render(
                                      u.a.createElement(f.a, {
                                          notifications: Array.from(s),
                                      }),
                                      o
                                  )
                                : p.a.render(
                                      u.a.createElement(h.a, {
                                          notifications: Array.from(s),
                                      }),
                                      o
                                  ));
                    }
                } catch (e) {
                    r.e(e);
                } finally {
                    r.f();
                }
            })(
                (function (e) {
                    var t = new Map(),
                        r = Array.from(
                            document.querySelectorAll(".dynamic-notification")
                        );
                    r.sort(function (e, t) {
                        return "order" in e.dataset || "order" in t.dataset
                            ? "order" in e.dataset && "order" in t.dataset
                                ? t.dataset.order - e.dataset.order
                                : 1
                            : 0;
                    });
                    for (var i = 0, o = r; i < o.length; i++) {
                        var s = o[i];
                        t.set(s, new Set());
                    }
                    var l,
                        c = a(
                            e.reduce(
                                function (e, t) {
                                    return t.meta.placement
                                        ? (e[0].push(t), e)
                                        : (e[1].push(t), e);
                                },
                                [[], []]
                            ),
                            2
                        ),
                        u = c[0],
                        d = c[1],
                        p = n(u);
                    try {
                        for (p.s(); !(l = p.n()).done; ) {
                            var h = l.value,
                                f = h.meta.placement;
                            if (f.desktop) {
                                var m,
                                    y = n(r);
                                try {
                                    for (y.s(); !(m = y.n()).done; ) {
                                        var g = m.value;
                                        if (g.dataset.placement === f.desktop) {
                                            var v = t.get(g);
                                            v.size < g.dataset.quantity &&
                                                v.add(h);
                                            break;
                                        }
                                    }
                                } catch (e) {
                                    y.e(e);
                                } finally {
                                    y.f();
                                }
                            }
                            if (f.mobile) {
                                var b,
                                    w = n(r);
                                try {
                                    for (w.s(); !(b = w.n()).done; ) {
                                        var _ = b.value;
                                        if (_.dataset.placement === f.mobile) {
                                            var E = t.get(_);
                                            E.size < _.dataset.quantity &&
                                                E.add(h);
                                            break;
                                        }
                                    }
                                } catch (e) {
                                    w.e(e);
                                } finally {
                                    w.f();
                                }
                            }
                        }
                    } catch (e) {
                        p.e(e);
                    } finally {
                        p.f();
                    }
                    var S,
                        C = n(d);
                    try {
                        for (C.s(); !(S = C.n()).done; ) {
                            var A,
                                k = S.value,
                                x = n(r);
                            try {
                                for (x.s(); !(A = x.n()).done; ) {
                                    var P = A.value,
                                        T = t.get(P);
                                    if (T.size < P.dataset.quantity) {
                                        T.add(k);
                                        break;
                                    }
                                }
                            } catch (e) {
                                x.e(e);
                            } finally {
                                x.f();
                            }
                        }
                    } catch (e) {
                        C.e(e);
                    } finally {
                        C.f();
                    }
                    return t;
                })(e)
            );
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var c = r(1),
            u = r.n(c),
            d = r(30),
            p = r.n(d),
            h = r(474),
            f = r(476);
        document.addEventListener("DOMContentLoaded", function () {
            var e = new ApiJsSdk({
                    baseUrl: app.apiURL,
                    userSid: app.userSid,
                    language: app.apiLocale || "en",
                }),
                t = (function (e) {
                    if ("homepage" === e) {
                        var t = {};
                        return (
                            app.latitude &&
                                app.longitude &&
                                ((t.latitude = app.latitude),
                                (t.longitude = app.longitude)),
                            { view: "home", params: t }
                        );
                    }
                    if ("shop-search" === e) {
                        var r = {};
                        return (
                            app.area_slug
                                ? (r.slug = app.area_slug)
                                : ((r.latitude = app.latitude),
                                  (r.longitude = app.longitude)),
                            { view: "restaurant_listing", params: r }
                        );
                    }
                    if (["menu", "shop-menu"].includes(e)) {
                        var n = {};
                        if (
                            (app.shop.id
                                ? (n.restaurant_id = app.shop.id)
                                : (n.slug = app.shop.slug),
                            app.latitude &&
                                app.longitude &&
                                ((n.latitude = app.latitude),
                                (n.longitude = app.longitude)),
                            "object" ===
                                ("undefined" == typeof ComponentCart
                                    ? "undefined"
                                    : s(ComponentCart)) &&
                                ComponentCart.cart &&
                                "function" == typeof ComponentCart.cart)
                        ) {
                            var a = ComponentCart.cart();
                            (n.restaurant_id = a.restaurant_id),
                                (n.cart = a.export());
                        }
                        return { view: "shop_profile", params: n };
                    }
                    if ("order_form" === e) {
                        var i = {};
                        if (
                            (app.latitude &&
                                app.longitude &&
                                ((i.latitude = app.latitude),
                                (i.longitude = app.longitude)),
                            app.restaurant_id &&
                                (i.restaurant_id = app.restaurant_id),
                            app.delivery_type &&
                                (i.delivery_type = app.delivery_type),
                            "object" ===
                                ("undefined" == typeof ComponentCart
                                    ? "undefined"
                                    : s(ComponentCart)) &&
                                ComponentCart.cart &&
                                "function" == typeof ComponentCart.cart)
                        ) {
                            var o = ComponentCart.cart();
                            (i.restaurant_id = o.restaurant_id),
                                (i.cart = o.export());
                        }
                        if (
                            i.cart &&
                            paymentsUI &&
                            paymentsUI.getPaymentDetails &&
                            "function" == typeof paymentsUI.getPaymentDetails
                        ) {
                            var l = paymentsUI.getPaymentDetails();
                            i.cart.payment_method = l.payment_method;
                        }
                        return { view: "checkout", params: i };
                    }
                    if ("thankyou" === e) {
                        var c = {};
                        return (
                            (c.order_id = app.orderId),
                            app.latitude &&
                                app.longitude &&
                                ((c.latitude = app.latitude),
                                (c.longitude = app.longitude)),
                            { view: "thankyou", params: c }
                        );
                    }
                })(app.pageController);
            t &&
                e
                    .notifications(t.view, t.params)
                    .then(function (e) {
                        return "object" !== s(e.data) &&
                            Array.isArray(e.data.notifications)
                            ? Promise.reject()
                            : e.data.notifications;
                    })
                    .then(function (e) {
                        var t = {
                            data: e,
                            refresh: function () {
                                l(this.data);
                            },
                        };
                        (app.notifications = t), app.notifications.refresh();
                    })
                    .catch(function () {});
        });
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(475);
        t.a = function (e) {
            var t = ["panel-dynamic-notification-list"];
            return (
                (!e.notifications || 0 === e.notifications.length) &&
                    t.push("panel-dynamic-notification-list--empty"),
                a.a.createElement(
                    "div",
                    { className: t.join(" ") },
                    e.notifications.map(function (e, t) {
                        return a.a.createElement(i.a, {
                            key: t,
                            notification: e,
                        });
                    })
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e) {
            var t = e.link,
                r = e.children;
            return t
                ? s.a.createElement(
                      "a",
                      {
                          href: t,
                          className: "w-100 hover-no-decoration d-block",
                          target: "_blank",
                      },
                      r
                  )
                : r;
        }
        var o = r(1),
            s = r.n(o);
        t.a = function (e) {
            var t = n(Object(o.useState)(!0), 2),
                r = t[0],
                a = t[1];
            if (!r) return null;
            var l =
                e.notification.meta && "promo" === e.notification.meta.template
                    ? "promo"
                    : "";
            return s.a.createElement(
                "div",
                {
                    className: "panel-dynamic-notification d-flex align-items-center rounded mt-5 p-5 px-sm-7 py-sm-5 box-shadow ".concat(
                        l
                    ),
                },
                s.a.createElement(
                    i,
                    { link: e.notification.deeplink },
                    s.a.createElement(
                        "div",
                        { className: "d-flex h-100 w-100 align-items-stretch" },
                        s.a.createElement(
                            "div",
                            {
                                className:
                                    "panel-dynamic-notification-image d-flex align-items-center",
                            },
                            s.a.createElement("img", {
                                className:
                                    "panel-dynamic-notification-image__img mr-3 mr-sm-7",
                                src: e.notification.image,
                                alt: "",
                            })
                        ),
                        s.a.createElement(
                            "div",
                            {
                                className:
                                    "panel-dynamic-notification-info h3 font-weight-normal my-auto mr-8",
                            },
                            s.a.createElement("div", {
                                className:
                                    "panel-dynamic-notification-info__title",
                                dangerouslySetInnerHTML: {
                                    __html: e.notification.title,
                                },
                            }),
                            s.a.createElement("div", {
                                className:
                                    "panel-dynamic-notification-info__subtitle",
                                dangerouslySetInnerHTML: {
                                    __html: e.notification.subtitle,
                                },
                            })
                        ),
                        s.a.createElement(
                            "div",
                            {
                                className:
                                    "dynamic-notification-icons ml-auto  mr-0",
                            },
                            !e.notification.deeplink &&
                                e.notification.dismissible
                                ? s.a.createElement(
                                      "button",
                                      {
                                          type: "button",
                                          className:
                                              "dynamic-notification-icons__close close position-relative",
                                          onClick: function (e) {
                                              e.preventDefault(), a(!1);
                                          },
                                          "aria-label": "Close",
                                      },
                                      s.a.createElement("i", {
                                          className: "far fa-times fa-xs",
                                      })
                                  )
                                : null,
                            e.notification.deeplink
                                ? s.a.createElement(
                                      "div",
                                      {
                                          className:
                                              "dynamic-notification-icons__deeplink text-center",
                                      },
                                      s.a.createElement("i", {
                                          className:
                                              "fas fa-chevron-right fa-lg",
                                      })
                                  )
                                : null
                        )
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(477);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                {
                    className:
                        "popup-notification-container position-fixed d-none d-md-block",
                },
                e.notifications.map(function (e, t) {
                    return a.a.createElement(i.a, { key: t, notification: e });
                })
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e) {
            var t = e.link,
                r = e.children;
            return s.a.createElement(
                "a",
                { href: t, className: "hover-no-decoration d-block" },
                r
            );
        }
        var o = r(1),
            s = r.n(o);
        t.a = function (e) {
            var t = n(Object(o.useState)(!0), 2),
                r = t[0],
                a = t[1];
            return r
                ? s.a.createElement(
                      "div",
                      {
                          className:
                              "popup-dynamic-notification bg-white mt-4 px-5 py-7 rounded border-0",
                          role: "alert",
                      },
                      s.a.createElement(
                          i,
                          { link: e.notification.deeplink },
                          s.a.createElement(
                              "div",
                              {
                                  className:
                                      "d-flex h-100 w-100 align-items-stretch",
                              },
                              s.a.createElement(
                                  "div",
                                  { className: "my-auto mr-6 flex-shrink-0" },
                                  s.a.createElement("img", {
                                      className: "rounded-circle border",
                                      width: "48",
                                      height: "48",
                                      src: e.notification.image,
                                      alt: "",
                                  })
                              ),
                              s.a.createElement(
                                  "div",
                                  { className: "my-auto mr-8" },
                                  s.a.createElement(
                                      "div",
                                      {
                                          className:
                                              "popup-dynamic-notification-info mb-0",
                                      },
                                      s.a.createElement("div", {
                                          className:
                                              "popup-dynamic-notification-info__title",
                                          dangerouslySetInnerHTML: {
                                              __html: e.notification.title,
                                          },
                                      }),
                                      s.a.createElement("div", {
                                          className:
                                              "popup-dynamic-notification-info__subtitle",
                                          dangerouslySetInnerHTML: {
                                              __html: e.notification.subtitle,
                                          },
                                      })
                                  )
                              ),
                              s.a.createElement(
                                  "div",
                                  {
                                      className:
                                          "dynamic-notification-icons ml-auto mr-0",
                                  },
                                  !e.notification.deeplink &&
                                      e.notification.dismissible
                                      ? s.a.createElement(
                                            "button",
                                            {
                                                type: "button",
                                                className:
                                                    "dynamic-notification-icons__close position-relative",
                                                "aria-label": "Close",
                                                onClick: function (e) {
                                                    e.preventDefault(), a(!1);
                                                },
                                            },
                                            s.a.createElement("i", {
                                                className: "far fa-times fa-lg",
                                            })
                                        )
                                      : null,
                                  e.notification.deeplink
                                      ? s.a.createElement(
                                            "div",
                                            {
                                                className:
                                                    "dynamic-notification-icons__deeplink text-center",
                                            },
                                            s.a.createElement("i", {
                                                className:
                                                    "fas fa-chevron-right fa-lg",
                                            })
                                        )
                                      : null
                              )
                          )
                      )
                  )
                : null;
        };
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(1),
            a = r.n(n),
            i = r(30),
            o = r.n(i),
            s = r(479);
        document.addEventListener("DOMContentLoaded", function () {
            !(function () {
                var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : {};
                if (e.selector) {
                    var t = document.getElementById(e.selector);
                    t && o.a.render(a.a.createElement(s.a, null), t);
                } else console.error("OrderTracking: provide a valid selector to mount");
            })({ selector: "order-tracking" });
        });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i),
            s = r(480),
            l = r(482),
            c = r(87),
            u = r(484),
            d = r(485),
            p = r(14);
        r.n(p);
        t.a = function () {
            function e(e) {
                if (
                    !(function (e) {
                        if (!e.data || !e.data.tracking) return !0;
                        var t = e.data.tracking,
                            n = t.state && t.state === r.state,
                            a = S(t) === r.delay,
                            i =
                                t.delivery_information &&
                                t.delivery_information === r.time;
                        return n && a && i;
                    })(e)
                ) {
                    var t = s.a.get(e.data.tracking);
                    if (t)
                        return (
                            a(t),
                            (function (e) {
                                var t = c.a.animate(
                                    "order-tracking-animation",
                                    f,
                                    {
                                        animationUrl: e.animationUrl,
                                        animationSpeed: e.animationSpeed,
                                        quality: "low",
                                    }
                                );
                                m(t);
                            })(t),
                            (function (e) {
                                if (!C(e.state)) return !1;
                                var t = e.riderCoordinates;
                                if (!g) return v(!0), void u.a.init(t);
                                var n = !r.riderCoordinates && !t,
                                    a = r.riderCoordinates && !t;
                                if (n || a || _(t)) return !1;
                                u.a.init(t);
                            })(t),
                            (function (e) {
                                A(e.state) &&
                                    (document
                                        .querySelector(".order-success-symbol")
                                        .classList.add("d-none"),
                                    document
                                        .querySelector(".order-canceled-symbol")
                                        .classList.remove("d-none"));
                            })(t),
                            t
                        );
                }
            }
            var t = n(Object(i.useState)({}), 2),
                r = t[0],
                a = t[1],
                h = n(Object(i.useState)(null), 2),
                f = h[0],
                m = h[1],
                y = n(Object(i.useState)(!1), 2),
                g = y[0],
                v = y[1],
                b = {
                    baseUrl: window.app.apiURL,
                    userSid: window.app.userSid,
                    language: window.app.apiLocale || "en",
                },
                w = new ApiJsSdk(b),
                _ = function (e) {
                    return (
                        r.riderCoordinates &&
                        e &&
                        r.riderCoordinates.latitude === e.latitude &&
                        r.riderCoordinates.longitude === e.longitude
                    );
                },
                E = function () {
                    return (
                        r &&
                        r.state &&
                        ("DELIVERED" === r.state || "CANCELLED" === r.state)
                    );
                },
                S = function (e) {
                    return (
                        e.view &&
                        e.view.split(":").length &&
                        "delayed" === e.view.split(":").pop()
                    );
                },
                C = function (e) {
                    return "ARRIVING_SOON" === e;
                },
                A = function (e) {
                    return "CANCELLED" === e;
                },
                k = function () {
                    return r && "DELIVERED" === r.state;
                },
                x = function () {
                    return console.error(
                        "Could not establish a connection with the server"
                    );
                },
                P = window.app && window.app.orderId,
                T = window.app && window.app.userSid,
                L = window.app && window.app.shop.id,
                I = window.app && window.app.shop.title,
                O = window.app && window.app.shop.vertical;
            Object(i.useEffect)(function () {
                E() ||
                    M(e, x).then(function (e) {
                        if (void 0 !== e) {
                            var t = Date.now();
                            Object(p.liveOrderTrackingLoaded)(
                                e.state,
                                e.delay,
                                P,
                                T,
                                t,
                                L,
                                I,
                                O
                            );
                        }
                    });
            }, []),
                Object(d.a)(
                    function () {
                        E() ||
                            M(e, x).then(function (e) {
                                if (void 0 !== e) {
                                    var t = Date.now();
                                    Object(p.liveOrderTrackingUpdated)(
                                        e.state,
                                        e.delay,
                                        P,
                                        T,
                                        t,
                                        L,
                                        I,
                                        O
                                    );
                                }
                            });
                    },
                    E() ? null : 1e4
                );
            var M = function (e, t) {
                return w
                    .orderTracking(window.app.orderId)
                    .then(function (t) {
                        return e(t);
                    })
                    .catch(function (e) {
                        return t(e);
                    });
            };
            return 0 === Object.keys(r).length && r.constructor === Object
                ? null
                : o.a.createElement(
                      "div",
                      {
                          className:
                              "bg-white rounded box-shadow position-relative py-5",
                      },
                      o.a.createElement(
                          "div",
                          { className: "rounded text-center" },
                          E()
                              ? null
                              : o.a.createElement(
                                    "div",
                                    { className: "text-muted" },
                                    window.app.i18n.trans["order-tracking"]
                                        .ORDER_TRACKING_DELIVERED_BY,
                                    " ",
                                    window.app.brandName
                                ),
                          E()
                              ? null
                              : o.a.createElement(
                                    "div",
                                    {
                                        className: "py-3 mt-5",
                                        style: { backgroundColor: "#edf7ee" },
                                    },
                                    o.a.createElement("i", {
                                        className:
                                            "fa fa-circle text-success align-middle",
                                        "aria-hidden": "true",
                                        style: { fontSize: "8px" },
                                    }),
                                    o.a.createElement(
                                        "small",
                                        { className: "ml-2 font-weight-bold" },
                                        window.app.i18n.trans["order-tracking"]
                                            .ORDER_TRACKING_LIVE_PROGRESS
                                    )
                                ),
                          r.info
                              ? o.a.createElement(
                                    "div",
                                    { className: "text-muted mt-7" },
                                    r.info
                                )
                              : null,
                          r.time
                              ? o.a.createElement(
                                    "div",
                                    {
                                        className: "mt-3 font-weight-bold",
                                        style: {
                                            fontSize: "32px",
                                            color: r.delay
                                                ? "#ffc200"
                                                : "#333333",
                                        },
                                    },
                                    r.time
                                )
                              : null,
                          E() ? null : o.a.createElement(l.a, r.progress),
                          r.animationUrl && !k()
                              ? o.a.createElement("div", {
                                    className:
                                        "mx-auto thankyou-order-tracking-animation",
                                    id: "order-tracking-animation",
                                })
                              : null,
                          C(r.state)
                              ? o.a.createElement(
                                    "div",
                                    { className: "mt-12 mx-9" },
                                    o.a.createElement("div", {
                                        className:
                                            "thankyou-order-tracking-map",
                                        id: "order-tracking-map",
                                    })
                                )
                              : null,
                          (!r.title && !r.subtitle) || r.altView
                              ? o.a.createElement(
                                    "div",
                                    { className: "text-center px-7 mt-10" },
                                    r.title
                                        ? o.a.createElement(
                                              "h1",
                                              { className: "mb-0" },
                                              r.title
                                          )
                                        : null,
                                    r.subtitle
                                        ? o.a.createElement(
                                              "p",
                                              {
                                                  className:
                                                      "mt-3 text-muted mx-auto thankyou-order-tracking-subtitle",
                                              },
                                              r.subtitle
                                          )
                                        : null
                                )
                              : o.a.createElement(
                                    "div",
                                    { className: "mt-5 text-center" },
                                    r.title
                                        ? o.a.createElement(
                                              "p",
                                              { className: "mb-0" },
                                              r.title
                                          )
                                        : null,
                                    r.subtitle
                                        ? o.a.createElement(
                                              "p",
                                              {
                                                  className:
                                                      "mt-1 text-muted mx-auto thankyou-order-tracking-subtitle text-muted",
                                              },
                                              r.subtitle
                                          )
                                        : null
                                ),
                          k()
                              ? o.a.createElement(
                                    "div",
                                    null,
                                    o.a.createElement("div", {
                                        style: { width: "280px" },
                                        className:
                                            "mx-auto thankyou-order-tracking-animation",
                                        id: "order-tracking-animation",
                                    })
                                )
                              : null,
                          r.image
                              ? o.a.createElement(
                                    "div",
                                    { className: "mt-5" },
                                    o.a.createElement("img", {
                                        width: "280",
                                        height: "280",
                                        src: r.image,
                                        alt: "order cancelled",
                                    })
                                )
                              : null
                      )
                  );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(481),
            a = {
                get: function (e) {
                    if (!e) return {};
                    var t = window.app.i18n.trans["order-tracking"],
                        r = Object(n.a)(t)[e.state];
                    if (!r) return {};
                    var a = {
                        state: e.state,
                        time: r.hasTime ? e.delivery_information : null,
                        info: r.info,
                        progress: r.progress,
                        title: r.title,
                        subtitle: r.subtitle,
                        animationUrl: (function (e, t) {
                            return t.animation && e && t.animation[e]
                                ? "/site-assets/img/order-tracking/".concat(
                                      t.animation[e],
                                      ".json"
                                  )
                                : null;
                        })(e.view, r),
                        image: r.image,
                        riderCoordinates: (function (e, t) {
                            return "ARRIVING_SOON" === e &&
                                t &&
                                t.rider &&
                                t.rider.latitude &&
                                t.rider.longitude
                                ? t.rider
                                : null;
                        })(e.state, e.meta),
                        delay: (function (e) {
                            var t = e.split(":");
                            return e && t.length && "delayed" === t.pop();
                        })(e.view),
                        altView: (function (e) {
                            return "DELIVERED" === e || "CANCELLED" === e;
                        })(e.state),
                        animationSpeed: r.animationSpeed,
                    };
                    return (a = (function (e, t) {
                        return (
                            e.delay &&
                                ((e.progress.delay = !0),
                                (e.title = t.ORDER_TRACKING_IS_DELAYED_TITLE),
                                (e.subtitle =
                                    t.ORDER_TRACKING_IS_DELAYED_SUBTITLE)),
                            e
                        );
                    })(a, t));
                },
            };
        t.a = a;
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return {
                RECEIVED: {
                    info: e.ORDER_TRACKING_INFO_ESTIMATION,
                    title: e.ORDER_TRACKING_RECEIVED_TITLE,
                    subtitle: e.ORDER_TRACKING_RECEIVED_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 1, delay: !1, show: !0 },
                    animation: {
                        own_delivery: "own-delivery-received",
                        own_delivery_groceries: "own-delivery-received",
                        own_delivery_pharmacy: "own-delivery-received",
                        "own_delivery:delayed": "own-delivery-received",
                        "own_delivery_groceries:delayed":
                            "own-delivery-received",
                        "own_delivery_pharmacy:delayed":
                            "own-delivery-received",
                    },
                    animationSpeed: 0.9,
                },
                IN_PROGRESS: {
                    info: e.ORDER_TRACKING_INFO_COMPLETE,
                    title: e.ORDER_TRACKING_IN_PROGRESS_TITLE,
                    subtitle: e.ORDER_TRACKING_IN_PROGRESS_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 1, delay: !1, show: !0 },
                    animation: {
                        own_delivery: "own-delivery-review",
                        own_delivery_groceries: "own-delivery-review",
                        own_delivery_pharmacy: "own-delivery-review",
                        "own_delivery:delayed": "own-delivery-review",
                        "own_delivery_groceries:delayed": "own-delivery-review",
                        "own_delivery_pharmacy:delayed": "own-delivery-review",
                    },
                    animationSpeed: 0.9,
                },
                PREPARING: {
                    info: e.ORDER_TRACKING_INFO_COMPLETE,
                    title: e.ORDER_TRACKING_PREPARING_TITLE,
                    subtitle: e.ORDER_TRACKING_PREPARING_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 2, delay: !1, show: !0 },
                    animation: {
                        own_delivery: "own-delivery-prepare",
                        own_delivery_groceries: "own-delivery-prepare-2",
                        own_delivery_pharmacy: "own-delivery-prepare",
                        "own_delivery:delayed": "own-delivery-prepare-delayed",
                        "own_delivery_groceries:delayed":
                            "own-delivery-prepare-2",
                        "own_delivery_pharmacy:delayed": "own-delivery-prepare",
                    },
                    animationSpeed: 0.9,
                },
                READY_FOR_DELIVERY: {
                    info: e.ORDER_TRACKING_INFO_COMPLETE,
                    title: e.ORDER_TRACKING_READY_FOR_DELIVERY_TITLE,
                    subtitle: e.ORDER_TRACKING_READY_FOR_DELIVERY_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 3, delay: !1, show: !0 },
                    animation: {
                        own_delivery: "own-delivery-ready-for-delivery",
                        own_delivery_groceries:
                            "own-delivery-ready-for-delivery",
                        own_delivery_pharmacy:
                            "own-delivery-ready-for-delivery",
                        "own_delivery:delayed":
                            "own-delivery-ready-for-delivery",
                        "own_delivery_groceries:delayed":
                            "own-delivery-ready-for-delivery",
                        "own_delivery_pharmacy:delayed":
                            "own-delivery-ready-for-delivery",
                    },
                    animationSpeed: 0.9,
                },
                PICKED_UP: {
                    info: e.ORDER_TRACKING_INFO_COMPLETE,
                    title: e.ORDER_TRACKING_PICKED_UP_TITLE,
                    subtitle: e.ORDER_TRACKING_PICKED_UP_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 3, delay: !1, show: !0 },
                    animation: {
                        own_delivery: "own-delivery-picked-up",
                        own_delivery_groceries: "own-delivery-picked-up",
                        own_delivery_pharmacy: "own-delivery-picked-up",
                        "own_delivery:delayed":
                            "own-delivery-picked-up-delayed",
                        "own_delivery_groceries:delayed":
                            "own-delivery-picked-up-delayed",
                        "own_delivery_pharmacy:delayed":
                            "own-delivery-picked-up-delayed",
                    },
                    animationSpeed: 0.9,
                },
                ARRIVING_SOON: {
                    info: e.ORDER_TRACKING_INFO_COMPLETE,
                    title: e.ORDER_TRACKING_ARRIVING_SOON_TITLE,
                    subtitle: e.ORDER_TRACKING_ARRIVING_SOON_SUBTITLE,
                    hasTime: !0,
                    image: null,
                    progress: { activeStep: 4, delay: !1, show: !0 },
                    animation: null,
                    animationSpeed: 0.9,
                },
                DELIVERED: {
                    info: null,
                    title: e.ORDER_TRACKING_DELIVERED_TITLE,
                    subtitle: e.ORDER_TRACKING_DELIVERED_SUBTITLE,
                    hasTime: !1,
                    image: null,
                    progress: { activeStep: 4, delay: !1, show: !1 },
                    animation: {
                        own_delivery: "own-delivery-delivered",
                        own_delivery_groceries: "own-delivery-delivered",
                        own_delivery_pharmacy: "own-delivery-delivered",
                        "own_delivery:delayed": "own-delivery-delivered",
                        "own_delivery_groceries:delayed":
                            "own-delivery-delivered",
                        "own_delivery_pharmacy:delayed":
                            "own-delivery-delivered",
                    },
                    animationSpeed: 0.9,
                },
                CANCELLED: {
                    info: null,
                    title: e.ORDER_TRACKING_CANCELED_TITLE,
                    subtitle: e.ORDER_TRACKING_CANCELED_SUBTITLE,
                    hasTime: !1,
                    image: "/site-assets/img/order-tracking/cancelled.png",
                    progress: { activeStep: null, delay: !1, show: !1 },
                    animation: null,
                    animationSpeed: null,
                },
            };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(87);
        t.a = function (e) {
            var t = Object(n.useRef)(null);
            if (t.current) {
                t.current.querySelectorAll("*").forEach(function (e) {
                    return e.remove();
                });
                var r = document.createElement("div");
                (r.id = "order-tracking-step"),
                    t.current.appendChild(r),
                    i.a.animate("order-tracking-step", null, {
                        animationUrl: e.delay
                            ? "/site-assets/img/order-tracking/steps/".concat(
                                  e.activeStep,
                                  "_delayed.json"
                              )
                            : "/site-assets/img/order-tracking/steps/".concat(
                                  e.activeStep,
                                  ".json"
                              ),
                    });
            }
            return a.a.createElement("div", {
                style: {},
                className: "thankyou-order-tracking-progress mx-auto mt-7",
                ref: t,
                id: "order-tracking-steps",
            });
        };
    },
    function (module, exports, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_RESULT__;
        "undefined" != typeof navigator &&
            (function (e, t) {
                void 0 ===
                    (__WEBPACK_AMD_DEFINE_RESULT__ = function () {
                        return t(e);
                    }.call(exports, __webpack_require__, exports, module)) ||
                    (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
            })(window || {}, function (window) {
                "use strict";
                function ProjectInterface() {
                    return {};
                }
                function roundValues(e) {
                    bm_rnd = e
                        ? Math.round
                        : function (e) {
                              return e;
                          };
                }
                function styleDiv(e) {
                    (e.style.position = "absolute"),
                        (e.style.top = 0),
                        (e.style.left = 0),
                        (e.style.display = "block"),
                        (e.style.transformOrigin = e.style.webkitTransformOrigin =
                            "0 0"),
                        (e.style.backfaceVisibility = e.style.webkitBackfaceVisibility =
                            "visible"),
                        (e.style.transformStyle = e.style.webkitTransformStyle = e.style.mozTransformStyle =
                            "preserve-3d");
                }
                function BMEnterFrameEvent(e, t, r, n) {
                    (this.type = e),
                        (this.currentTime = t),
                        (this.totalTime = r),
                        (this.direction = n < 0 ? -1 : 1);
                }
                function BMCompleteEvent(e, t) {
                    (this.type = e), (this.direction = t < 0 ? -1 : 1);
                }
                function BMCompleteLoopEvent(e, t, r, n) {
                    (this.type = e),
                        (this.currentLoop = r),
                        (this.totalLoops = t),
                        (this.direction = n < 0 ? -1 : 1);
                }
                function BMSegmentStartEvent(e, t, r) {
                    (this.type = e),
                        (this.firstFrame = t),
                        (this.totalFrames = r);
                }
                function BMDestroyEvent(e, t) {
                    (this.type = e), (this.target = t);
                }
                function BMRenderFrameErrorEvent(e, t) {
                    (this.type = "renderFrameError"),
                        (this.nativeError = e),
                        (this.currentTime = t);
                }
                function BMConfigErrorEvent(e) {
                    (this.type = "configError"), (this.nativeError = e);
                }
                function BMAnimationConfigErrorEvent(e, t) {
                    (this.type = e),
                        (this.nativeError = t),
                        (this.currentTime = currentTime);
                }
                function HSVtoRGB(e, t, r) {
                    var n, a, i, o, s, l, c, u;
                    switch (
                        ((o = Math.floor(6 * e)),
                        (s = 6 * e - o),
                        (l = r * (1 - t)),
                        (c = r * (1 - s * t)),
                        (u = r * (1 - (1 - s) * t)),
                        o % 6)
                    ) {
                        case 0:
                            (n = r), (a = u), (i = l);
                            break;
                        case 1:
                            (n = c), (a = r), (i = l);
                            break;
                        case 2:
                            (n = l), (a = r), (i = u);
                            break;
                        case 3:
                            (n = l), (a = c), (i = r);
                            break;
                        case 4:
                            (n = u), (a = l), (i = r);
                            break;
                        case 5:
                            (n = r), (a = l), (i = c);
                    }
                    return [n, a, i];
                }
                function RGBtoHSV(e, t, r) {
                    var n,
                        a = Math.max(e, t, r),
                        i = Math.min(e, t, r),
                        o = a - i;
                    switch (a) {
                        case i:
                            n = 0;
                            break;
                        case e:
                            (n = t - r + o * (t < r ? 6 : 0)), (n /= 6 * o);
                            break;
                        case t:
                            (n = r - e + 2 * o), (n /= 6 * o);
                            break;
                        case r:
                            (n = e - t + 4 * o), (n /= 6 * o);
                    }
                    return [n, 0 === a ? 0 : o / a, a / 255];
                }
                function addSaturationToRGB(e, t) {
                    var r = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                    return (
                        (r[1] += t),
                        r[1] > 1 ? (r[1] = 1) : r[1] <= 0 && (r[1] = 0),
                        HSVtoRGB(r[0], r[1], r[2])
                    );
                }
                function addBrightnessToRGB(e, t) {
                    var r = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                    return (
                        (r[2] += t),
                        r[2] > 1 ? (r[2] = 1) : r[2] < 0 && (r[2] = 0),
                        HSVtoRGB(r[0], r[1], r[2])
                    );
                }
                function addHueToRGB(e, t) {
                    var r = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                    return (
                        (r[0] += t / 360),
                        r[0] > 1 ? (r[0] -= 1) : r[0] < 0 && (r[0] += 1),
                        HSVtoRGB(r[0], r[1], r[2])
                    );
                }
                function BaseEvent() {}
                function createSizedArray(e) {
                    return Array.apply(null, { length: e });
                }
                function createNS(e) {
                    return document.createElementNS(svgNS, e);
                }
                function createTag(e) {
                    return document.createElement(e);
                }
                function DynamicPropertyContainer() {}
                function extendPrototype(e, t) {
                    var r,
                        n,
                        a = e.length;
                    for (r = 0; r < a; r += 1) {
                        n = e[r].prototype;
                        for (var i in n)
                            n.hasOwnProperty(i) && (t.prototype[i] = n[i]);
                    }
                }
                function getDescriptor(e, t) {
                    return Object.getOwnPropertyDescriptor(e, t);
                }
                function createProxyFunction(e) {
                    function t() {}
                    return (t.prototype = e), t;
                }
                function bezFunction() {
                    function e(e, t, r, n, a, i) {
                        var o = e * n + t * a + r * i - a * n - i * e - r * t;
                        return o > -0.001 && o < 0.001;
                    }
                    function t(e, t) {
                        (this.partialLength = e), (this.point = t);
                    }
                    function r(e, t) {
                        var r = t.percents,
                            n = t.lengths,
                            a = r.length,
                            i = bm_floor((a - 1) * e),
                            o = e * t.addedLength,
                            s = 0;
                        if (i === a - 1 || 0 === i || o === n[i]) return r[i];
                        for (var l = n[i] > o ? -1 : 1, c = !0; c; )
                            if (
                                (n[i] <= o && n[i + 1] > o
                                    ? ((s = (o - n[i]) / (n[i + 1] - n[i])),
                                      (c = !1))
                                    : (i += l),
                                i < 0 || i >= a - 1)
                            ) {
                                if (i === a - 1) return r[i];
                                c = !1;
                            }
                        return r[i] + (r[i + 1] - r[i]) * s;
                    }
                    Math;
                    var n = function (e, t, r, n) {
                            var a,
                                i,
                                o,
                                s,
                                l,
                                c,
                                u = defaultCurveSegments,
                                d = 0,
                                p = [],
                                h = [],
                                f = bezier_length_pool.newElement();
                            for (o = r.length, a = 0; a < u; a += 1) {
                                for (
                                    l = a / (u - 1), c = 0, i = 0;
                                    i < o;
                                    i += 1
                                )
                                    (s =
                                        bm_pow(1 - l, 3) * e[i] +
                                        3 * bm_pow(1 - l, 2) * l * r[i] +
                                        3 * (1 - l) * bm_pow(l, 2) * n[i] +
                                        bm_pow(l, 3) * t[i]),
                                        (p[i] = s),
                                        null !== h[i] &&
                                            (c += bm_pow(p[i] - h[i], 2)),
                                        (h[i] = p[i]);
                                c && (d += c = bm_sqrt(c)),
                                    (f.percents[a] = l),
                                    (f.lengths[a] = d);
                            }
                            return (f.addedLength = d), f;
                        },
                        a = (function () {
                            var r = {};
                            return function (n, a, i, o) {
                                var s = (
                                    n[0] +
                                    "_" +
                                    n[1] +
                                    "_" +
                                    a[0] +
                                    "_" +
                                    a[1] +
                                    "_" +
                                    i[0] +
                                    "_" +
                                    i[1] +
                                    "_" +
                                    o[0] +
                                    "_" +
                                    o[1]
                                ).replace(/\./g, "p");
                                if (!r[s]) {
                                    var l,
                                        c,
                                        u,
                                        d,
                                        p,
                                        h,
                                        f,
                                        m = defaultCurveSegments,
                                        y = 0,
                                        g = null;
                                    2 === n.length &&
                                        (n[0] != a[0] || n[1] != a[1]) &&
                                        e(
                                            n[0],
                                            n[1],
                                            a[0],
                                            a[1],
                                            n[0] + i[0],
                                            n[1] + i[1]
                                        ) &&
                                        e(
                                            n[0],
                                            n[1],
                                            a[0],
                                            a[1],
                                            a[0] + o[0],
                                            a[1] + o[1]
                                        ) &&
                                        (m = 2);
                                    var v = new (function (e) {
                                        (this.segmentLength = 0),
                                            (this.points = new Array(e));
                                    })(m);
                                    for (u = i.length, l = 0; l < m; l += 1) {
                                        for (
                                            f = createSizedArray(u),
                                                p = l / (m - 1),
                                                h = 0,
                                                c = 0;
                                            c < u;
                                            c += 1
                                        )
                                            (d =
                                                bm_pow(1 - p, 3) * n[c] +
                                                3 *
                                                    bm_pow(1 - p, 2) *
                                                    p *
                                                    (n[c] + i[c]) +
                                                3 *
                                                    (1 - p) *
                                                    bm_pow(p, 2) *
                                                    (a[c] + o[c]) +
                                                bm_pow(p, 3) * a[c]),
                                                (f[c] = d),
                                                null !== g &&
                                                    (h += bm_pow(
                                                        f[c] - g[c],
                                                        2
                                                    ));
                                        (y += h = bm_sqrt(h)),
                                            (v.points[l] = new t(h, f)),
                                            (g = f);
                                    }
                                    (v.segmentLength = y), (r[s] = v);
                                }
                                return r[s];
                            };
                        })(),
                        i = createTypedArray("float32", 8);
                    return {
                        getSegmentsLength: function (e) {
                            var t,
                                r = segments_length_pool.newElement(),
                                a = e.c,
                                i = e.v,
                                o = e.o,
                                s = e.i,
                                l = e._length,
                                c = r.lengths,
                                u = 0;
                            for (t = 0; t < l - 1; t += 1)
                                (c[t] = n(i[t], i[t + 1], o[t], s[t + 1])),
                                    (u += c[t].addedLength);
                            return (
                                a &&
                                    l &&
                                    ((c[t] = n(i[t], i[0], o[t], s[0])),
                                    (u += c[t].addedLength)),
                                (r.totalLength = u),
                                r
                            );
                        },
                        getNewSegment: function (e, t, n, a, o, s, l) {
                            var c,
                                u = r((o = o < 0 ? 0 : o > 1 ? 1 : o), l),
                                d = r((s = s > 1 ? 1 : s), l),
                                p = e.length,
                                h = 1 - u,
                                f = 1 - d,
                                m = h * h * h,
                                y = u * h * h * 3,
                                g = u * u * h * 3,
                                v = u * u * u,
                                b = h * h * f,
                                w = u * h * f + h * u * f + h * h * d,
                                _ = u * u * f + h * u * d + u * h * d,
                                E = u * u * d,
                                S = h * f * f,
                                C = u * f * f + h * d * f + h * f * d,
                                A = u * d * f + h * d * d + u * f * d,
                                k = u * d * d,
                                x = f * f * f,
                                P = d * f * f + f * d * f + f * f * d,
                                T = d * d * f + f * d * d + d * f * d,
                                L = d * d * d;
                            for (c = 0; c < p; c += 1)
                                (i[4 * c] =
                                    Math.round(
                                        1e3 *
                                            (m * e[c] +
                                                y * n[c] +
                                                g * a[c] +
                                                v * t[c])
                                    ) / 1e3),
                                    (i[4 * c + 1] =
                                        Math.round(
                                            1e3 *
                                                (b * e[c] +
                                                    w * n[c] +
                                                    _ * a[c] +
                                                    E * t[c])
                                        ) / 1e3),
                                    (i[4 * c + 2] =
                                        Math.round(
                                            1e3 *
                                                (S * e[c] +
                                                    C * n[c] +
                                                    A * a[c] +
                                                    k * t[c])
                                        ) / 1e3),
                                    (i[4 * c + 3] =
                                        Math.round(
                                            1e3 *
                                                (x * e[c] +
                                                    P * n[c] +
                                                    T * a[c] +
                                                    L * t[c])
                                        ) / 1e3);
                            return i;
                        },
                        getPointInSegment: function (e, t, n, a, i, o) {
                            var s = r(i, o),
                                l = 1 - s;
                            return [
                                Math.round(
                                    1e3 *
                                        (l * l * l * e[0] +
                                            (s * l * l +
                                                l * s * l +
                                                l * l * s) *
                                                n[0] +
                                            (s * s * l +
                                                l * s * s +
                                                s * l * s) *
                                                a[0] +
                                            s * s * s * t[0])
                                ) / 1e3,
                                Math.round(
                                    1e3 *
                                        (l * l * l * e[1] +
                                            (s * l * l +
                                                l * s * l +
                                                l * l * s) *
                                                n[1] +
                                            (s * s * l +
                                                l * s * s +
                                                s * l * s) *
                                                a[1] +
                                            s * s * s * t[1])
                                ) / 1e3,
                            ];
                        },
                        buildBezierData: a,
                        pointOnLine2D: e,
                        pointOnLine3D: function (t, r, n, a, i, o, s, l, c) {
                            if (0 === n && 0 === o && 0 === c)
                                return e(t, r, a, i, s, l);
                            var u,
                                d = Math.sqrt(
                                    Math.pow(a - t, 2) +
                                        Math.pow(i - r, 2) +
                                        Math.pow(o - n, 2)
                                ),
                                p = Math.sqrt(
                                    Math.pow(s - t, 2) +
                                        Math.pow(l - r, 2) +
                                        Math.pow(c - n, 2)
                                ),
                                h = Math.sqrt(
                                    Math.pow(s - a, 2) +
                                        Math.pow(l - i, 2) +
                                        Math.pow(c - o, 2)
                                );
                            return (
                                (u =
                                    d > p
                                        ? d > h
                                            ? d - p - h
                                            : h - p - d
                                        : h > p
                                        ? h - p - d
                                        : p - d - h) > -1e-4 && u < 1e-4
                            );
                        },
                    };
                }
                function dataFunctionManager() {
                    function e(n, a, i) {
                        var o,
                            s,
                            l,
                            c,
                            u,
                            d,
                            p = n.length;
                        for (s = 0; s < p; s += 1)
                            if ("ks" in (o = n[s]) && !o.completed) {
                                if (
                                    ((o.completed = !0),
                                    o.tt && (n[s - 1].td = o.tt),
                                    [],
                                    -1,
                                    o.hasMask)
                                ) {
                                    var h = o.masksProperties;
                                    for (c = h.length, l = 0; l < c; l += 1)
                                        if (h[l].pt.k.i) r(h[l].pt.k);
                                        else
                                            for (
                                                d = h[l].pt.k.length, u = 0;
                                                u < d;
                                                u += 1
                                            )
                                                h[l].pt.k[u].s &&
                                                    r(h[l].pt.k[u].s[0]),
                                                    h[l].pt.k[u].e &&
                                                        r(h[l].pt.k[u].e[0]);
                                }
                                0 === o.ty
                                    ? ((o.layers = (function (e, t) {
                                          var r = 0,
                                              n = t.length;
                                          for (; r < n; ) {
                                              if (t[r].id === e)
                                                  return t[r].layers.__used
                                                      ? JSON.parse(
                                                            JSON.stringify(
                                                                t[r].layers
                                                            )
                                                        )
                                                      : ((t[
                                                            r
                                                        ].layers.__used = !0),
                                                        t[r].layers);
                                              r += 1;
                                          }
                                      })(o.refId, a)),
                                      e(o.layers, a, i))
                                    : 4 === o.ty
                                    ? t(o.shapes)
                                    : 5 == o.ty &&
                                      (function (e, t) {
                                          0 !== e.t.a.length ||
                                              "m" in e.t.p ||
                                              (e.singleShape = !0);
                                      })(o);
                            }
                    }
                    function t(e) {
                        var n, a, i;
                        for (n = e.length - 1; n >= 0; n -= 1)
                            if ("sh" == e[n].ty) {
                                if (e[n].ks.k.i) r(e[n].ks.k);
                                else
                                    for (
                                        i = e[n].ks.k.length, a = 0;
                                        a < i;
                                        a += 1
                                    )
                                        e[n].ks.k[a].s && r(e[n].ks.k[a].s[0]),
                                            e[n].ks.k[a].e &&
                                                r(e[n].ks.k[a].e[0]);
                                !0;
                            } else "gr" == e[n].ty && t(e[n].it);
                    }
                    function r(e) {
                        var t,
                            r = e.i.length;
                        for (t = 0; t < r; t += 1)
                            (e.i[t][0] += e.v[t][0]),
                                (e.i[t][1] += e.v[t][1]),
                                (e.o[t][0] += e.v[t][0]),
                                (e.o[t][1] += e.v[t][1]);
                    }
                    function n(e, t) {
                        var r = t ? t.split(".") : [100, 100, 100];
                        return (
                            e[0] > r[0] ||
                            (!(r[0] > e[0]) &&
                                (e[1] > r[1] ||
                                    (!(r[1] > e[1]) &&
                                        (e[2] > r[2] ||
                                            (!(r[2] > e[2]) && void 0)))))
                        );
                    }
                    var a = (function () {
                            function e(e) {
                                var t = e.t.d;
                                e.t.d = { k: [{ s: t, t: 0 }] };
                            }
                            function t(t) {
                                var r,
                                    n = t.length;
                                for (r = 0; r < n; r += 1)
                                    5 === t[r].ty && e(t[r]);
                            }
                            var r = [4, 4, 14];
                            return function (e) {
                                if (n(r, e.v) && (t(e.layers), e.assets)) {
                                    var a,
                                        i = e.assets.length;
                                    for (a = 0; a < i; a += 1)
                                        e.assets[a].layers &&
                                            t(e.assets[a].layers);
                                }
                            };
                        })(),
                        i = (function () {
                            var e = [4, 7, 99];
                            return function (t) {
                                if (t.chars && !n(e, t.v)) {
                                    var a,
                                        i,
                                        o,
                                        s,
                                        l,
                                        c = t.chars.length;
                                    for (a = 0; a < c; a += 1)
                                        if (
                                            t.chars[a].data &&
                                            t.chars[a].data.shapes
                                        )
                                            for (
                                                o = (l =
                                                    t.chars[a].data.shapes[0]
                                                        .it).length,
                                                    i = 0;
                                                i < o;
                                                i += 1
                                            )
                                                (s = l[i].ks.k).__converted ||
                                                    (r(l[i].ks.k),
                                                    (s.__converted = !0));
                                }
                            };
                        })(),
                        o = (function () {
                            function e(t) {
                                var r,
                                    n,
                                    a,
                                    i = t.length;
                                for (r = 0; r < i; r += 1)
                                    if ("gr" === t[r].ty) e(t[r].it);
                                    else if (
                                        "fl" === t[r].ty ||
                                        "st" === t[r].ty
                                    )
                                        if (t[r].c.k && t[r].c.k[0].i)
                                            for (
                                                a = t[r].c.k.length, n = 0;
                                                n < a;
                                                n += 1
                                            )
                                                t[r].c.k[n].s &&
                                                    ((t[r].c.k[n].s[0] /= 255),
                                                    (t[r].c.k[n].s[1] /= 255),
                                                    (t[r].c.k[n].s[2] /= 255),
                                                    (t[r].c.k[n].s[3] /= 255)),
                                                    t[r].c.k[n].e &&
                                                        ((t[r].c.k[
                                                            n
                                                        ].e[0] /= 255),
                                                        (t[r].c.k[
                                                            n
                                                        ].e[1] /= 255),
                                                        (t[r].c.k[
                                                            n
                                                        ].e[2] /= 255),
                                                        (t[r].c.k[
                                                            n
                                                        ].e[3] /= 255));
                                        else
                                            (t[r].c.k[0] /= 255),
                                                (t[r].c.k[1] /= 255),
                                                (t[r].c.k[2] /= 255),
                                                (t[r].c.k[3] /= 255);
                            }
                            function t(t) {
                                var r,
                                    n = t.length;
                                for (r = 0; r < n; r += 1)
                                    4 === t[r].ty && e(t[r].shapes);
                            }
                            var r = [4, 1, 9];
                            return function (e) {
                                if (n(r, e.v) && (t(e.layers), e.assets)) {
                                    var a,
                                        i = e.assets.length;
                                    for (a = 0; a < i; a += 1)
                                        e.assets[a].layers &&
                                            t(e.assets[a].layers);
                                }
                            };
                        })(),
                        s = (function () {
                            function e(t) {
                                var r, n, a;
                                for (r = t.length - 1; r >= 0; r -= 1)
                                    if ("sh" == t[r].ty) {
                                        if (t[r].ks.k.i)
                                            t[r].ks.k.c = t[r].closed;
                                        else
                                            for (
                                                a = t[r].ks.k.length, n = 0;
                                                n < a;
                                                n += 1
                                            )
                                                t[r].ks.k[n].s &&
                                                    (t[r].ks.k[n].s[0].c =
                                                        t[r].closed),
                                                    t[r].ks.k[n].e &&
                                                        (t[r].ks.k[n].e[0].c =
                                                            t[r].closed);
                                        !0;
                                    } else "gr" == t[r].ty && e(t[r].it);
                            }
                            function t(t) {
                                var r,
                                    n,
                                    a,
                                    i,
                                    o,
                                    s,
                                    l = t.length;
                                for (n = 0; n < l; n += 1) {
                                    if ((r = t[n]).hasMask) {
                                        var c = r.masksProperties;
                                        for (i = c.length, a = 0; a < i; a += 1)
                                            if (c[a].pt.k.i)
                                                c[a].pt.k.c = c[a].cl;
                                            else
                                                for (
                                                    s = c[a].pt.k.length, o = 0;
                                                    o < s;
                                                    o += 1
                                                )
                                                    c[a].pt.k[o].s &&
                                                        (c[a].pt.k[o].s[0].c =
                                                            c[a].cl),
                                                        c[a].pt.k[o].e &&
                                                            (c[a].pt.k[
                                                                o
                                                            ].e[0].c = c[a].cl);
                                    }
                                    4 === r.ty && e(r.shapes);
                                }
                            }
                            var r = [4, 4, 18];
                            return function (e) {
                                if (n(r, e.v) && (t(e.layers), e.assets)) {
                                    var a,
                                        i = e.assets.length;
                                    for (a = 0; a < i; a += 1)
                                        e.assets[a].layers &&
                                            t(e.assets[a].layers);
                                }
                            };
                        })(),
                        l = {};
                    return (
                        (l.completeData = function (t, r) {
                            t.__complete ||
                                (o(t),
                                a(t),
                                i(t),
                                s(t),
                                e(t.layers, t.assets, r),
                                (t.__complete = !0));
                        }),
                        (l.checkColors = o),
                        (l.checkChars = i),
                        (l.checkShapes = s),
                        (l.completeLayers = e),
                        l
                    );
                }
                function ShapePath() {
                    (this.c = !1),
                        (this._length = 0),
                        (this._maxLength = 8),
                        (this.v = createSizedArray(this._maxLength)),
                        (this.o = createSizedArray(this._maxLength)),
                        (this.i = createSizedArray(this._maxLength));
                }
                function ShapeModifier() {}
                function TrimModifier() {}
                function RoundCornersModifier() {}
                function PuckerAndBloatModifier() {}
                function RepeaterModifier() {}
                function ShapeCollection() {
                    (this._length = 0),
                        (this._maxLength = 4),
                        (this.shapes = createSizedArray(this._maxLength));
                }
                function DashProperty(e, t, r, n) {
                    (this.elem = e),
                        (this.frameId = -1),
                        (this.dataProps = createSizedArray(t.length)),
                        (this.renderer = r),
                        (this.k = !1),
                        (this.dashStr = ""),
                        (this.dashArray = createTypedArray(
                            "float32",
                            t.length ? t.length - 1 : 0
                        )),
                        (this.dashoffset = createTypedArray("float32", 1)),
                        this.initDynamicPropertyContainer(n);
                    var a,
                        i,
                        o = t.length || 0;
                    for (a = 0; a < o; a += 1)
                        (i = PropertyFactory.getProp(e, t[a].v, 0, 0, this)),
                            (this.k = i.k || this.k),
                            (this.dataProps[a] = { n: t[a].n, p: i });
                    this.k || this.getValue(!0), (this._isAnimated = this.k);
                }
                function GradientProperty(e, t, r) {
                    (this.data = t),
                        (this.c = createTypedArray("uint8c", 4 * t.p));
                    var n = t.k.k[0].s
                        ? t.k.k[0].s.length - 4 * t.p
                        : t.k.k.length - 4 * t.p;
                    (this.o = createTypedArray("float32", n)),
                        (this._cmdf = !1),
                        (this._omdf = !1),
                        (this._collapsable = this.checkCollapsable()),
                        (this._hasOpacity = n),
                        this.initDynamicPropertyContainer(r),
                        (this.prop = PropertyFactory.getProp(
                            e,
                            t.k,
                            1,
                            null,
                            this
                        )),
                        (this.k = this.prop.k),
                        this.getValue(!0);
                }
                function TextAnimatorProperty(e, t, r) {
                    (this._isFirstFrame = !0),
                        (this._hasMaskedPath = !1),
                        (this._frameId = -1),
                        (this._textData = e),
                        (this._renderType = t),
                        (this._elem = r),
                        (this._animatorsData = createSizedArray(
                            this._textData.a.length
                        )),
                        (this._pathData = {}),
                        (this._moreOptions = { alignment: {} }),
                        (this.renderedLetters = []),
                        (this.lettersChangedFlag = !1),
                        this.initDynamicPropertyContainer(r);
                }
                function TextAnimatorDataProperty(e, t, r) {
                    var n = { propType: !1 },
                        a = PropertyFactory.getProp,
                        i = t.a;
                    (this.a = {
                        r: i.r ? a(e, i.r, 0, degToRads, r) : n,
                        rx: i.rx ? a(e, i.rx, 0, degToRads, r) : n,
                        ry: i.ry ? a(e, i.ry, 0, degToRads, r) : n,
                        sk: i.sk ? a(e, i.sk, 0, degToRads, r) : n,
                        sa: i.sa ? a(e, i.sa, 0, degToRads, r) : n,
                        s: i.s ? a(e, i.s, 1, 0.01, r) : n,
                        a: i.a ? a(e, i.a, 1, 0, r) : n,
                        o: i.o ? a(e, i.o, 0, 0.01, r) : n,
                        p: i.p ? a(e, i.p, 1, 0, r) : n,
                        sw: i.sw ? a(e, i.sw, 0, 0, r) : n,
                        sc: i.sc ? a(e, i.sc, 1, 0, r) : n,
                        fc: i.fc ? a(e, i.fc, 1, 0, r) : n,
                        fh: i.fh ? a(e, i.fh, 0, 0, r) : n,
                        fs: i.fs ? a(e, i.fs, 0, 0.01, r) : n,
                        fb: i.fb ? a(e, i.fb, 0, 0.01, r) : n,
                        t: i.t ? a(e, i.t, 0, 0, r) : n,
                    }),
                        (this.s = TextSelectorProp.getTextSelectorProp(
                            e,
                            t.s,
                            r
                        )),
                        (this.s.t = t.s.t);
                }
                function LetterProps(e, t, r, n, a, i) {
                    (this.o = e),
                        (this.sw = t),
                        (this.sc = r),
                        (this.fc = n),
                        (this.m = a),
                        (this.p = i),
                        (this._mdf = {
                            o: !0,
                            sw: !!t,
                            sc: !!r,
                            fc: !!n,
                            m: !0,
                            p: !0,
                        });
                }
                function TextProperty(e, t) {
                    (this._frameId = initialDefaultFrame),
                        (this.pv = ""),
                        (this.v = ""),
                        (this.kf = !1),
                        (this._isFirstFrame = !0),
                        (this._mdf = !1),
                        (this.data = t),
                        (this.elem = e),
                        (this.comp = this.elem.comp),
                        (this.keysIndex = 0),
                        (this.canResize = !1),
                        (this.minimumFontSize = 1),
                        (this.effectsSequence = []),
                        (this.currentData = {
                            ascent: 0,
                            boxWidth: this.defaultBoxWidth,
                            f: "",
                            fStyle: "",
                            fWeight: "",
                            fc: "",
                            j: "",
                            justifyOffset: "",
                            l: [],
                            lh: 0,
                            lineWidths: [],
                            ls: "",
                            of: "",
                            s: "",
                            sc: "",
                            sw: 0,
                            t: 0,
                            tr: 0,
                            sz: 0,
                            ps: null,
                            fillColorAnim: !1,
                            strokeColorAnim: !1,
                            strokeWidthAnim: !1,
                            yOffset: 0,
                            finalSize: 0,
                            finalText: [],
                            finalLineHeight: 0,
                            __complete: !1,
                        }),
                        this.copyData(this.currentData, this.data.d.k[0].s),
                        this.searchProperty() ||
                            this.completeTextData(this.currentData);
                }
                function BaseRenderer() {}
                function SVGRenderer(e, t) {
                    (this.animationItem = e),
                        (this.layers = null),
                        (this.renderedFrame = -1),
                        (this.svgElement = createNS("svg"));
                    var r = "";
                    if (t && t.title) {
                        var n = createNS("title"),
                            a = createElementID();
                        n.setAttribute("id", a),
                            (n.textContent = t.title),
                            this.svgElement.appendChild(n),
                            (r += a);
                    }
                    if (t && t.description) {
                        var i = createNS("desc"),
                            o = createElementID();
                        i.setAttribute("id", o),
                            (i.textContent = t.description),
                            this.svgElement.appendChild(i),
                            (r += " " + o);
                    }
                    r && this.svgElement.setAttribute("aria-labelledby", r);
                    var s = createNS("defs");
                    this.svgElement.appendChild(s);
                    var l = createNS("g");
                    this.svgElement.appendChild(l),
                        (this.layerElement = l),
                        (this.renderConfig = {
                            preserveAspectRatio:
                                (t && t.preserveAspectRatio) || "xMidYMid meet",
                            imagePreserveAspectRatio:
                                (t && t.imagePreserveAspectRatio) ||
                                "xMidYMid slice",
                            progressiveLoad: (t && t.progressiveLoad) || !1,
                            hideOnTransparent: !t || !1 !== t.hideOnTransparent,
                            viewBoxOnly: (t && t.viewBoxOnly) || !1,
                            viewBoxSize: (t && t.viewBoxSize) || !1,
                            className: (t && t.className) || "",
                            id: (t && t.id) || "",
                            focusable: t && t.focusable,
                            filterSize: {
                                width:
                                    (t && t.filterSize && t.filterSize.width) ||
                                    "100%",
                                height:
                                    (t &&
                                        t.filterSize &&
                                        t.filterSize.height) ||
                                    "100%",
                                x:
                                    (t && t.filterSize && t.filterSize.x) ||
                                    "0%",
                                y:
                                    (t && t.filterSize && t.filterSize.y) ||
                                    "0%",
                            },
                        }),
                        (this.globalData = {
                            _mdf: !1,
                            frameNum: -1,
                            defs: s,
                            renderConfig: this.renderConfig,
                        }),
                        (this.elements = []),
                        (this.pendingElements = []),
                        (this.destroyed = !1),
                        (this.rendererType = "svg");
                }
                function CanvasRenderer(e, t) {
                    (this.animationItem = e),
                        (this.renderConfig = {
                            clearCanvas:
                                !t || void 0 === t.clearCanvas || t.clearCanvas,
                            context: (t && t.context) || null,
                            progressiveLoad: (t && t.progressiveLoad) || !1,
                            preserveAspectRatio:
                                (t && t.preserveAspectRatio) || "xMidYMid meet",
                            imagePreserveAspectRatio:
                                (t && t.imagePreserveAspectRatio) ||
                                "xMidYMid slice",
                            className: (t && t.className) || "",
                            id: (t && t.id) || "",
                        }),
                        (this.renderConfig.dpr = (t && t.dpr) || 1),
                        this.animationItem.wrapper &&
                            (this.renderConfig.dpr =
                                (t && t.dpr) || window.devicePixelRatio || 1),
                        (this.renderedFrame = -1),
                        (this.globalData = {
                            frameNum: -1,
                            _mdf: !1,
                            renderConfig: this.renderConfig,
                            currentGlobalAlpha: -1,
                        }),
                        (this.contextData = new CVContextData()),
                        (this.elements = []),
                        (this.pendingElements = []),
                        (this.transformMat = new Matrix()),
                        (this.completeLayers = !1),
                        (this.rendererType = "canvas");
                }
                function HybridRenderer(e, t) {
                    (this.animationItem = e),
                        (this.layers = null),
                        (this.renderedFrame = -1),
                        (this.renderConfig = {
                            className: (t && t.className) || "",
                            imagePreserveAspectRatio:
                                (t && t.imagePreserveAspectRatio) ||
                                "xMidYMid slice",
                            hideOnTransparent: !t || !1 !== t.hideOnTransparent,
                            filterSize: {
                                width:
                                    (t && t.filterSize && t.filterSize.width) ||
                                    "400%",
                                height:
                                    (t &&
                                        t.filterSize &&
                                        t.filterSize.height) ||
                                    "400%",
                                x:
                                    (t && t.filterSize && t.filterSize.x) ||
                                    "-100%",
                                y:
                                    (t && t.filterSize && t.filterSize.y) ||
                                    "-100%",
                            },
                        }),
                        (this.globalData = {
                            _mdf: !1,
                            frameNum: -1,
                            renderConfig: this.renderConfig,
                        }),
                        (this.pendingElements = []),
                        (this.elements = []),
                        (this.threeDElements = []),
                        (this.destroyed = !1),
                        (this.camera = null),
                        (this.supports3d = !0),
                        (this.rendererType = "html");
                }
                function MaskElement(e, t, r) {
                    (this.data = e),
                        (this.element = t),
                        (this.globalData = r),
                        (this.storedData = []),
                        (this.masksProperties =
                            this.data.masksProperties || []),
                        (this.maskElement = null);
                    var n,
                        a = this.globalData.defs,
                        i = this.masksProperties
                            ? this.masksProperties.length
                            : 0;
                    (this.viewData = createSizedArray(i)),
                        (this.solidPath = "");
                    var o,
                        s,
                        l,
                        c,
                        u,
                        d,
                        p,
                        h = this.masksProperties,
                        f = 0,
                        m = [],
                        y = createElementID(),
                        g = "clipPath",
                        v = "clip-path";
                    for (n = 0; n < i; n++)
                        if (
                            ((("a" !== h[n].mode && "n" !== h[n].mode) ||
                                h[n].inv ||
                                100 !== h[n].o.k ||
                                h[n].o.x) &&
                                ((g = "mask"), (v = "mask")),
                            ("s" != h[n].mode && "i" != h[n].mode) || 0 !== f
                                ? (c = null)
                                : ((c = createNS("rect")).setAttribute(
                                      "fill",
                                      "#ffffff"
                                  ),
                                  c.setAttribute(
                                      "width",
                                      this.element.comp.data.w || 0
                                  ),
                                  c.setAttribute(
                                      "height",
                                      this.element.comp.data.h || 0
                                  ),
                                  m.push(c)),
                            (o = createNS("path")),
                            "n" != h[n].mode)
                        ) {
                            (f += 1),
                                o.setAttribute(
                                    "fill",
                                    "s" === h[n].mode ? "#000000" : "#ffffff"
                                ),
                                o.setAttribute("clip-rule", "nonzero");
                            var b;
                            if (
                                (0 !== h[n].x.k
                                    ? ((g = "mask"),
                                      (v = "mask"),
                                      (p = PropertyFactory.getProp(
                                          this.element,
                                          h[n].x,
                                          0,
                                          null,
                                          this.element
                                      )),
                                      (b = createElementID()),
                                      (u = createNS("filter")).setAttribute(
                                          "id",
                                          b
                                      ),
                                      (d = createNS(
                                          "feMorphology"
                                      )).setAttribute("operator", "erode"),
                                      d.setAttribute("in", "SourceGraphic"),
                                      d.setAttribute("radius", "0"),
                                      u.appendChild(d),
                                      a.appendChild(u),
                                      o.setAttribute(
                                          "stroke",
                                          "s" === h[n].mode
                                              ? "#000000"
                                              : "#ffffff"
                                      ))
                                    : ((d = null), (p = null)),
                                (this.storedData[n] = {
                                    elem: o,
                                    x: p,
                                    expan: d,
                                    lastPath: "",
                                    lastOperator: "",
                                    filterId: b,
                                    lastRadius: 0,
                                }),
                                "i" == h[n].mode)
                            ) {
                                l = m.length;
                                var w = createNS("g");
                                for (s = 0; s < l; s += 1) w.appendChild(m[s]);
                                var _ = createNS("mask");
                                _.setAttribute("mask-type", "alpha"),
                                    _.setAttribute("id", y + "_" + f),
                                    _.appendChild(o),
                                    a.appendChild(_),
                                    w.setAttribute(
                                        "mask",
                                        "url(" +
                                            locationHref +
                                            "#" +
                                            y +
                                            "_" +
                                            f +
                                            ")"
                                    ),
                                    (m.length = 0),
                                    m.push(w);
                            } else m.push(o);
                            h[n].inv &&
                                !this.solidPath &&
                                (this.solidPath = this.createLayerSolidPath()),
                                (this.viewData[n] = {
                                    elem: o,
                                    lastPath: "",
                                    op: PropertyFactory.getProp(
                                        this.element,
                                        h[n].o,
                                        0,
                                        0.01,
                                        this.element
                                    ),
                                    prop: ShapePropertyFactory.getShapeProp(
                                        this.element,
                                        h[n],
                                        3
                                    ),
                                    invRect: c,
                                }),
                                this.viewData[n].prop.k ||
                                    this.drawPath(
                                        h[n],
                                        this.viewData[n].prop.v,
                                        this.viewData[n]
                                    );
                        } else
                            (this.viewData[n] = {
                                op: PropertyFactory.getProp(
                                    this.element,
                                    h[n].o,
                                    0,
                                    0.01,
                                    this.element
                                ),
                                prop: ShapePropertyFactory.getShapeProp(
                                    this.element,
                                    h[n],
                                    3
                                ),
                                elem: o,
                                lastPath: "",
                            }),
                                a.appendChild(o);
                    for (
                        this.maskElement = createNS(g), i = m.length, n = 0;
                        n < i;
                        n += 1
                    )
                        this.maskElement.appendChild(m[n]);
                    f > 0 &&
                        (this.maskElement.setAttribute("id", y),
                        this.element.maskedElement.setAttribute(
                            v,
                            "url(" + locationHref + "#" + y + ")"
                        ),
                        a.appendChild(this.maskElement)),
                        this.viewData.length &&
                            this.element.addRenderableComponent(this);
                }
                function HierarchyElement() {}
                function FrameElement() {}
                function TransformElement() {}
                function RenderableElement() {}
                function RenderableDOMElement() {}
                function ProcessedElement(e, t) {
                    (this.elem = e), (this.pos = t);
                }
                function SVGStyleData(e, t) {
                    (this.data = e),
                        (this.type = e.ty),
                        (this.d = ""),
                        (this.lvl = t),
                        (this._mdf = !1),
                        (this.closed = !0 === e.hd),
                        (this.pElem = createNS("path")),
                        (this.msElem = null);
                }
                function SVGShapeData(e, t, r) {
                    (this.caches = []),
                        (this.styles = []),
                        (this.transformers = e),
                        (this.lStr = ""),
                        (this.sh = r),
                        (this.lvl = t),
                        (this._isAnimated = !!r.k);
                    for (var n = 0, a = e.length; n < a; ) {
                        if (e[n].mProps.dynamicProperties.length) {
                            this._isAnimated = !0;
                            break;
                        }
                        n += 1;
                    }
                }
                function SVGTransformData(e, t, r) {
                    (this.transform = { mProps: e, op: t, container: r }),
                        (this.elements = []),
                        (this._isAnimated =
                            this.transform.mProps.dynamicProperties.length ||
                            this.transform.op.effectsSequence.length);
                }
                function SVGStrokeStyleData(e, t, r) {
                    this.initDynamicPropertyContainer(e),
                        (this.getValue = this.iterateDynamicProperties),
                        (this.o = PropertyFactory.getProp(
                            e,
                            t.o,
                            0,
                            0.01,
                            this
                        )),
                        (this.w = PropertyFactory.getProp(
                            e,
                            t.w,
                            0,
                            null,
                            this
                        )),
                        (this.d = new DashProperty(e, t.d || {}, "svg", this)),
                        (this.c = PropertyFactory.getProp(
                            e,
                            t.c,
                            1,
                            255,
                            this
                        )),
                        (this.style = r),
                        (this._isAnimated = !!this._isAnimated);
                }
                function SVGFillStyleData(e, t, r) {
                    this.initDynamicPropertyContainer(e),
                        (this.getValue = this.iterateDynamicProperties),
                        (this.o = PropertyFactory.getProp(
                            e,
                            t.o,
                            0,
                            0.01,
                            this
                        )),
                        (this.c = PropertyFactory.getProp(
                            e,
                            t.c,
                            1,
                            255,
                            this
                        )),
                        (this.style = r);
                }
                function SVGGradientFillStyleData(e, t, r) {
                    this.initDynamicPropertyContainer(e),
                        (this.getValue = this.iterateDynamicProperties),
                        this.initGradientData(e, t, r);
                }
                function SVGGradientStrokeStyleData(e, t, r) {
                    this.initDynamicPropertyContainer(e),
                        (this.getValue = this.iterateDynamicProperties),
                        (this.w = PropertyFactory.getProp(
                            e,
                            t.w,
                            0,
                            null,
                            this
                        )),
                        (this.d = new DashProperty(e, t.d || {}, "svg", this)),
                        this.initGradientData(e, t, r),
                        (this._isAnimated = !!this._isAnimated);
                }
                function ShapeGroupData() {
                    (this.it = []),
                        (this.prevViewData = []),
                        (this.gr = createNS("g"));
                }
                function ShapeTransformManager() {
                    (this.sequences = {}),
                        (this.sequenceList = []),
                        (this.transform_key_count = 0);
                }
                function CVShapeData(e, t, r, n) {
                    (this.styledShapes = []), (this.tr = [0, 0, 0, 0, 0, 0]);
                    var a = 4;
                    "rc" == t.ty
                        ? (a = 5)
                        : "el" == t.ty
                        ? (a = 6)
                        : "sr" == t.ty && (a = 7),
                        (this.sh = ShapePropertyFactory.getShapeProp(
                            e,
                            t,
                            a,
                            e
                        ));
                    var i,
                        o,
                        s = r.length;
                    for (i = 0; i < s; i += 1)
                        r[i].closed ||
                            ((o = {
                                transforms: n.addTransformSequence(
                                    r[i].transforms
                                ),
                                trNodes: [],
                            }),
                            this.styledShapes.push(o),
                            r[i].elements.push(o));
                }
                function BaseElement() {}
                function NullElement(e, t, r) {
                    this.initFrame(),
                        this.initBaseData(e, t, r),
                        this.initFrame(),
                        this.initTransform(e, t, r),
                        this.initHierarchy();
                }
                function SVGBaseElement() {}
                function IShapeElement() {}
                function ITextElement() {}
                function ICompElement() {}
                function IImageElement(e, t, r) {
                    (this.assetData = t.getAssetData(e.refId)),
                        this.initElement(e, t, r),
                        (this.sourceRect = {
                            top: 0,
                            left: 0,
                            width: this.assetData.w,
                            height: this.assetData.h,
                        });
                }
                function ISolidElement(e, t, r) {
                    this.initElement(e, t, r);
                }
                function AudioElement(e, t, r) {
                    this.initFrame(),
                        this.initRenderable(),
                        (this.assetData = t.getAssetData(e.refId)),
                        this.initBaseData(e, t, r),
                        (this._isPlaying = !1),
                        (this._canPlay = !1);
                    var n = this.globalData.getAssetsPath(this.assetData);
                    (this.audio = this.globalData.audioController.createAudio(
                        n
                    )),
                        (this._currentTime = 0),
                        this.globalData.audioController.addAudio(this),
                        (this.tm = e.tm
                            ? PropertyFactory.getProp(
                                  this,
                                  e.tm,
                                  0,
                                  t.frameRate,
                                  this
                              )
                            : { _placeholder: !0 });
                }
                function SVGCompElement(e, t, r) {
                    (this.layers = e.layers),
                        (this.supports3d = !0),
                        (this.completeLayers = !1),
                        (this.pendingElements = []),
                        (this.elements = this.layers
                            ? createSizedArray(this.layers.length)
                            : []),
                        this.initElement(e, t, r),
                        (this.tm = e.tm
                            ? PropertyFactory.getProp(
                                  this,
                                  e.tm,
                                  0,
                                  t.frameRate,
                                  this
                              )
                            : { _placeholder: !0 });
                }
                function SVGTextElement(e, t, r) {
                    (this.textSpans = []),
                        (this.renderType = "svg"),
                        this.initElement(e, t, r);
                }
                function SVGShapeElement(e, t, r) {
                    (this.shapes = []),
                        (this.shapesData = e.shapes),
                        (this.stylesList = []),
                        (this.shapeModifiers = []),
                        (this.itemsData = []),
                        (this.processedElements = []),
                        (this.animatedContents = []),
                        this.initElement(e, t, r),
                        (this.prevViewData = []);
                }
                function SVGTintFilter(e, t) {
                    this.filterManager = t;
                    var r = createNS("feColorMatrix");
                    if (
                        (r.setAttribute("type", "matrix"),
                        r.setAttribute(
                            "color-interpolation-filters",
                            "linearRGB"
                        ),
                        r.setAttribute(
                            "values",
                            "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"
                        ),
                        r.setAttribute("result", "f1"),
                        e.appendChild(r),
                        (r = createNS("feColorMatrix")).setAttribute(
                            "type",
                            "matrix"
                        ),
                        r.setAttribute("color-interpolation-filters", "sRGB"),
                        r.setAttribute(
                            "values",
                            "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"
                        ),
                        r.setAttribute("result", "f2"),
                        e.appendChild(r),
                        (this.matrixFilter = r),
                        100 !== t.effectElements[2].p.v ||
                            t.effectElements[2].p.k)
                    ) {
                        var n = createNS("feMerge");
                        e.appendChild(n);
                        var a;
                        (a = createNS("feMergeNode")).setAttribute(
                            "in",
                            "SourceGraphic"
                        ),
                            n.appendChild(a),
                            (a = createNS("feMergeNode")).setAttribute(
                                "in",
                                "f2"
                            ),
                            n.appendChild(a);
                    }
                }
                function SVGFillFilter(e, t) {
                    this.filterManager = t;
                    var r = createNS("feColorMatrix");
                    r.setAttribute("type", "matrix"),
                        r.setAttribute("color-interpolation-filters", "sRGB"),
                        r.setAttribute(
                            "values",
                            "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"
                        ),
                        e.appendChild(r),
                        (this.matrixFilter = r);
                }
                function SVGGaussianBlurEffect(e, t) {
                    e.setAttribute("x", "-100%"),
                        e.setAttribute("y", "-100%"),
                        e.setAttribute("width", "300%"),
                        e.setAttribute("height", "300%"),
                        (this.filterManager = t);
                    var r = createNS("feGaussianBlur");
                    e.appendChild(r), (this.feGaussianBlur = r);
                }
                function SVGStrokeEffect(e, t) {
                    (this.initialized = !1),
                        (this.filterManager = t),
                        (this.elem = e),
                        (this.paths = []);
                }
                function SVGTritoneFilter(e, t) {
                    this.filterManager = t;
                    var r = createNS("feColorMatrix");
                    r.setAttribute("type", "matrix"),
                        r.setAttribute(
                            "color-interpolation-filters",
                            "linearRGB"
                        ),
                        r.setAttribute(
                            "values",
                            "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"
                        ),
                        r.setAttribute("result", "f1"),
                        e.appendChild(r);
                    var n = createNS("feComponentTransfer");
                    n.setAttribute("color-interpolation-filters", "sRGB"),
                        e.appendChild(n),
                        (this.matrixFilter = n);
                    var a = createNS("feFuncR");
                    a.setAttribute("type", "table"),
                        n.appendChild(a),
                        (this.feFuncR = a);
                    var i = createNS("feFuncG");
                    i.setAttribute("type", "table"),
                        n.appendChild(i),
                        (this.feFuncG = i);
                    var o = createNS("feFuncB");
                    o.setAttribute("type", "table"),
                        n.appendChild(o),
                        (this.feFuncB = o);
                }
                function SVGProLevelsFilter(e, t) {
                    this.filterManager = t;
                    var r = this.filterManager.effectElements,
                        n = createNS("feComponentTransfer");
                    (r[10].p.k ||
                        0 !== r[10].p.v ||
                        r[11].p.k ||
                        1 !== r[11].p.v ||
                        r[12].p.k ||
                        1 !== r[12].p.v ||
                        r[13].p.k ||
                        0 !== r[13].p.v ||
                        r[14].p.k ||
                        1 !== r[14].p.v) &&
                        (this.feFuncR = this.createFeFunc("feFuncR", n)),
                        (r[17].p.k ||
                            0 !== r[17].p.v ||
                            r[18].p.k ||
                            1 !== r[18].p.v ||
                            r[19].p.k ||
                            1 !== r[19].p.v ||
                            r[20].p.k ||
                            0 !== r[20].p.v ||
                            r[21].p.k ||
                            1 !== r[21].p.v) &&
                            (this.feFuncG = this.createFeFunc("feFuncG", n)),
                        (r[24].p.k ||
                            0 !== r[24].p.v ||
                            r[25].p.k ||
                            1 !== r[25].p.v ||
                            r[26].p.k ||
                            1 !== r[26].p.v ||
                            r[27].p.k ||
                            0 !== r[27].p.v ||
                            r[28].p.k ||
                            1 !== r[28].p.v) &&
                            (this.feFuncB = this.createFeFunc("feFuncB", n)),
                        (r[31].p.k ||
                            0 !== r[31].p.v ||
                            r[32].p.k ||
                            1 !== r[32].p.v ||
                            r[33].p.k ||
                            1 !== r[33].p.v ||
                            r[34].p.k ||
                            0 !== r[34].p.v ||
                            r[35].p.k ||
                            1 !== r[35].p.v) &&
                            (this.feFuncA = this.createFeFunc("feFuncA", n)),
                        (this.feFuncR ||
                            this.feFuncG ||
                            this.feFuncB ||
                            this.feFuncA) &&
                            (n.setAttribute(
                                "color-interpolation-filters",
                                "sRGB"
                            ),
                            e.appendChild(n),
                            (n = createNS("feComponentTransfer"))),
                        (r[3].p.k ||
                            0 !== r[3].p.v ||
                            r[4].p.k ||
                            1 !== r[4].p.v ||
                            r[5].p.k ||
                            1 !== r[5].p.v ||
                            r[6].p.k ||
                            0 !== r[6].p.v ||
                            r[7].p.k ||
                            1 !== r[7].p.v) &&
                            (n.setAttribute(
                                "color-interpolation-filters",
                                "sRGB"
                            ),
                            e.appendChild(n),
                            (this.feFuncRComposed = this.createFeFunc(
                                "feFuncR",
                                n
                            )),
                            (this.feFuncGComposed = this.createFeFunc(
                                "feFuncG",
                                n
                            )),
                            (this.feFuncBComposed = this.createFeFunc(
                                "feFuncB",
                                n
                            )));
                }
                function SVGDropShadowEffect(e, t) {
                    var r = t.container.globalData.renderConfig.filterSize;
                    e.setAttribute("x", r.x),
                        e.setAttribute("y", r.y),
                        e.setAttribute("width", r.width),
                        e.setAttribute("height", r.height),
                        (this.filterManager = t);
                    var n = createNS("feGaussianBlur");
                    n.setAttribute("in", "SourceAlpha"),
                        n.setAttribute("result", "drop_shadow_1"),
                        n.setAttribute("stdDeviation", "0"),
                        (this.feGaussianBlur = n),
                        e.appendChild(n);
                    var a = createNS("feOffset");
                    a.setAttribute("dx", "25"),
                        a.setAttribute("dy", "0"),
                        a.setAttribute("in", "drop_shadow_1"),
                        a.setAttribute("result", "drop_shadow_2"),
                        (this.feOffset = a),
                        e.appendChild(a);
                    var i = createNS("feFlood");
                    i.setAttribute("flood-color", "#00ff00"),
                        i.setAttribute("flood-opacity", "1"),
                        i.setAttribute("result", "drop_shadow_3"),
                        (this.feFlood = i),
                        e.appendChild(i);
                    var o = createNS("feComposite");
                    o.setAttribute("in", "drop_shadow_3"),
                        o.setAttribute("in2", "drop_shadow_2"),
                        o.setAttribute("operator", "in"),
                        o.setAttribute("result", "drop_shadow_4"),
                        e.appendChild(o);
                    var s = createNS("feMerge");
                    e.appendChild(s);
                    var l;
                    (l = createNS("feMergeNode")),
                        s.appendChild(l),
                        (l = createNS("feMergeNode")).setAttribute(
                            "in",
                            "SourceGraphic"
                        ),
                        (this.feMergeNode = l),
                        (this.feMerge = s),
                        (this.originalNodeAdded = !1),
                        s.appendChild(l);
                }
                function SVGMatte3Effect(e, t, r) {
                    (this.initialized = !1),
                        (this.filterManager = t),
                        (this.filterElem = e),
                        (this.elem = r),
                        (r.matteElement = createNS("g")),
                        r.matteElement.appendChild(r.layerElement),
                        r.matteElement.appendChild(r.transformedElement),
                        (r.baseElement = r.matteElement);
                }
                function SVGEffects(e) {
                    var t,
                        r = e.data.ef ? e.data.ef.length : 0,
                        n = createElementID(),
                        a = filtersFactory.createFilter(n),
                        i = 0;
                    this.filters = [];
                    var o;
                    for (t = 0; t < r; t += 1)
                        (o = null),
                            20 === e.data.ef[t].ty
                                ? ((i += 1),
                                  (o = new SVGTintFilter(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  )))
                                : 21 === e.data.ef[t].ty
                                ? ((i += 1),
                                  (o = new SVGFillFilter(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  )))
                                : 22 === e.data.ef[t].ty
                                ? (o = new SVGStrokeEffect(
                                      e,
                                      e.effectsManager.effectElements[t]
                                  ))
                                : 23 === e.data.ef[t].ty
                                ? ((i += 1),
                                  (o = new SVGTritoneFilter(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  )))
                                : 24 === e.data.ef[t].ty
                                ? ((i += 1),
                                  (o = new SVGProLevelsFilter(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  )))
                                : 25 === e.data.ef[t].ty
                                ? ((i += 1),
                                  (o = new SVGDropShadowEffect(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  )))
                                : 28 === e.data.ef[t].ty
                                ? (o = new SVGMatte3Effect(
                                      a,
                                      e.effectsManager.effectElements[t],
                                      e
                                  ))
                                : 29 === e.data.ef[t].ty &&
                                  ((i += 1),
                                  (o = new SVGGaussianBlurEffect(
                                      a,
                                      e.effectsManager.effectElements[t]
                                  ))),
                            o && this.filters.push(o);
                    i &&
                        (e.globalData.defs.appendChild(a),
                        e.layerElement.setAttribute(
                            "filter",
                            "url(" + locationHref + "#" + n + ")"
                        )),
                        this.filters.length && e.addRenderableComponent(this);
                }
                function CVContextData() {
                    (this.saved = []),
                        (this.cArrPos = 0),
                        (this.cTr = new Matrix()),
                        (this.cO = 1);
                    var e;
                    for (
                        this.savedOp = createTypedArray("float32", 15), e = 0;
                        e < 15;
                        e += 1
                    )
                        this.saved[e] = createTypedArray("float32", 16);
                    this._length = 15;
                }
                function CVBaseElement() {}
                function CVImageElement(e, t, r) {
                    (this.assetData = t.getAssetData(e.refId)),
                        (this.img = t.imageLoader.getImage(this.assetData)),
                        this.initElement(e, t, r);
                }
                function CVCompElement(e, t, r) {
                    (this.completeLayers = !1),
                        (this.layers = e.layers),
                        (this.pendingElements = []),
                        (this.elements = createSizedArray(this.layers.length)),
                        this.initElement(e, t, r),
                        (this.tm = e.tm
                            ? PropertyFactory.getProp(
                                  this,
                                  e.tm,
                                  0,
                                  t.frameRate,
                                  this
                              )
                            : { _placeholder: !0 });
                }
                function CVMaskElement(e, t) {
                    (this.data = e),
                        (this.element = t),
                        (this.masksProperties =
                            this.data.masksProperties || []),
                        (this.viewData = createSizedArray(
                            this.masksProperties.length
                        ));
                    var r,
                        n = this.masksProperties.length,
                        a = !1;
                    for (r = 0; r < n; r++)
                        "n" !== this.masksProperties[r].mode && (a = !0),
                            (this.viewData[
                                r
                            ] = ShapePropertyFactory.getShapeProp(
                                this.element,
                                this.masksProperties[r],
                                3
                            ));
                    (this.hasMasks = a),
                        a && this.element.addRenderableComponent(this);
                }
                function CVShapeElement(e, t, r) {
                    (this.shapes = []),
                        (this.shapesData = e.shapes),
                        (this.stylesList = []),
                        (this.itemsData = []),
                        (this.prevViewData = []),
                        (this.shapeModifiers = []),
                        (this.processedElements = []),
                        (this.transformsManager = new ShapeTransformManager()),
                        this.initElement(e, t, r);
                }
                function CVSolidElement(e, t, r) {
                    this.initElement(e, t, r);
                }
                function CVTextElement(e, t, r) {
                    (this.textSpans = []),
                        (this.yOffset = 0),
                        (this.fillColorAnim = !1),
                        (this.strokeColorAnim = !1),
                        (this.strokeWidthAnim = !1),
                        (this.stroke = !1),
                        (this.fill = !1),
                        (this.justifyOffset = 0),
                        (this.currentRender = null),
                        (this.renderType = "canvas"),
                        (this.values = {
                            fill: "rgba(0,0,0,0)",
                            stroke: "rgba(0,0,0,0)",
                            sWidth: 0,
                            fValue: "",
                        }),
                        this.initElement(e, t, r);
                }
                function CVEffects() {}
                function HBaseElement(e, t, r) {}
                function HSolidElement(e, t, r) {
                    this.initElement(e, t, r);
                }
                function HCompElement(e, t, r) {
                    (this.layers = e.layers),
                        (this.supports3d = !e.hasMask),
                        (this.completeLayers = !1),
                        (this.pendingElements = []),
                        (this.elements = this.layers
                            ? createSizedArray(this.layers.length)
                            : []),
                        this.initElement(e, t, r),
                        (this.tm = e.tm
                            ? PropertyFactory.getProp(
                                  this,
                                  e.tm,
                                  0,
                                  t.frameRate,
                                  this
                              )
                            : { _placeholder: !0 });
                }
                function HShapeElement(e, t, r) {
                    (this.shapes = []),
                        (this.shapesData = e.shapes),
                        (this.stylesList = []),
                        (this.shapeModifiers = []),
                        (this.itemsData = []),
                        (this.processedElements = []),
                        (this.animatedContents = []),
                        (this.shapesContainer = createNS("g")),
                        this.initElement(e, t, r),
                        (this.prevViewData = []),
                        (this.currentBBox = {
                            x: 999999,
                            y: -999999,
                            h: 0,
                            w: 0,
                        });
                }
                function HTextElement(e, t, r) {
                    (this.textSpans = []),
                        (this.textPaths = []),
                        (this.currentBBox = {
                            x: 999999,
                            y: -999999,
                            h: 0,
                            w: 0,
                        }),
                        (this.renderType = "svg"),
                        (this.isMasked = !1),
                        this.initElement(e, t, r);
                }
                function HImageElement(e, t, r) {
                    (this.assetData = t.getAssetData(e.refId)),
                        this.initElement(e, t, r);
                }
                function HCameraElement(e, t, r) {
                    this.initFrame(),
                        this.initBaseData(e, t, r),
                        this.initHierarchy();
                    var n = PropertyFactory.getProp;
                    if (
                        ((this.pe = n(this, e.pe, 0, 0, this)),
                        e.ks.p.s
                            ? ((this.px = n(this, e.ks.p.x, 1, 0, this)),
                              (this.py = n(this, e.ks.p.y, 1, 0, this)),
                              (this.pz = n(this, e.ks.p.z, 1, 0, this)))
                            : (this.p = n(this, e.ks.p, 1, 0, this)),
                        e.ks.a && (this.a = n(this, e.ks.a, 1, 0, this)),
                        e.ks.or.k.length && e.ks.or.k[0].to)
                    ) {
                        var a,
                            i = e.ks.or.k.length;
                        for (a = 0; a < i; a += 1)
                            (e.ks.or.k[a].to = null), (e.ks.or.k[a].ti = null);
                    }
                    (this.or = n(this, e.ks.or, 1, degToRads, this)),
                        (this.or.sh = !0),
                        (this.rx = n(this, e.ks.rx, 0, degToRads, this)),
                        (this.ry = n(this, e.ks.ry, 0, degToRads, this)),
                        (this.rz = n(this, e.ks.rz, 0, degToRads, this)),
                        (this.mat = new Matrix()),
                        (this._prevMat = new Matrix()),
                        (this._isFirstFrame = !0),
                        (this.finalTransform = { mProp: this });
                }
                function HEffects() {}
                function SliderEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 0, 0, r);
                }
                function AngleEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 0, 0, r);
                }
                function ColorEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 1, 0, r);
                }
                function PointEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 1, 0, r);
                }
                function LayerIndexEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 0, 0, r);
                }
                function MaskIndexEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 0, 0, r);
                }
                function CheckboxEffect(e, t, r) {
                    this.p = PropertyFactory.getProp(t, e.v, 0, 0, r);
                }
                function NoValueEffect() {
                    this.p = {};
                }
                function EffectsManager(e, t) {
                    var r = e.ef || [];
                    this.effectElements = [];
                    var n,
                        a,
                        i = r.length;
                    for (n = 0; n < i; n++)
                        (a = new GroupEffect(r[n], t)),
                            this.effectElements.push(a);
                }
                function GroupEffect(e, t) {
                    this.init(e, t);
                }
                function setLocationHref(e) {
                    locationHref = e;
                }
                function searchAnimations() {
                    !0 === standalone
                        ? animationManager.searchAnimations(
                              animationData,
                              standalone,
                              renderer
                          )
                        : animationManager.searchAnimations();
                }
                function setSubframeRendering(e) {
                    subframeEnabled = e;
                }
                function loadAnimation(e) {
                    return (
                        !0 === standalone &&
                            (e.animationData = JSON.parse(animationData)),
                        animationManager.loadAnimation(e)
                    );
                }
                function setQuality(e) {
                    if ("string" == typeof e)
                        switch (e) {
                            case "high":
                                defaultCurveSegments = 200;
                                break;
                            case "medium":
                                defaultCurveSegments = 50;
                                break;
                            case "low":
                                defaultCurveSegments = 10;
                        }
                    else !isNaN(e) && e > 1 && (defaultCurveSegments = e);
                    roundValues(!(defaultCurveSegments >= 50));
                }
                function inBrowser() {
                    return "undefined" != typeof navigator;
                }
                function installPlugin(e, t) {
                    "expressions" === e && (expressionsPlugin = t);
                }
                function getFactory(e) {
                    switch (e) {
                        case "propertyFactory":
                            return PropertyFactory;
                        case "shapePropertyFactory":
                            return ShapePropertyFactory;
                        case "matrix":
                            return Matrix;
                    }
                }
                function checkReady() {
                    "complete" === document.readyState &&
                        (clearInterval(readyStateCheckInterval),
                        searchAnimations());
                }
                function getQueryVariable(e) {
                    for (
                        var t = queryString.split("&"), r = 0;
                        r < t.length;
                        r++
                    ) {
                        var n = t[r].split("=");
                        if (decodeURIComponent(n[0]) == e)
                            return decodeURIComponent(n[1]);
                    }
                }
                var svgNS = "http://www.w3.org/2000/svg",
                    locationHref = "",
                    initialDefaultFrame = -999999,
                    subframeEnabled = !0,
                    expressionsPlugin,
                    isSafari = /^((?!chrome|android).)*safari/i.test(
                        navigator.userAgent
                    ),
                    cachedColors = {},
                    bm_rounder = Math.round,
                    bm_rnd,
                    bm_pow = Math.pow,
                    bm_sqrt = Math.sqrt,
                    bm_abs = Math.abs,
                    bm_floor = Math.floor,
                    bm_max = Math.max,
                    bm_min = Math.min,
                    blitter = 10,
                    BMMath = {};
                !(function () {
                    var e,
                        t = [
                            "abs",
                            "acos",
                            "acosh",
                            "asin",
                            "asinh",
                            "atan",
                            "atanh",
                            "atan2",
                            "ceil",
                            "cbrt",
                            "expm1",
                            "clz32",
                            "cos",
                            "cosh",
                            "exp",
                            "floor",
                            "fround",
                            "hypot",
                            "imul",
                            "log",
                            "log1p",
                            "log2",
                            "log10",
                            "max",
                            "min",
                            "pow",
                            "random",
                            "round",
                            "sign",
                            "sin",
                            "sinh",
                            "sqrt",
                            "tan",
                            "tanh",
                            "trunc",
                            "E",
                            "LN10",
                            "LN2",
                            "LOG10E",
                            "LOG2E",
                            "PI",
                            "SQRT1_2",
                            "SQRT2",
                        ],
                        r = t.length;
                    for (e = 0; e < r; e += 1) BMMath[t[e]] = Math[t[e]];
                })(),
                    (BMMath.random = Math.random),
                    (BMMath.abs = function (e) {
                        if ("object" === typeof e && e.length) {
                            var t,
                                r = createSizedArray(e.length),
                                n = e.length;
                            for (t = 0; t < n; t += 1) r[t] = Math.abs(e[t]);
                            return r;
                        }
                        return Math.abs(e);
                    });
                var defaultCurveSegments = 150,
                    degToRads = Math.PI / 180,
                    roundCorner = 0.5519;
                roundValues(!1);
                var createElementID = (function () {
                        var e = 0;
                        return function () {
                            return "__lottie_element_" + ++e;
                        };
                    })(),
                    rgbToHex = (function () {
                        var e,
                            t,
                            r = [];
                        for (e = 0; e < 256; e += 1)
                            (t = e.toString(16)),
                                (r[e] = 1 == t.length ? "0" + t : t);
                        return function (e, t, n) {
                            return (
                                e < 0 && (e = 0),
                                t < 0 && (t = 0),
                                n < 0 && (n = 0),
                                "#" + r[e] + r[t] + r[n]
                            );
                        };
                    })();
                BaseEvent.prototype = {
                    triggerEvent: function (e, t) {
                        if (this._cbs[e])
                            for (var r = this._cbs[e].length, n = 0; n < r; n++)
                                this._cbs[e][n](t);
                    },
                    addEventListener: function (e, t) {
                        return (
                            this._cbs[e] || (this._cbs[e] = []),
                            this._cbs[e].push(t),
                            function () {
                                this.removeEventListener(e, t);
                            }.bind(this)
                        );
                    },
                    removeEventListener: function (e, t) {
                        if (t) {
                            if (this._cbs[e]) {
                                for (
                                    var r = 0, n = this._cbs[e].length;
                                    r < n;

                                )
                                    this._cbs[e][r] === t &&
                                        (this._cbs[e].splice(r, 1),
                                        (r -= 1),
                                        (n -= 1)),
                                        (r += 1);
                                this._cbs[e].length || (this._cbs[e] = null);
                            }
                        } else this._cbs[e] = null;
                    },
                };
                var createTypedArray = (function () {
                    function e(e, t) {
                        var r,
                            n = 0,
                            a = [];
                        switch (e) {
                            case "int16":
                            case "uint8c":
                                r = 1;
                                break;
                            default:
                                r = 1.1;
                        }
                        for (n = 0; n < t; n += 1) a.push(r);
                        return a;
                    }
                    function t(e, t) {
                        return "float32" === e
                            ? new Float32Array(t)
                            : "int16" === e
                            ? new Int16Array(t)
                            : "uint8c" === e
                            ? new Uint8ClampedArray(t)
                            : void 0;
                    }
                    return "function" == typeof Uint8ClampedArray &&
                        "function" == typeof Float32Array
                        ? t
                        : e;
                })();
                DynamicPropertyContainer.prototype = {
                    addDynamicProperty: function (e) {
                        -1 === this.dynamicProperties.indexOf(e) &&
                            (this.dynamicProperties.push(e),
                            this.container.addDynamicProperty(this),
                            (this._isAnimated = !0));
                    },
                    iterateDynamicProperties: function () {
                        this._mdf = !1;
                        var e,
                            t = this.dynamicProperties.length;
                        for (e = 0; e < t; e += 1)
                            this.dynamicProperties[e].getValue(),
                                this.dynamicProperties[e]._mdf &&
                                    (this._mdf = !0);
                    },
                    initDynamicPropertyContainer: function (e) {
                        (this.container = e),
                            (this.dynamicProperties = []),
                            (this._mdf = !1),
                            (this._isAnimated = !1);
                    },
                };
                var getBlendMode = (function () {
                        var e = {
                            0: "source-over",
                            1: "multiply",
                            2: "screen",
                            3: "overlay",
                            4: "darken",
                            5: "lighten",
                            6: "color-dodge",
                            7: "color-burn",
                            8: "hard-light",
                            9: "soft-light",
                            10: "difference",
                            11: "exclusion",
                            12: "hue",
                            13: "saturation",
                            14: "color",
                            15: "luminosity",
                        };
                        return function (t) {
                            return e[t] || "";
                        };
                    })(),
                    Matrix = (function () {
                        function e() {
                            return (
                                (this.props[0] = 1),
                                (this.props[1] = 0),
                                (this.props[2] = 0),
                                (this.props[3] = 0),
                                (this.props[4] = 0),
                                (this.props[5] = 1),
                                (this.props[6] = 0),
                                (this.props[7] = 0),
                                (this.props[8] = 0),
                                (this.props[9] = 0),
                                (this.props[10] = 1),
                                (this.props[11] = 0),
                                (this.props[12] = 0),
                                (this.props[13] = 0),
                                (this.props[14] = 0),
                                (this.props[15] = 1),
                                this
                            );
                        }
                        function t(e) {
                            if (0 === e) return this;
                            var t = T(e),
                                r = L(e);
                            return this._t(
                                t,
                                -r,
                                0,
                                0,
                                r,
                                t,
                                0,
                                0,
                                0,
                                0,
                                1,
                                0,
                                0,
                                0,
                                0,
                                1
                            );
                        }
                        function r(e) {
                            if (0 === e) return this;
                            var t = T(e),
                                r = L(e);
                            return this._t(
                                1,
                                0,
                                0,
                                0,
                                0,
                                t,
                                -r,
                                0,
                                0,
                                r,
                                t,
                                0,
                                0,
                                0,
                                0,
                                1
                            );
                        }
                        function n(e) {
                            if (0 === e) return this;
                            var t = T(e),
                                r = L(e);
                            return this._t(
                                t,
                                0,
                                r,
                                0,
                                0,
                                1,
                                0,
                                0,
                                -r,
                                0,
                                t,
                                0,
                                0,
                                0,
                                0,
                                1
                            );
                        }
                        function a(e) {
                            if (0 === e) return this;
                            var t = T(e),
                                r = L(e);
                            return this._t(
                                t,
                                -r,
                                0,
                                0,
                                r,
                                t,
                                0,
                                0,
                                0,
                                0,
                                1,
                                0,
                                0,
                                0,
                                0,
                                1
                            );
                        }
                        function i(e, t) {
                            return this._t(1, t, e, 1, 0, 0);
                        }
                        function o(e, t) {
                            return this.shear(I(e), I(t));
                        }
                        function s(e, t) {
                            var r = T(t),
                                n = L(t);
                            return this._t(
                                r,
                                n,
                                0,
                                0,
                                -n,
                                r,
                                0,
                                0,
                                0,
                                0,
                                1,
                                0,
                                0,
                                0,
                                0,
                                1
                            )
                                ._t(
                                    1,
                                    0,
                                    0,
                                    0,
                                    I(e),
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1
                                )
                                ._t(
                                    r,
                                    -n,
                                    0,
                                    0,
                                    n,
                                    r,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1
                                );
                        }
                        function l(e, t, r) {
                            return (
                                r || 0 === r || (r = 1),
                                1 === e && 1 === t && 1 === r
                                    ? this
                                    : this._t(
                                          e,
                                          0,
                                          0,
                                          0,
                                          0,
                                          t,
                                          0,
                                          0,
                                          0,
                                          0,
                                          r,
                                          0,
                                          0,
                                          0,
                                          0,
                                          1
                                      )
                            );
                        }
                        function c(
                            e,
                            t,
                            r,
                            n,
                            a,
                            i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d,
                            p,
                            h,
                            f,
                            m
                        ) {
                            return (
                                (this.props[0] = e),
                                (this.props[1] = t),
                                (this.props[2] = r),
                                (this.props[3] = n),
                                (this.props[4] = a),
                                (this.props[5] = i),
                                (this.props[6] = o),
                                (this.props[7] = s),
                                (this.props[8] = l),
                                (this.props[9] = c),
                                (this.props[10] = u),
                                (this.props[11] = d),
                                (this.props[12] = p),
                                (this.props[13] = h),
                                (this.props[14] = f),
                                (this.props[15] = m),
                                this
                            );
                        }
                        function u(e, t, r) {
                            return (
                                (r = r || 0),
                                0 !== e || 0 !== t || 0 !== r
                                    ? this._t(
                                          1,
                                          0,
                                          0,
                                          0,
                                          0,
                                          1,
                                          0,
                                          0,
                                          0,
                                          0,
                                          1,
                                          0,
                                          e,
                                          t,
                                          r,
                                          1
                                      )
                                    : this
                            );
                        }
                        function d(
                            e,
                            t,
                            r,
                            n,
                            a,
                            i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d,
                            p,
                            h,
                            f,
                            m
                        ) {
                            var y = this.props;
                            if (
                                1 === e &&
                                0 === t &&
                                0 === r &&
                                0 === n &&
                                0 === a &&
                                1 === i &&
                                0 === o &&
                                0 === s &&
                                0 === l &&
                                0 === c &&
                                1 === u &&
                                0 === d
                            )
                                return (
                                    (y[12] = y[12] * e + y[15] * p),
                                    (y[13] = y[13] * i + y[15] * h),
                                    (y[14] = y[14] * u + y[15] * f),
                                    (y[15] = y[15] * m),
                                    (this._identityCalculated = !1),
                                    this
                                );
                            var g = y[0],
                                v = y[1],
                                b = y[2],
                                w = y[3],
                                _ = y[4],
                                E = y[5],
                                S = y[6],
                                C = y[7],
                                A = y[8],
                                k = y[9],
                                x = y[10],
                                P = y[11],
                                T = y[12],
                                L = y[13],
                                I = y[14],
                                O = y[15];
                            return (
                                (y[0] = g * e + v * a + b * l + w * p),
                                (y[1] = g * t + v * i + b * c + w * h),
                                (y[2] = g * r + v * o + b * u + w * f),
                                (y[3] = g * n + v * s + b * d + w * m),
                                (y[4] = _ * e + E * a + S * l + C * p),
                                (y[5] = _ * t + E * i + S * c + C * h),
                                (y[6] = _ * r + E * o + S * u + C * f),
                                (y[7] = _ * n + E * s + S * d + C * m),
                                (y[8] = A * e + k * a + x * l + P * p),
                                (y[9] = A * t + k * i + x * c + P * h),
                                (y[10] = A * r + k * o + x * u + P * f),
                                (y[11] = A * n + k * s + x * d + P * m),
                                (y[12] = T * e + L * a + I * l + O * p),
                                (y[13] = T * t + L * i + I * c + O * h),
                                (y[14] = T * r + L * o + I * u + O * f),
                                (y[15] = T * n + L * s + I * d + O * m),
                                (this._identityCalculated = !1),
                                this
                            );
                        }
                        function p() {
                            return (
                                this._identityCalculated ||
                                    ((this._identity = !(
                                        1 !== this.props[0] ||
                                        0 !== this.props[1] ||
                                        0 !== this.props[2] ||
                                        0 !== this.props[3] ||
                                        0 !== this.props[4] ||
                                        1 !== this.props[5] ||
                                        0 !== this.props[6] ||
                                        0 !== this.props[7] ||
                                        0 !== this.props[8] ||
                                        0 !== this.props[9] ||
                                        1 !== this.props[10] ||
                                        0 !== this.props[11] ||
                                        0 !== this.props[12] ||
                                        0 !== this.props[13] ||
                                        0 !== this.props[14] ||
                                        1 !== this.props[15]
                                    )),
                                    (this._identityCalculated = !0)),
                                this._identity
                            );
                        }
                        function h(e) {
                            for (var t = 0; t < 16; ) {
                                if (e.props[t] !== this.props[t]) return !1;
                                t += 1;
                            }
                            return !0;
                        }
                        function f(e) {
                            var t;
                            for (t = 0; t < 16; t += 1)
                                e.props[t] = this.props[t];
                            return e;
                        }
                        function m(e) {
                            var t;
                            for (t = 0; t < 16; t += 1) this.props[t] = e[t];
                        }
                        function y(e, t, r) {
                            return {
                                x:
                                    e * this.props[0] +
                                    t * this.props[4] +
                                    r * this.props[8] +
                                    this.props[12],
                                y:
                                    e * this.props[1] +
                                    t * this.props[5] +
                                    r * this.props[9] +
                                    this.props[13],
                                z:
                                    e * this.props[2] +
                                    t * this.props[6] +
                                    r * this.props[10] +
                                    this.props[14],
                            };
                        }
                        function g(e, t, r) {
                            return (
                                e * this.props[0] +
                                t * this.props[4] +
                                r * this.props[8] +
                                this.props[12]
                            );
                        }
                        function v(e, t, r) {
                            return (
                                e * this.props[1] +
                                t * this.props[5] +
                                r * this.props[9] +
                                this.props[13]
                            );
                        }
                        function b(e, t, r) {
                            return (
                                e * this.props[2] +
                                t * this.props[6] +
                                r * this.props[10] +
                                this.props[14]
                            );
                        }
                        function w() {
                            var e =
                                    this.props[0] * this.props[5] -
                                    this.props[1] * this.props[4],
                                t = this.props[5] / e,
                                r = -this.props[1] / e,
                                n = -this.props[4] / e,
                                a = this.props[0] / e,
                                i =
                                    (this.props[4] * this.props[13] -
                                        this.props[5] * this.props[12]) /
                                    e,
                                o =
                                    -(
                                        this.props[0] * this.props[13] -
                                        this.props[1] * this.props[12]
                                    ) / e,
                                s = new Matrix();
                            return (
                                (s.props[0] = t),
                                (s.props[1] = r),
                                (s.props[4] = n),
                                (s.props[5] = a),
                                (s.props[12] = i),
                                (s.props[13] = o),
                                s
                            );
                        }
                        function _(e) {
                            return this.getInverseMatrix().applyToPointArray(
                                e[0],
                                e[1],
                                e[2] || 0
                            );
                        }
                        function E(e) {
                            var t,
                                r = e.length,
                                n = [];
                            for (t = 0; t < r; t += 1) n[t] = _(e[t]);
                            return n;
                        }
                        function S(e, t, r) {
                            var n = createTypedArray("float32", 6);
                            if (this.isIdentity())
                                (n[0] = e[0]),
                                    (n[1] = e[1]),
                                    (n[2] = t[0]),
                                    (n[3] = t[1]),
                                    (n[4] = r[0]),
                                    (n[5] = r[1]);
                            else {
                                var a = this.props[0],
                                    i = this.props[1],
                                    o = this.props[4],
                                    s = this.props[5],
                                    l = this.props[12],
                                    c = this.props[13];
                                (n[0] = e[0] * a + e[1] * o + l),
                                    (n[1] = e[0] * i + e[1] * s + c),
                                    (n[2] = t[0] * a + t[1] * o + l),
                                    (n[3] = t[0] * i + t[1] * s + c),
                                    (n[4] = r[0] * a + r[1] * o + l),
                                    (n[5] = r[0] * i + r[1] * s + c);
                            }
                            return n;
                        }
                        function C(e, t, r) {
                            return this.isIdentity()
                                ? [e, t, r]
                                : [
                                      e * this.props[0] +
                                          t * this.props[4] +
                                          r * this.props[8] +
                                          this.props[12],
                                      e * this.props[1] +
                                          t * this.props[5] +
                                          r * this.props[9] +
                                          this.props[13],
                                      e * this.props[2] +
                                          t * this.props[6] +
                                          r * this.props[10] +
                                          this.props[14],
                                  ];
                        }
                        function A(e, t) {
                            if (this.isIdentity()) return e + "," + t;
                            var r = this.props;
                            return (
                                Math.round(
                                    100 * (e * r[0] + t * r[4] + r[12])
                                ) /
                                    100 +
                                "," +
                                Math.round(
                                    100 * (e * r[1] + t * r[5] + r[13])
                                ) /
                                    100
                            );
                        }
                        function k() {
                            for (
                                var e = 0, t = this.props, r = "matrix3d(";
                                e < 16;

                            )
                                (r += O(1e4 * t[e]) / 1e4),
                                    (r += 15 === e ? ")" : ","),
                                    (e += 1);
                            return r;
                        }
                        function x(e) {
                            return (e < 1e-6 && e > 0) || (e > -1e-6 && e < 0)
                                ? O(1e4 * e) / 1e4
                                : e;
                        }
                        function P() {
                            var e = this.props;
                            return (
                                "matrix(" +
                                x(e[0]) +
                                "," +
                                x(e[1]) +
                                "," +
                                x(e[4]) +
                                "," +
                                x(e[5]) +
                                "," +
                                x(e[12]) +
                                "," +
                                x(e[13]) +
                                ")"
                            );
                        }
                        var T = Math.cos,
                            L = Math.sin,
                            I = Math.tan,
                            O = Math.round;
                        return function () {
                            (this.reset = e),
                                (this.rotate = t),
                                (this.rotateX = r),
                                (this.rotateY = n),
                                (this.rotateZ = a),
                                (this.skew = o),
                                (this.skewFromAxis = s),
                                (this.shear = i),
                                (this.scale = l),
                                (this.setTransform = c),
                                (this.translate = u),
                                (this.transform = d),
                                (this.applyToPoint = y),
                                (this.applyToX = g),
                                (this.applyToY = v),
                                (this.applyToZ = b),
                                (this.applyToPointArray = C),
                                (this.applyToTriplePoints = S),
                                (this.applyToPointStringified = A),
                                (this.toCSS = k),
                                (this.to2dCSS = P),
                                (this.clone = f),
                                (this.cloneFromProps = m),
                                (this.equals = h),
                                (this.inversePoints = E),
                                (this.inversePoint = _),
                                (this.getInverseMatrix = w),
                                (this._t = this.transform),
                                (this.isIdentity = p),
                                (this._identity = !0),
                                (this._identityCalculated = !1),
                                (this.props = createTypedArray("float32", 16)),
                                this.reset();
                        };
                    })();
                !(function (e, t) {
                    function r(e, t) {
                        return (t.i = e.i), (t.j = e.j), (t.S = e.S.slice()), t;
                    }
                    function n(e, t) {
                        var r,
                            a = [],
                            i = typeof e;
                        if (t && "object" == i)
                            for (r in e)
                                try {
                                    a.push(n(e[r], t - 1));
                                } catch (e) {}
                        return a.length ? a : "string" == i ? e : e + "\0";
                    }
                    function a(e, t) {
                        for (var r, n = e + "", a = 0; a < n.length; )
                            t[f & a] =
                                f & ((r ^= 19 * t[f & a]) + n.charCodeAt(a++));
                        return i(t);
                    }
                    function i(e) {
                        return String.fromCharCode.apply(0, e);
                    }
                    var o,
                        s = this,
                        l = 256,
                        c = 6,
                        u = "random",
                        d = t.pow(l, c),
                        p = t.pow(2, 52),
                        h = 2 * p,
                        f = l - 1;
                    (t["seed" + u] = function (m, y, g) {
                        var v = [],
                            b = a(
                                n(
                                    (y = !0 === y ? { entropy: !0 } : y || {})
                                        .entropy
                                        ? [m, i(e)]
                                        : null === m
                                        ? (function () {
                                              try {
                                                  if (o)
                                                      return i(
                                                          o.randomBytes(l)
                                                      );
                                                  var t = new Uint8Array(l);
                                                  return (
                                                      (
                                                          s.crypto || s.msCrypto
                                                      ).getRandomValues(t),
                                                      i(t)
                                                  );
                                              } catch (t) {
                                                  var r = s.navigator,
                                                      n = r && r.plugins;
                                                  return [
                                                      +new Date(),
                                                      s,
                                                      n,
                                                      s.screen,
                                                      i(e),
                                                  ];
                                              }
                                          })()
                                        : m,
                                    3
                                ),
                                v
                            ),
                            w = new (function (e) {
                                var t,
                                    r = e.length,
                                    n = this,
                                    a = 0,
                                    i = (n.i = n.j = 0),
                                    o = (n.S = []);
                                for (r || (e = [r++]); a < l; ) o[a] = a++;
                                for (a = 0; a < l; a++)
                                    (o[a] =
                                        o[
                                            (i =
                                                f & (i + e[a % r] + (t = o[a])))
                                        ]),
                                        (o[i] = t);
                                n.g = function (e) {
                                    for (
                                        var t, r = 0, a = n.i, i = n.j, o = n.S;
                                        e--;

                                    )
                                        (t = o[(a = f & (a + 1))]),
                                            (r =
                                                r * l +
                                                o[
                                                    f &
                                                        ((o[a] =
                                                            o[
                                                                (i =
                                                                    f & (i + t))
                                                            ]) +
                                                            (o[i] = t))
                                                ]);
                                    return (n.i = a), (n.j = i), r;
                                };
                            })(v),
                            _ = function () {
                                for (var e = w.g(c), t = d, r = 0; e < p; )
                                    (e = (e + r) * l), (t *= l), (r = w.g(1));
                                for (; e >= h; ) (e /= 2), (t /= 2), (r >>>= 1);
                                return (e + r) / t;
                            };
                        return (
                            (_.int32 = function () {
                                return 0 | w.g(4);
                            }),
                            (_.quick = function () {
                                return w.g(4) / 4294967296;
                            }),
                            (_.double = _),
                            a(i(w.S), e),
                            (
                                y.pass ||
                                g ||
                                function (e, n, a, i) {
                                    return (
                                        i &&
                                            (i.S && r(i, w),
                                            (e.state = function () {
                                                return r(w, {});
                                            })),
                                        a ? ((t[u] = e), n) : e
                                    );
                                }
                            )(
                                _,
                                b,
                                "global" in y ? y.global : this == t,
                                y.state
                            )
                        );
                    }),
                        a(t.random(), e);
                })([], BMMath);
                var BezierFactory = (function () {
                    function e(e, t) {
                        return 1 - 3 * t + 3 * e;
                    }
                    function t(e, t) {
                        return 3 * t - 6 * e;
                    }
                    function r(e) {
                        return 3 * e;
                    }
                    function n(n, a, i) {
                        return ((e(a, i) * n + t(a, i)) * n + r(a)) * n;
                    }
                    function a(n, a, i) {
                        return 3 * e(a, i) * n * n + 2 * t(a, i) * n + r(a);
                    }
                    function i(e) {
                        (this._p = e),
                            (this._mSampleValues = h
                                ? new Float32Array(d)
                                : new Array(d)),
                            (this._precomputed = !1),
                            (this.get = this.get.bind(this));
                    }
                    var o = {};
                    o.getBezierEasing = function (e, t, r, n, a) {
                        var o =
                            a ||
                            ("bez_" + e + "_" + t + "_" + r + "_" + n).replace(
                                /\./g,
                                "p"
                            );
                        if (s[o]) return s[o];
                        var l = new i([e, t, r, n]);
                        return (s[o] = l), l;
                    };
                    var s = {},
                        l = 4,
                        c = 1e-7,
                        u = 10,
                        d = 11,
                        p = 1 / (d - 1),
                        h = "function" == typeof Float32Array;
                    return (
                        (i.prototype = {
                            get: function (e) {
                                var t = this._p[0],
                                    r = this._p[1],
                                    a = this._p[2],
                                    i = this._p[3];
                                return (
                                    this._precomputed || this._precompute(),
                                    t === r && a === i
                                        ? e
                                        : 0 === e
                                        ? 0
                                        : 1 === e
                                        ? 1
                                        : n(this._getTForX(e), r, i)
                                );
                            },
                            _precompute: function () {
                                var e = this._p[0],
                                    t = this._p[1],
                                    r = this._p[2],
                                    n = this._p[3];
                                (this._precomputed = !0),
                                    (e === t && r === n) ||
                                        this._calcSampleValues();
                            },
                            _calcSampleValues: function () {
                                for (
                                    var e = this._p[0], t = this._p[2], r = 0;
                                    r < d;
                                    ++r
                                )
                                    this._mSampleValues[r] = n(r * p, e, t);
                            },
                            _getTForX: function (e) {
                                for (
                                    var t = this._p[0],
                                        r = this._p[2],
                                        i = this._mSampleValues,
                                        o = 0,
                                        s = 1,
                                        h = d - 1;
                                    s !== h && i[s] <= e;
                                    ++s
                                )
                                    o += p;
                                var f =
                                        o +
                                        ((e - i[--s]) / (i[s + 1] - i[s])) * p,
                                    m = a(f, t, r);
                                return m >= 0.001
                                    ? (function (e, t, r, i) {
                                          for (var o = 0; o < l; ++o) {
                                              var s = a(t, r, i);
                                              if (0 === s) return t;
                                              t -= (n(t, r, i) - e) / s;
                                          }
                                          return t;
                                      })(e, f, t, r)
                                    : 0 === m
                                    ? f
                                    : (function (e, t, r, a, i) {
                                          var o,
                                              s,
                                              l = 0;
                                          do {
                                              (o =
                                                  n(
                                                      (s = t + (r - t) / 2),
                                                      a,
                                                      i
                                                  ) - e) > 0
                                                  ? (r = s)
                                                  : (t = s);
                                          } while (Math.abs(o) > c && ++l < u);
                                          return s;
                                      })(e, o, o + p, t, r);
                            },
                        }),
                        o
                    );
                })();
                !(function () {
                    for (
                        var e = 0, t = ["ms", "moz", "webkit", "o"], r = 0;
                        r < t.length && !window.requestAnimationFrame;
                        ++r
                    )
                        (window.requestAnimationFrame =
                            window[t[r] + "RequestAnimationFrame"]),
                            (window.cancelAnimationFrame =
                                window[t[r] + "CancelAnimationFrame"] ||
                                window[t[r] + "CancelRequestAnimationFrame"]);
                    window.requestAnimationFrame ||
                        (window.requestAnimationFrame = function (t, r) {
                            var n = new Date().getTime(),
                                a = Math.max(0, 16 - (n - e)),
                                i = setTimeout(function () {
                                    t(n + a);
                                }, a);
                            return (e = n + a), i;
                        }),
                        window.cancelAnimationFrame ||
                            (window.cancelAnimationFrame = function (e) {
                                clearTimeout(e);
                            });
                })();
                var bez = bezFunction(),
                    dataManager = dataFunctionManager(),
                    FontManager = (function () {
                        function e(e, t) {
                            var r = createTag("span");
                            r.style.fontFamily = t;
                            var n = createTag("span");
                            (n.innerText = "giItT1WQy@!-/#"),
                                (r.style.position = "absolute"),
                                (r.style.left = "-10000px"),
                                (r.style.top = "-10000px"),
                                (r.style.fontSize = "300px"),
                                (r.style.fontVariant = "normal"),
                                (r.style.fontStyle = "normal"),
                                (r.style.fontWeight = "normal"),
                                (r.style.letterSpacing = "0"),
                                r.appendChild(n),
                                document.body.appendChild(r);
                            var a = n.offsetWidth;
                            return (
                                (n.style.fontFamily =
                                    (function (e) {
                                        var t,
                                            r = e.split(","),
                                            n = r.length,
                                            a = [];
                                        for (t = 0; t < n; t += 1)
                                            "sans-serif" !== r[t] &&
                                                "monospace" !== r[t] &&
                                                a.push(r[t]);
                                        return a.join(",");
                                    })(e) +
                                    ", " +
                                    t),
                                { node: n, w: a, parent: r }
                            );
                        }
                        function t(e, t) {
                            var r = createNS("text");
                            (r.style.fontSize = "100px"),
                                r.setAttribute("font-family", t.fFamily),
                                r.setAttribute("font-style", t.fStyle),
                                r.setAttribute("font-weight", t.fWeight),
                                (r.textContent = "1"),
                                t.fClass
                                    ? ((r.style.fontFamily = "inherit"),
                                      r.setAttribute("class", t.fClass))
                                    : (r.style.fontFamily = t.fFamily),
                                e.appendChild(r);
                            return (
                                (createTag("canvas").getContext("2d").font =
                                    t.fWeight +
                                    " " +
                                    t.fStyle +
                                    " 100px " +
                                    t.fFamily),
                                r
                            );
                        }
                        var r = 5e3,
                            n = { w: 0, size: 0, shapes: [] },
                            a = [];
                        a = a.concat([
                            2304,
                            2305,
                            2306,
                            2307,
                            2362,
                            2363,
                            2364,
                            2364,
                            2366,
                            2367,
                            2368,
                            2369,
                            2370,
                            2371,
                            2372,
                            2373,
                            2374,
                            2375,
                            2376,
                            2377,
                            2378,
                            2379,
                            2380,
                            2381,
                            2382,
                            2383,
                            2387,
                            2388,
                            2389,
                            2390,
                            2391,
                            2402,
                            2403,
                        ]);
                        var i = function () {
                            (this.fonts = []),
                                (this.chars = null),
                                (this.typekitLoaded = 0),
                                (this.isLoaded = !1),
                                (this._warned = !1),
                                (this.initTime = Date.now()),
                                (this.setIsLoadedBinded = this.setIsLoaded.bind(
                                    this
                                )),
                                (this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(
                                    this
                                ));
                        };
                        i.getCombinedCharacterCodes = function () {
                            return a;
                        };
                        return (
                            (i.prototype = {
                                addChars: function (e) {
                                    if (e) {
                                        this.chars || (this.chars = []);
                                        var t,
                                            r,
                                            n,
                                            a = e.length,
                                            i = this.chars.length;
                                        for (t = 0; t < a; t += 1) {
                                            for (r = 0, n = !1; r < i; )
                                                this.chars[r].style ===
                                                    e[t].style &&
                                                    this.chars[r].fFamily ===
                                                        e[t].fFamily &&
                                                    this.chars[r].ch ===
                                                        e[t].ch &&
                                                    (n = !0),
                                                    (r += 1);
                                            n ||
                                                (this.chars.push(e[t]),
                                                (i += 1));
                                        }
                                    }
                                },
                                addFonts: function (r, n) {
                                    if (r) {
                                        if (this.chars)
                                            return (
                                                (this.isLoaded = !0),
                                                void (this.fonts = r.list)
                                            );
                                        var a,
                                            i = r.list,
                                            o = i.length,
                                            s = o;
                                        for (a = 0; a < o; a += 1) {
                                            var l,
                                                c,
                                                u = !0;
                                            if (
                                                ((i[a].loaded = !1),
                                                (i[a].monoCase = e(
                                                    i[a].fFamily,
                                                    "monospace"
                                                )),
                                                (i[a].sansCase = e(
                                                    i[a].fFamily,
                                                    "sans-serif"
                                                )),
                                                i[a].fPath)
                                            ) {
                                                if (
                                                    "p" === i[a].fOrigin ||
                                                    3 === i[a].origin
                                                ) {
                                                    if (
                                                        ((l = document.querySelectorAll(
                                                            'style[f-forigin="p"][f-family="' +
                                                                i[a].fFamily +
                                                                '"], style[f-origin="3"][f-family="' +
                                                                i[a].fFamily +
                                                                '"]'
                                                        )).length > 0 &&
                                                            (u = !1),
                                                        u)
                                                    ) {
                                                        var d = createTag(
                                                            "style"
                                                        );
                                                        d.setAttribute(
                                                            "f-forigin",
                                                            i[a].fOrigin
                                                        ),
                                                            d.setAttribute(
                                                                "f-origin",
                                                                i[a].origin
                                                            ),
                                                            d.setAttribute(
                                                                "f-family",
                                                                i[a].fFamily
                                                            ),
                                                            (d.type =
                                                                "text/css"),
                                                            (d.innerText =
                                                                "@font-face {font-family: " +
                                                                i[a].fFamily +
                                                                "; font-style: normal; src: url('" +
                                                                i[a].fPath +
                                                                "');}"),
                                                            n.appendChild(d);
                                                    }
                                                } else if (
                                                    "g" === i[a].fOrigin ||
                                                    1 === i[a].origin
                                                ) {
                                                    for (
                                                        l = document.querySelectorAll(
                                                            'link[f-forigin="g"], link[f-origin="1"]'
                                                        ),
                                                            c = 0;
                                                        c < l.length;
                                                        c++
                                                    )
                                                        -1 !==
                                                            l[c].href.indexOf(
                                                                i[a].fPath
                                                            ) && (u = !1);
                                                    if (u) {
                                                        var p = createTag(
                                                            "link"
                                                        );
                                                        p.setAttribute(
                                                            "f-forigin",
                                                            i[a].fOrigin
                                                        ),
                                                            p.setAttribute(
                                                                "f-origin",
                                                                i[a].origin
                                                            ),
                                                            (p.type =
                                                                "text/css"),
                                                            (p.rel =
                                                                "stylesheet"),
                                                            (p.href =
                                                                i[a].fPath),
                                                            document.body.appendChild(
                                                                p
                                                            );
                                                    }
                                                } else if (
                                                    "t" === i[a].fOrigin ||
                                                    2 === i[a].origin
                                                ) {
                                                    for (
                                                        l = document.querySelectorAll(
                                                            'script[f-forigin="t"], script[f-origin="2"]'
                                                        ),
                                                            c = 0;
                                                        c < l.length;
                                                        c++
                                                    )
                                                        i[a].fPath ===
                                                            l[c].src &&
                                                            (u = !1);
                                                    if (u) {
                                                        var h = createTag(
                                                            "link"
                                                        );
                                                        h.setAttribute(
                                                            "f-forigin",
                                                            i[a].fOrigin
                                                        ),
                                                            h.setAttribute(
                                                                "f-origin",
                                                                i[a].origin
                                                            ),
                                                            h.setAttribute(
                                                                "rel",
                                                                "stylesheet"
                                                            ),
                                                            h.setAttribute(
                                                                "href",
                                                                i[a].fPath
                                                            ),
                                                            n.appendChild(h);
                                                    }
                                                }
                                            } else (i[a].loaded = !0), (s -= 1);
                                            (i[a].helper = t(n, i[a])),
                                                (i[a].cache = {}),
                                                this.fonts.push(i[a]);
                                        }
                                        0 === s
                                            ? (this.isLoaded = !0)
                                            : setTimeout(
                                                  this.checkLoadedFonts.bind(
                                                      this
                                                  ),
                                                  100
                                              );
                                    } else this.isLoaded = !0;
                                },
                                getCharData: function (e, t, r) {
                                    for (
                                        var a = 0, i = this.chars.length;
                                        a < i;

                                    ) {
                                        if (
                                            this.chars[a].ch === e &&
                                            this.chars[a].style === t &&
                                            this.chars[a].fFamily === r
                                        )
                                            return this.chars[a];
                                        a += 1;
                                    }
                                    return (
                                        (("string" == typeof e &&
                                            13 !== e.charCodeAt(0)) ||
                                            !e) &&
                                            console &&
                                            console.warn &&
                                            !this._warned &&
                                            ((this._warned = !0),
                                            console.warn(
                                                "Missing character from exported characters list: ",
                                                e,
                                                t,
                                                r
                                            )),
                                        n
                                    );
                                },
                                getFontByName: function (e) {
                                    for (
                                        var t = 0, r = this.fonts.length;
                                        t < r;

                                    ) {
                                        if (this.fonts[t].fName === e)
                                            return this.fonts[t];
                                        t += 1;
                                    }
                                    return this.fonts[0];
                                },
                                measureText: function (e, t, r) {
                                    var n = this.getFontByName(t),
                                        a = e.charCodeAt(0);
                                    if (!n.cache[a + 1]) {
                                        var i = n.helper;
                                        if (" " === e) {
                                            i.textContent = "|" + e + "|";
                                            var o = i.getComputedTextLength();
                                            i.textContent = "||";
                                            var s = i.getComputedTextLength();
                                            n.cache[a + 1] = (o - s) / 100;
                                        } else
                                            (i.textContent = e),
                                                (n.cache[a + 1] =
                                                    i.getComputedTextLength() /
                                                    100);
                                    }
                                    return n.cache[a + 1] * r;
                                },
                                checkLoadedFonts: function () {
                                    var e,
                                        t,
                                        n,
                                        a = this.fonts.length,
                                        i = a;
                                    for (e = 0; e < a; e += 1)
                                        this.fonts[e].loaded
                                            ? (i -= 1)
                                            : "n" === this.fonts[e].fOrigin ||
                                              0 === this.fonts[e].origin
                                            ? (this.fonts[e].loaded = !0)
                                            : ((t = this.fonts[e].monoCase
                                                  .node),
                                              (n = this.fonts[e].monoCase.w),
                                              t.offsetWidth !== n
                                                  ? ((i -= 1),
                                                    (this.fonts[e].loaded = !0))
                                                  : ((t = this.fonts[e].sansCase
                                                        .node),
                                                    (n = this.fonts[e].sansCase
                                                        .w),
                                                    t.offsetWidth !== n &&
                                                        ((i -= 1),
                                                        (this.fonts[
                                                            e
                                                        ].loaded = !0))),
                                              this.fonts[e].loaded &&
                                                  (this.fonts[
                                                      e
                                                  ].sansCase.parent.parentNode.removeChild(
                                                      this.fonts[e].sansCase
                                                          .parent
                                                  ),
                                                  this.fonts[
                                                      e
                                                  ].monoCase.parent.parentNode.removeChild(
                                                      this.fonts[e].monoCase
                                                          .parent
                                                  )));
                                    0 !== i && Date.now() - this.initTime < r
                                        ? setTimeout(
                                              this.checkLoadedFontsBinded,
                                              20
                                          )
                                        : setTimeout(
                                              this.setIsLoadedBinded,
                                              10
                                          );
                                },
                                setIsLoaded: function () {
                                    this.isLoaded = !0;
                                },
                            }),
                            i
                        );
                    })(),
                    PropertyFactory = (function () {
                        function e(e, r) {
                            var n,
                                a = this.offsetTime;
                            "multidimensional" === this.propType &&
                                (n = createTypedArray(
                                    "float32",
                                    this.pv.length
                                ));
                            for (
                                var i,
                                    o,
                                    s = r.lastIndex,
                                    l = s,
                                    c = this.keyframes.length - 1,
                                    u = !0;
                                u;

                            ) {
                                if (
                                    ((i = this.keyframes[l]),
                                    (o = this.keyframes[l + 1]),
                                    l === c - 1 && e >= o.t - a)
                                ) {
                                    i.h && (i = o), (s = 0);
                                    break;
                                }
                                if (o.t - a > e) {
                                    s = l;
                                    break;
                                }
                                l < c - 1 ? (l += 1) : ((s = 0), (u = !1));
                            }
                            var d,
                                p,
                                h,
                                f,
                                m,
                                y,
                                g,
                                v = o.t - a,
                                b = i.t - a;
                            if (i.to) {
                                i.bezierData ||
                                    (i.bezierData = bez.buildBezierData(
                                        i.s,
                                        o.s || i.e,
                                        i.to,
                                        i.ti
                                    ));
                                var w = i.bezierData;
                                if (e >= v || e < b) {
                                    var _ = e >= v ? w.points.length - 1 : 0;
                                    for (
                                        p = w.points[_].point.length, d = 0;
                                        d < p;
                                        d += 1
                                    )
                                        n[d] = w.points[_].point[d];
                                } else {
                                    i.__fnct
                                        ? (y = i.__fnct)
                                        : ((y = BezierFactory.getBezierEasing(
                                              i.o.x,
                                              i.o.y,
                                              i.i.x,
                                              i.i.y,
                                              i.n
                                          ).get),
                                          (i.__fnct = y)),
                                        (h = y((e - b) / (v - b)));
                                    var E,
                                        S = w.segmentLength * h,
                                        C =
                                            r.lastFrame < e &&
                                            r._lastKeyframeIndex === l
                                                ? r._lastAddedLength
                                                : 0;
                                    for (
                                        m =
                                            r.lastFrame < e &&
                                            r._lastKeyframeIndex === l
                                                ? r._lastPoint
                                                : 0,
                                            u = !0,
                                            f = w.points.length;
                                        u;

                                    ) {
                                        if (
                                            ((C += w.points[m].partialLength),
                                            0 === S ||
                                                0 === h ||
                                                m === w.points.length - 1)
                                        ) {
                                            for (
                                                p = w.points[m].point.length,
                                                    d = 0;
                                                d < p;
                                                d += 1
                                            )
                                                n[d] = w.points[m].point[d];
                                            break;
                                        }
                                        if (
                                            S >= C &&
                                            S <
                                                C +
                                                    w.points[m + 1]
                                                        .partialLength
                                        ) {
                                            for (
                                                E =
                                                    (S - C) /
                                                    w.points[m + 1]
                                                        .partialLength,
                                                    p =
                                                        w.points[m].point
                                                            .length,
                                                    d = 0;
                                                d < p;
                                                d += 1
                                            )
                                                n[d] =
                                                    w.points[m].point[d] +
                                                    (w.points[m + 1].point[d] -
                                                        w.points[m].point[d]) *
                                                        E;
                                            break;
                                        }
                                        m < f - 1 ? (m += 1) : (u = !1);
                                    }
                                    (r._lastPoint = m),
                                        (r._lastAddedLength =
                                            C - w.points[m].partialLength),
                                        (r._lastKeyframeIndex = l);
                                }
                            } else {
                                var A, k, x, P, T;
                                if (
                                    ((c = i.s.length),
                                    (g = o.s || i.e),
                                    this.sh && 1 !== i.h)
                                )
                                    if (e >= v)
                                        (n[0] = g[0]),
                                            (n[1] = g[1]),
                                            (n[2] = g[2]);
                                    else if (e <= b)
                                        (n[0] = i.s[0]),
                                            (n[1] = i.s[1]),
                                            (n[2] = i.s[2]);
                                    else {
                                        !(function (e, t) {
                                            var r = t[0],
                                                n = t[1],
                                                a = t[2],
                                                i = t[3],
                                                o = Math.atan2(
                                                    2 * n * i - 2 * r * a,
                                                    1 - 2 * n * n - 2 * a * a
                                                ),
                                                s = Math.asin(
                                                    2 * r * n + 2 * a * i
                                                ),
                                                l = Math.atan2(
                                                    2 * r * i - 2 * n * a,
                                                    1 - 2 * r * r - 2 * a * a
                                                );
                                            (e[0] = o / degToRads),
                                                (e[1] = s / degToRads),
                                                (e[2] = l / degToRads);
                                        })(
                                            n,
                                            (function (e, t, r) {
                                                var n,
                                                    a,
                                                    i,
                                                    o,
                                                    s,
                                                    l = [],
                                                    c = e[0],
                                                    u = e[1],
                                                    d = e[2],
                                                    p = e[3],
                                                    h = t[0],
                                                    f = t[1],
                                                    m = t[2],
                                                    y = t[3];
                                                (a =
                                                    c * h +
                                                    u * f +
                                                    d * m +
                                                    p * y) < 0 &&
                                                    ((a = -a),
                                                    (h = -h),
                                                    (f = -f),
                                                    (m = -m),
                                                    (y = -y));
                                                1 - a > 1e-6
                                                    ? ((n = Math.acos(a)),
                                                      (i = Math.sin(n)),
                                                      (o =
                                                          Math.sin(
                                                              (1 - r) * n
                                                          ) / i),
                                                      (s = Math.sin(r * n) / i))
                                                    : ((o = 1 - r), (s = r));
                                                return (
                                                    (l[0] = o * c + s * h),
                                                    (l[1] = o * u + s * f),
                                                    (l[2] = o * d + s * m),
                                                    (l[3] = o * p + s * y),
                                                    l
                                                );
                                            })(t(i.s), t(g), (e - b) / (v - b))
                                        );
                                    }
                                else
                                    for (l = 0; l < c; l += 1)
                                        1 !== i.h &&
                                            (e >= v
                                                ? (h = 1)
                                                : e < b
                                                ? (h = 0)
                                                : (i.o.x.constructor === Array
                                                      ? (i.__fnct ||
                                                            (i.__fnct = []),
                                                        i.__fnct[l]
                                                            ? (y = i.__fnct[l])
                                                            : ((A =
                                                                  void 0 ===
                                                                  i.o.x[l]
                                                                      ? i.o.x[0]
                                                                      : i.o.x[
                                                                            l
                                                                        ]),
                                                              (k =
                                                                  void 0 ===
                                                                  i.o.y[l]
                                                                      ? i.o.y[0]
                                                                      : i.o.y[
                                                                            l
                                                                        ]),
                                                              (x =
                                                                  void 0 ===
                                                                  i.i.x[l]
                                                                      ? i.i.x[0]
                                                                      : i.i.x[
                                                                            l
                                                                        ]),
                                                              (P =
                                                                  void 0 ===
                                                                  i.i.y[l]
                                                                      ? i.i.y[0]
                                                                      : i.i.y[
                                                                            l
                                                                        ]),
                                                              (y = BezierFactory.getBezierEasing(
                                                                  A,
                                                                  k,
                                                                  x,
                                                                  P
                                                              ).get),
                                                              (i.__fnct[
                                                                  l
                                                              ] = y)))
                                                      : i.__fnct
                                                      ? (y = i.__fnct)
                                                      : ((A = i.o.x),
                                                        (k = i.o.y),
                                                        (x = i.i.x),
                                                        (P = i.i.y),
                                                        (y = BezierFactory.getBezierEasing(
                                                            A,
                                                            k,
                                                            x,
                                                            P
                                                        ).get),
                                                        (i.__fnct = y)),
                                                  (h = y((e - b) / (v - b))))),
                                            (g = o.s || i.e),
                                            (T =
                                                1 === i.h
                                                    ? i.s[l]
                                                    : i.s[l] +
                                                      (g[l] - i.s[l]) * h),
                                            "multidimensional" === this.propType
                                                ? (n[l] = T)
                                                : (n = T);
                            }
                            return (r.lastIndex = s), n;
                        }
                        function t(e) {
                            var t = e[0] * degToRads,
                                r = e[1] * degToRads,
                                n = e[2] * degToRads,
                                a = Math.cos(t / 2),
                                i = Math.cos(r / 2),
                                o = Math.cos(n / 2),
                                s = Math.sin(t / 2),
                                l = Math.sin(r / 2),
                                c = Math.sin(n / 2);
                            return [
                                s * l * o + a * i * c,
                                s * i * o + a * l * c,
                                a * l * o - s * i * c,
                                a * i * o - s * l * c,
                            ];
                        }
                        function r() {
                            var e = this.comp.renderedFrame - this.offsetTime,
                                t = this.keyframes[0].t - this.offsetTime,
                                r =
                                    this.keyframes[this.keyframes.length - 1]
                                        .t - this.offsetTime;
                            if (
                                !(
                                    e === this._caching.lastFrame ||
                                    (this._caching.lastFrame !== o &&
                                        ((this._caching.lastFrame >= r &&
                                            e >= r) ||
                                            (this._caching.lastFrame < t &&
                                                e < t)))
                                )
                            ) {
                                this._caching.lastFrame >= e &&
                                    ((this._caching._lastKeyframeIndex = -1),
                                    (this._caching.lastIndex = 0));
                                var n = this.interpolateValue(e, this._caching);
                                this.pv = n;
                            }
                            return (this._caching.lastFrame = e), this.pv;
                        }
                        function n(e) {
                            var t;
                            if ("unidimensional" === this.propType)
                                (t = e * this.mult),
                                    s(this.v - t) > 1e-5 &&
                                        ((this.v = t), (this._mdf = !0));
                            else
                                for (var r = 0, n = this.v.length; r < n; )
                                    (t = e[r] * this.mult),
                                        s(this.v[r] - t) > 1e-5 &&
                                            ((this.v[r] = t), (this._mdf = !0)),
                                        (r += 1);
                        }
                        function a() {
                            if (
                                this.elem.globalData.frameId !== this.frameId &&
                                this.effectsSequence.length
                            )
                                if (this.lock) this.setVValue(this.pv);
                                else {
                                    (this.lock = !0),
                                        (this._mdf = this._isFirstFrame);
                                    var e,
                                        t = this.effectsSequence.length,
                                        r = this.kf ? this.pv : this.data.k;
                                    for (e = 0; e < t; e += 1)
                                        r = this.effectsSequence[e](r);
                                    this.setVValue(r),
                                        (this._isFirstFrame = !1),
                                        (this.lock = !1),
                                        (this.frameId = this.elem.globalData.frameId);
                                }
                        }
                        function i(e) {
                            this.effectsSequence.push(e),
                                this.container.addDynamicProperty(this);
                        }
                        var o = initialDefaultFrame,
                            s = Math.abs;
                        return {
                            getProp: function (t, s, l, c, u) {
                                var d;
                                if (s.k.length)
                                    if ("number" == typeof s.k[0])
                                        d = new (function (e, t, r, o) {
                                            (this.propType =
                                                "multidimensional"),
                                                (this.mult = r || 1),
                                                (this.data = t),
                                                (this._mdf = !1),
                                                (this.elem = e),
                                                (this.container = o),
                                                (this.comp = e.comp),
                                                (this.k = !1),
                                                (this.kf = !1),
                                                (this.frameId = -1);
                                            var s,
                                                l = t.k.length;
                                            for (
                                                this.v = createTypedArray(
                                                    "float32",
                                                    l
                                                ),
                                                    this.pv = createTypedArray(
                                                        "float32",
                                                        l
                                                    ),
                                                    createTypedArray(
                                                        "float32",
                                                        l
                                                    ),
                                                    this.vel = createTypedArray(
                                                        "float32",
                                                        l
                                                    ),
                                                    s = 0;
                                                s < l;
                                                s += 1
                                            )
                                                (this.v[s] =
                                                    t.k[s] * this.mult),
                                                    (this.pv[s] = t.k[s]);
                                            (this._isFirstFrame = !0),
                                                (this.effectsSequence = []),
                                                (this.getValue = a),
                                                (this.setVValue = n),
                                                (this.addEffect = i);
                                        })(t, s, c, u);
                                    else
                                        switch (l) {
                                            case 0:
                                                d = new (function (t, s, l, c) {
                                                    (this.propType =
                                                        "unidimensional"),
                                                        (this.keyframes = s.k),
                                                        (this.offsetTime =
                                                            t.data.st),
                                                        (this.frameId = -1),
                                                        (this._caching = {
                                                            lastFrame: o,
                                                            lastIndex: 0,
                                                            value: 0,
                                                            _lastKeyframeIndex: -1,
                                                        }),
                                                        (this.k = !0),
                                                        (this.kf = !0),
                                                        (this.data = s),
                                                        (this.mult = l || 1),
                                                        (this.elem = t),
                                                        (this.container = c),
                                                        (this.comp = t.comp),
                                                        (this.v = o),
                                                        (this.pv = o),
                                                        (this._isFirstFrame = !0),
                                                        (this.getValue = a),
                                                        (this.setVValue = n),
                                                        (this.interpolateValue = e),
                                                        (this.effectsSequence = [
                                                            r.bind(this),
                                                        ]),
                                                        (this.addEffect = i);
                                                })(t, s, c, u);
                                                break;
                                            case 1:
                                                d = new (function (t, s, l, c) {
                                                    this.propType =
                                                        "multidimensional";
                                                    var u,
                                                        d,
                                                        p,
                                                        h,
                                                        f,
                                                        m = s.k.length;
                                                    for (
                                                        u = 0;
                                                        u < m - 1;
                                                        u += 1
                                                    )
                                                        s.k[u].to &&
                                                            s.k[u].s &&
                                                            s.k[u + 1] &&
                                                            s.k[u + 1].s &&
                                                            ((d = s.k[u].s),
                                                            (p = s.k[u + 1].s),
                                                            (h = s.k[u].to),
                                                            (f = s.k[u].ti),
                                                            ((2 === d.length &&
                                                                (d[0] !==
                                                                    p[0] ||
                                                                    d[1] !==
                                                                        p[1]) &&
                                                                bez.pointOnLine2D(
                                                                    d[0],
                                                                    d[1],
                                                                    p[0],
                                                                    p[1],
                                                                    d[0] + h[0],
                                                                    d[1] + h[1]
                                                                ) &&
                                                                bez.pointOnLine2D(
                                                                    d[0],
                                                                    d[1],
                                                                    p[0],
                                                                    p[1],
                                                                    p[0] + f[0],
                                                                    p[1] + f[1]
                                                                )) ||
                                                                (3 ===
                                                                    d.length &&
                                                                    (d[0] !==
                                                                        p[0] ||
                                                                        d[1] !==
                                                                            p[1] ||
                                                                        d[2] !==
                                                                            p[2]) &&
                                                                    bez.pointOnLine3D(
                                                                        d[0],
                                                                        d[1],
                                                                        d[2],
                                                                        p[0],
                                                                        p[1],
                                                                        p[2],
                                                                        d[0] +
                                                                            h[0],
                                                                        d[1] +
                                                                            h[1],
                                                                        d[2] +
                                                                            h[2]
                                                                    ) &&
                                                                    bez.pointOnLine3D(
                                                                        d[0],
                                                                        d[1],
                                                                        d[2],
                                                                        p[0],
                                                                        p[1],
                                                                        p[2],
                                                                        p[0] +
                                                                            f[0],
                                                                        p[1] +
                                                                            f[1],
                                                                        p[2] +
                                                                            f[2]
                                                                    ))) &&
                                                                ((s.k[
                                                                    u
                                                                ].to = null),
                                                                (s.k[
                                                                    u
                                                                ].ti = null)),
                                                            d[0] === p[0] &&
                                                                d[1] === p[1] &&
                                                                0 === h[0] &&
                                                                0 === h[1] &&
                                                                0 === f[0] &&
                                                                0 === f[1] &&
                                                                (2 ===
                                                                    d.length ||
                                                                    (d[2] ===
                                                                        p[2] &&
                                                                        0 ===
                                                                            h[2] &&
                                                                        0 ===
                                                                            f[2])) &&
                                                                ((s.k[
                                                                    u
                                                                ].to = null),
                                                                (s.k[
                                                                    u
                                                                ].ti = null)));
                                                    (this.effectsSequence = [
                                                        r.bind(this),
                                                    ]),
                                                        (this.data = s),
                                                        (this.keyframes = s.k),
                                                        (this.offsetTime =
                                                            t.data.st),
                                                        (this.k = !0),
                                                        (this.kf = !0),
                                                        (this._isFirstFrame = !0),
                                                        (this.mult = l || 1),
                                                        (this.elem = t),
                                                        (this.container = c),
                                                        (this.comp = t.comp),
                                                        (this.getValue = a),
                                                        (this.setVValue = n),
                                                        (this.interpolateValue = e),
                                                        (this.frameId = -1);
                                                    var y = s.k[0].s.length;
                                                    for (
                                                        this.v = createTypedArray(
                                                            "float32",
                                                            y
                                                        ),
                                                            this.pv = createTypedArray(
                                                                "float32",
                                                                y
                                                            ),
                                                            u = 0;
                                                        u < y;
                                                        u += 1
                                                    )
                                                        (this.v[u] = o),
                                                            (this.pv[u] = o);
                                                    (this._caching = {
                                                        lastFrame: o,
                                                        lastIndex: 0,
                                                        value: createTypedArray(
                                                            "float32",
                                                            y
                                                        ),
                                                    }),
                                                        (this.addEffect = i);
                                                })(t, s, c, u);
                                        }
                                else
                                    d = new (function (e, t, r, o) {
                                        (this.propType = "unidimensional"),
                                            (this.mult = r || 1),
                                            (this.data = t),
                                            (this.v = r ? t.k * r : t.k),
                                            (this.pv = t.k),
                                            (this._mdf = !1),
                                            (this.elem = e),
                                            (this.container = o),
                                            (this.comp = e.comp),
                                            (this.k = !1),
                                            (this.kf = !1),
                                            (this.vel = 0),
                                            (this.effectsSequence = []),
                                            (this._isFirstFrame = !0),
                                            (this.getValue = a),
                                            (this.setVValue = n),
                                            (this.addEffect = i);
                                    })(t, s, c, u);
                                return (
                                    d.effectsSequence.length &&
                                        u.addDynamicProperty(d),
                                    d
                                );
                            },
                        };
                    })(),
                    TransformPropertyFactory = (function () {
                        function e(e, t, r) {
                            if (
                                ((this.elem = e),
                                (this.frameId = -1),
                                (this.propType = "transform"),
                                (this.data = t),
                                (this.v = new Matrix()),
                                (this.pre = new Matrix()),
                                (this.appliedTransformations = 0),
                                this.initDynamicPropertyContainer(r || e),
                                t.p && t.p.s
                                    ? ((this.px = PropertyFactory.getProp(
                                          e,
                                          t.p.x,
                                          0,
                                          0,
                                          this
                                      )),
                                      (this.py = PropertyFactory.getProp(
                                          e,
                                          t.p.y,
                                          0,
                                          0,
                                          this
                                      )),
                                      t.p.z &&
                                          (this.pz = PropertyFactory.getProp(
                                              e,
                                              t.p.z,
                                              0,
                                              0,
                                              this
                                          )))
                                    : (this.p = PropertyFactory.getProp(
                                          e,
                                          t.p || { k: [0, 0, 0] },
                                          1,
                                          0,
                                          this
                                      )),
                                t.rx)
                            ) {
                                if (
                                    ((this.rx = PropertyFactory.getProp(
                                        e,
                                        t.rx,
                                        0,
                                        degToRads,
                                        this
                                    )),
                                    (this.ry = PropertyFactory.getProp(
                                        e,
                                        t.ry,
                                        0,
                                        degToRads,
                                        this
                                    )),
                                    (this.rz = PropertyFactory.getProp(
                                        e,
                                        t.rz,
                                        0,
                                        degToRads,
                                        this
                                    )),
                                    t.or.k[0].ti)
                                ) {
                                    var n,
                                        a = t.or.k.length;
                                    for (n = 0; n < a; n += 1)
                                        t.or.k[n].to = t.or.k[n].ti = null;
                                }
                                (this.or = PropertyFactory.getProp(
                                    e,
                                    t.or,
                                    1,
                                    degToRads,
                                    this
                                )),
                                    (this.or.sh = !0);
                            } else
                                this.r = PropertyFactory.getProp(
                                    e,
                                    t.r || { k: 0 },
                                    0,
                                    degToRads,
                                    this
                                );
                            t.sk &&
                                ((this.sk = PropertyFactory.getProp(
                                    e,
                                    t.sk,
                                    0,
                                    degToRads,
                                    this
                                )),
                                (this.sa = PropertyFactory.getProp(
                                    e,
                                    t.sa,
                                    0,
                                    degToRads,
                                    this
                                ))),
                                (this.a = PropertyFactory.getProp(
                                    e,
                                    t.a || { k: [0, 0, 0] },
                                    1,
                                    0,
                                    this
                                )),
                                (this.s = PropertyFactory.getProp(
                                    e,
                                    t.s || { k: [100, 100, 100] },
                                    1,
                                    0.01,
                                    this
                                )),
                                t.o
                                    ? (this.o = PropertyFactory.getProp(
                                          e,
                                          t.o,
                                          0,
                                          0.01,
                                          e
                                      ))
                                    : (this.o = { _mdf: !1, v: 1 }),
                                (this._isDirty = !0),
                                this.dynamicProperties.length ||
                                    this.getValue(!0);
                        }
                        var t = [0, 0];
                        return (
                            (e.prototype = {
                                applyToMatrix: function (e) {
                                    var t = this._mdf;
                                    this.iterateDynamicProperties(),
                                        (this._mdf = this._mdf || t),
                                        this.a &&
                                            e.translate(
                                                -this.a.v[0],
                                                -this.a.v[1],
                                                this.a.v[2]
                                            ),
                                        this.s &&
                                            e.scale(
                                                this.s.v[0],
                                                this.s.v[1],
                                                this.s.v[2]
                                            ),
                                        this.sk &&
                                            e.skewFromAxis(
                                                -this.sk.v,
                                                this.sa.v
                                            ),
                                        this.r
                                            ? e.rotate(-this.r.v)
                                            : e
                                                  .rotateZ(-this.rz.v)
                                                  .rotateY(this.ry.v)
                                                  .rotateX(this.rx.v)
                                                  .rotateZ(-this.or.v[2])
                                                  .rotateY(this.or.v[1])
                                                  .rotateX(this.or.v[0]),
                                        this.data.p.s
                                            ? this.data.p.z
                                                ? e.translate(
                                                      this.px.v,
                                                      this.py.v,
                                                      -this.pz.v
                                                  )
                                                : e.translate(
                                                      this.px.v,
                                                      this.py.v,
                                                      0
                                                  )
                                            : e.translate(
                                                  this.p.v[0],
                                                  this.p.v[1],
                                                  -this.p.v[2]
                                              );
                                },
                                getValue: function (e) {
                                    if (
                                        this.elem.globalData.frameId !==
                                        this.frameId
                                    ) {
                                        if (
                                            (this._isDirty &&
                                                (this.precalculateMatrix(),
                                                (this._isDirty = !1)),
                                            this.iterateDynamicProperties(),
                                            this._mdf || e)
                                        ) {
                                            if (
                                                (this.v.cloneFromProps(
                                                    this.pre.props
                                                ),
                                                this.appliedTransformations <
                                                    1 &&
                                                    this.v.translate(
                                                        -this.a.v[0],
                                                        -this.a.v[1],
                                                        this.a.v[2]
                                                    ),
                                                this.appliedTransformations <
                                                    2 &&
                                                    this.v.scale(
                                                        this.s.v[0],
                                                        this.s.v[1],
                                                        this.s.v[2]
                                                    ),
                                                this.sk &&
                                                    this
                                                        .appliedTransformations <
                                                        3 &&
                                                    this.v.skewFromAxis(
                                                        -this.sk.v,
                                                        this.sa.v
                                                    ),
                                                this.r &&
                                                this.appliedTransformations < 4
                                                    ? this.v.rotate(-this.r.v)
                                                    : !this.r &&
                                                      this
                                                          .appliedTransformations <
                                                          4 &&
                                                      this.v
                                                          .rotateZ(-this.rz.v)
                                                          .rotateY(this.ry.v)
                                                          .rotateX(this.rx.v)
                                                          .rotateZ(
                                                              -this.or.v[2]
                                                          )
                                                          .rotateY(this.or.v[1])
                                                          .rotateX(
                                                              this.or.v[0]
                                                          ),
                                                this.autoOriented)
                                            ) {
                                                var r,
                                                    n,
                                                    a = this.elem.globalData
                                                        .frameRate;
                                                if (
                                                    this.p &&
                                                    this.p.keyframes &&
                                                    this.p.getValueAtTime
                                                )
                                                    this.p._caching.lastFrame +
                                                        this.p.offsetTime <=
                                                    this.p.keyframes[0].t
                                                        ? ((r = this.p.getValueAtTime(
                                                              (this.p
                                                                  .keyframes[0]
                                                                  .t +
                                                                  0.01) /
                                                                  a,
                                                              0
                                                          )),
                                                          (n = this.p.getValueAtTime(
                                                              this.p
                                                                  .keyframes[0]
                                                                  .t / a,
                                                              0
                                                          )))
                                                        : this.p._caching
                                                              .lastFrame +
                                                              this.p
                                                                  .offsetTime >=
                                                          this.p.keyframes[
                                                              this.p.keyframes
                                                                  .length - 1
                                                          ].t
                                                        ? ((r = this.p.getValueAtTime(
                                                              this.p.keyframes[
                                                                  this.p
                                                                      .keyframes
                                                                      .length -
                                                                      1
                                                              ].t / a,
                                                              0
                                                          )),
                                                          (n = this.p.getValueAtTime(
                                                              (this.p.keyframes[
                                                                  this.p
                                                                      .keyframes
                                                                      .length -
                                                                      1
                                                              ].t -
                                                                  0.05) /
                                                                  a,
                                                              0
                                                          )))
                                                        : ((r = this.p.pv),
                                                          (n = this.p.getValueAtTime(
                                                              (this.p._caching
                                                                  .lastFrame +
                                                                  this.p
                                                                      .offsetTime -
                                                                  0.01) /
                                                                  a,
                                                              this.p.offsetTime
                                                          )));
                                                else if (
                                                    this.px &&
                                                    this.px.keyframes &&
                                                    this.py.keyframes &&
                                                    this.px.getValueAtTime &&
                                                    this.py.getValueAtTime
                                                ) {
                                                    (r = []), (n = []);
                                                    var i = this.px,
                                                        o = this.py;
                                                    i._caching.lastFrame +
                                                        i.offsetTime <=
                                                    i.keyframes[0].t
                                                        ? ((r[0] = i.getValueAtTime(
                                                              (i.keyframes[0]
                                                                  .t +
                                                                  0.01) /
                                                                  a,
                                                              0
                                                          )),
                                                          (r[1] = o.getValueAtTime(
                                                              (o.keyframes[0]
                                                                  .t +
                                                                  0.01) /
                                                                  a,
                                                              0
                                                          )),
                                                          (n[0] = i.getValueAtTime(
                                                              i.keyframes[0].t /
                                                                  a,
                                                              0
                                                          )),
                                                          (n[1] = o.getValueAtTime(
                                                              o.keyframes[0].t /
                                                                  a,
                                                              0
                                                          )))
                                                        : i._caching.lastFrame +
                                                              i.offsetTime >=
                                                          i.keyframes[
                                                              i.keyframes
                                                                  .length - 1
                                                          ].t
                                                        ? ((r[0] = i.getValueAtTime(
                                                              i.keyframes[
                                                                  i.keyframes
                                                                      .length -
                                                                      1
                                                              ].t / a,
                                                              0
                                                          )),
                                                          (r[1] = o.getValueAtTime(
                                                              o.keyframes[
                                                                  o.keyframes
                                                                      .length -
                                                                      1
                                                              ].t / a,
                                                              0
                                                          )),
                                                          (n[0] = i.getValueAtTime(
                                                              (i.keyframes[
                                                                  i.keyframes
                                                                      .length -
                                                                      1
                                                              ].t -
                                                                  0.01) /
                                                                  a,
                                                              0
                                                          )),
                                                          (n[1] = o.getValueAtTime(
                                                              (o.keyframes[
                                                                  o.keyframes
                                                                      .length -
                                                                      1
                                                              ].t -
                                                                  0.01) /
                                                                  a,
                                                              0
                                                          )))
                                                        : ((r = [i.pv, o.pv]),
                                                          (n[0] = i.getValueAtTime(
                                                              (i._caching
                                                                  .lastFrame +
                                                                  i.offsetTime -
                                                                  0.01) /
                                                                  a,
                                                              i.offsetTime
                                                          )),
                                                          (n[1] = o.getValueAtTime(
                                                              (o._caching
                                                                  .lastFrame +
                                                                  o.offsetTime -
                                                                  0.01) /
                                                                  a,
                                                              o.offsetTime
                                                          )));
                                                } else r = n = t;
                                                this.v.rotate(
                                                    -Math.atan2(
                                                        r[1] - n[1],
                                                        r[0] - n[0]
                                                    )
                                                );
                                            }
                                            this.data.p && this.data.p.s
                                                ? this.data.p.z
                                                    ? this.v.translate(
                                                          this.px.v,
                                                          this.py.v,
                                                          -this.pz.v
                                                      )
                                                    : this.v.translate(
                                                          this.px.v,
                                                          this.py.v,
                                                          0
                                                      )
                                                : this.v.translate(
                                                      this.p.v[0],
                                                      this.p.v[1],
                                                      -this.p.v[2]
                                                  );
                                        }
                                        this.frameId = this.elem.globalData.frameId;
                                    }
                                },
                                precalculateMatrix: function () {
                                    if (
                                        !this.a.k &&
                                        (this.pre.translate(
                                            -this.a.v[0],
                                            -this.a.v[1],
                                            this.a.v[2]
                                        ),
                                        (this.appliedTransformations = 1),
                                        !this.s.effectsSequence.length)
                                    ) {
                                        if (
                                            (this.pre.scale(
                                                this.s.v[0],
                                                this.s.v[1],
                                                this.s.v[2]
                                            ),
                                            (this.appliedTransformations = 2),
                                            this.sk)
                                        ) {
                                            if (
                                                this.sk.effectsSequence
                                                    .length ||
                                                this.sa.effectsSequence.length
                                            )
                                                return;
                                            this.pre.skewFromAxis(
                                                -this.sk.v,
                                                this.sa.v
                                            ),
                                                (this.appliedTransformations = 3);
                                        }
                                        if (this.r) {
                                            if (this.r.effectsSequence.length)
                                                return;
                                            this.pre.rotate(-this.r.v),
                                                (this.appliedTransformations = 4);
                                        } else
                                            this.rz.effectsSequence.length ||
                                                this.ry.effectsSequence
                                                    .length ||
                                                this.rx.effectsSequence
                                                    .length ||
                                                this.or.effectsSequence
                                                    .length ||
                                                (this.pre
                                                    .rotateZ(-this.rz.v)
                                                    .rotateY(this.ry.v)
                                                    .rotateX(this.rx.v)
                                                    .rotateZ(-this.or.v[2])
                                                    .rotateY(this.or.v[1])
                                                    .rotateX(this.or.v[0]),
                                                (this.appliedTransformations = 4));
                                    }
                                },
                                autoOrient: function () {},
                            }),
                            extendPrototype([DynamicPropertyContainer], e),
                            (e.prototype.addDynamicProperty = function (e) {
                                this._addDynamicProperty(e),
                                    this.elem.addDynamicProperty(e),
                                    (this._isDirty = !0);
                            }),
                            (e.prototype._addDynamicProperty =
                                DynamicPropertyContainer.prototype.addDynamicProperty),
                            {
                                getTransformProperty: function (t, r, n) {
                                    return new e(t, r, n);
                                },
                            }
                        );
                    })();
                (ShapePath.prototype.setPathData = function (e, t) {
                    (this.c = e), this.setLength(t);
                    for (var r = 0; r < t; )
                        (this.v[r] = point_pool.newElement()),
                            (this.o[r] = point_pool.newElement()),
                            (this.i[r] = point_pool.newElement()),
                            (r += 1);
                }),
                    (ShapePath.prototype.setLength = function (e) {
                        for (; this._maxLength < e; ) this.doubleArrayLength();
                        this._length = e;
                    }),
                    (ShapePath.prototype.doubleArrayLength = function () {
                        (this.v = this.v.concat(
                            createSizedArray(this._maxLength)
                        )),
                            (this.i = this.i.concat(
                                createSizedArray(this._maxLength)
                            )),
                            (this.o = this.o.concat(
                                createSizedArray(this._maxLength)
                            )),
                            (this._maxLength *= 2);
                    }),
                    (ShapePath.prototype.setXYAt = function (e, t, r, n, a) {
                        var i;
                        switch (
                            ((this._length = Math.max(this._length, n + 1)),
                            this._length >= this._maxLength &&
                                this.doubleArrayLength(),
                            r)
                        ) {
                            case "v":
                                i = this.v;
                                break;
                            case "i":
                                i = this.i;
                                break;
                            case "o":
                                i = this.o;
                        }
                        (!i[n] || (i[n] && !a)) &&
                            (i[n] = point_pool.newElement()),
                            (i[n][0] = e),
                            (i[n][1] = t);
                    }),
                    (ShapePath.prototype.setTripleAt = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i,
                        o,
                        s
                    ) {
                        this.setXYAt(e, t, "v", o, s),
                            this.setXYAt(r, n, "o", o, s),
                            this.setXYAt(a, i, "i", o, s);
                    }),
                    (ShapePath.prototype.reverse = function () {
                        var e = new ShapePath();
                        e.setPathData(this.c, this._length);
                        var t = this.v,
                            r = this.o,
                            n = this.i,
                            a = 0;
                        this.c &&
                            (e.setTripleAt(
                                t[0][0],
                                t[0][1],
                                n[0][0],
                                n[0][1],
                                r[0][0],
                                r[0][1],
                                0,
                                !1
                            ),
                            (a = 1));
                        var i,
                            o = this._length - 1,
                            s = this._length;
                        for (i = a; i < s; i += 1)
                            e.setTripleAt(
                                t[o][0],
                                t[o][1],
                                n[o][0],
                                n[o][1],
                                r[o][0],
                                r[o][1],
                                i,
                                !1
                            ),
                                (o -= 1);
                        return e;
                    });
                var ShapePropertyFactory = (function () {
                        function e(e, t, r) {
                            var n,
                                a,
                                i,
                                o,
                                s,
                                l,
                                c,
                                u,
                                d,
                                p = r.lastIndex,
                                h = this.keyframes;
                            if (e < h[0].t - this.offsetTime)
                                (n = h[0].s[0]), (i = !0), (p = 0);
                            else if (e >= h[h.length - 1].t - this.offsetTime)
                                (n = h[h.length - 1].s
                                    ? h[h.length - 1].s[0]
                                    : h[h.length - 2].e[0]),
                                    (i = !0);
                            else {
                                for (
                                    var f, m, y = p, g = h.length - 1, v = !0;
                                    v &&
                                    ((f = h[y]),
                                    !((m = h[y + 1]).t - this.offsetTime > e));

                                )
                                    y < g - 1 ? (y += 1) : (v = !1);
                                if (((i = 1 === f.h), (p = y), !i)) {
                                    if (e >= m.t - this.offsetTime) u = 1;
                                    else if (e < f.t - this.offsetTime) u = 0;
                                    else {
                                        var b;
                                        f.__fnct
                                            ? (b = f.__fnct)
                                            : ((b = BezierFactory.getBezierEasing(
                                                  f.o.x,
                                                  f.o.y,
                                                  f.i.x,
                                                  f.i.y
                                              ).get),
                                              (f.__fnct = b)),
                                            (u = b(
                                                (e - (f.t - this.offsetTime)) /
                                                    (m.t -
                                                        this.offsetTime -
                                                        (f.t - this.offsetTime))
                                            ));
                                    }
                                    a = m.s ? m.s[0] : f.e[0];
                                }
                                n = f.s[0];
                            }
                            for (
                                l = t._length,
                                    c = n.i[0].length,
                                    r.lastIndex = p,
                                    o = 0;
                                o < l;
                                o += 1
                            )
                                for (s = 0; s < c; s += 1)
                                    (d = i
                                        ? n.i[o][s]
                                        : n.i[o][s] +
                                          (a.i[o][s] - n.i[o][s]) * u),
                                        (t.i[o][s] = d),
                                        (d = i
                                            ? n.o[o][s]
                                            : n.o[o][s] +
                                              (a.o[o][s] - n.o[o][s]) * u),
                                        (t.o[o][s] = d),
                                        (d = i
                                            ? n.v[o][s]
                                            : n.v[o][s] +
                                              (a.v[o][s] - n.v[o][s]) * u),
                                        (t.v[o][s] = d);
                        }
                        function t() {
                            this.paths = this.localShapeCollection;
                        }
                        function r(e) {
                            (function (e, t) {
                                if (e._length !== t._length || e.c !== t.c)
                                    return !1;
                                var r,
                                    n = e._length;
                                for (r = 0; r < n; r += 1)
                                    if (
                                        e.v[r][0] !== t.v[r][0] ||
                                        e.v[r][1] !== t.v[r][1] ||
                                        e.o[r][0] !== t.o[r][0] ||
                                        e.o[r][1] !== t.o[r][1] ||
                                        e.i[r][0] !== t.i[r][0] ||
                                        e.i[r][1] !== t.i[r][1]
                                    )
                                        return !1;
                                return !0;
                            })(this.v, e) ||
                                ((this.v = shape_pool.clone(e)),
                                this.localShapeCollection.releaseShapes(),
                                this.localShapeCollection.addShape(this.v),
                                (this._mdf = !0),
                                (this.paths = this.localShapeCollection));
                        }
                        function n() {
                            if (this.elem.globalData.frameId !== this.frameId)
                                if (this.effectsSequence.length)
                                    if (this.lock) this.setVValue(this.pv);
                                    else {
                                        (this.lock = !0), (this._mdf = !1);
                                        var e,
                                            t = this.kf
                                                ? this.pv
                                                : this.data.ks
                                                ? this.data.ks.k
                                                : this.data.pt.k,
                                            r = this.effectsSequence.length;
                                        for (e = 0; e < r; e += 1)
                                            t = this.effectsSequence[e](t);
                                        this.setVValue(t),
                                            (this.lock = !1),
                                            (this.frameId = this.elem.globalData.frameId);
                                    }
                                else this._mdf = !1;
                        }
                        function a(e, r, n) {
                            (this.propType = "shape"),
                                (this.comp = e.comp),
                                (this.container = e),
                                (this.elem = e),
                                (this.data = r),
                                (this.k = !1),
                                (this.kf = !1),
                                (this._mdf = !1);
                            var a = 3 === n ? r.pt.k : r.ks.k;
                            (this.v = shape_pool.clone(a)),
                                (this.pv = shape_pool.clone(this.v)),
                                (this.localShapeCollection = shapeCollection_pool.newShapeCollection()),
                                (this.paths = this.localShapeCollection),
                                this.paths.addShape(this.v),
                                (this.reset = t),
                                (this.effectsSequence = []);
                        }
                        function i(e) {
                            this.effectsSequence.push(e),
                                this.container.addDynamicProperty(this);
                        }
                        function o(e, r, n) {
                            (this.propType = "shape"),
                                (this.comp = e.comp),
                                (this.elem = e),
                                (this.container = e),
                                (this.offsetTime = e.data.st),
                                (this.keyframes = 3 === n ? r.pt.k : r.ks.k),
                                (this.k = !0),
                                (this.kf = !0);
                            var a = this.keyframes[0].s[0].i.length;
                            this.keyframes[0].s[0].i[0].length;
                            (this.v = shape_pool.newElement()),
                                this.v.setPathData(this.keyframes[0].s[0].c, a),
                                (this.pv = shape_pool.clone(this.v)),
                                (this.localShapeCollection = shapeCollection_pool.newShapeCollection()),
                                (this.paths = this.localShapeCollection),
                                this.paths.addShape(this.v),
                                (this.lastFrame = s),
                                (this.reset = t),
                                (this._caching = {
                                    lastFrame: s,
                                    lastIndex: 0,
                                }),
                                (this.effectsSequence = [
                                    function () {
                                        var e =
                                                this.comp.renderedFrame -
                                                this.offsetTime,
                                            t =
                                                this.keyframes[0].t -
                                                this.offsetTime,
                                            r =
                                                this.keyframes[
                                                    this.keyframes.length - 1
                                                ].t - this.offsetTime,
                                            n = this._caching.lastFrame;
                                        return (
                                            (n !== s &&
                                                ((n < t && e < t) ||
                                                    (n > r && e > r))) ||
                                                ((this._caching.lastIndex =
                                                    n < e
                                                        ? this._caching
                                                              .lastIndex
                                                        : 0),
                                                this.interpolateShape(
                                                    e,
                                                    this.pv,
                                                    this._caching
                                                )),
                                            (this._caching.lastFrame = e),
                                            this.pv
                                        );
                                    }.bind(this),
                                ]);
                        }
                        var s = -999999;
                        (a.prototype.interpolateShape = e),
                            (a.prototype.getValue = n),
                            (a.prototype.setVValue = r),
                            (a.prototype.addEffect = i),
                            (o.prototype.getValue = n),
                            (o.prototype.interpolateShape = e),
                            (o.prototype.setVValue = r),
                            (o.prototype.addEffect = i);
                        var l = (function () {
                                function e(e, t) {
                                    (this.v = shape_pool.newElement()),
                                        this.v.setPathData(!0, 4),
                                        (this.localShapeCollection = shapeCollection_pool.newShapeCollection()),
                                        (this.paths = this.localShapeCollection),
                                        this.localShapeCollection.addShape(
                                            this.v
                                        ),
                                        (this.d = t.d),
                                        (this.elem = e),
                                        (this.comp = e.comp),
                                        (this.frameId = -1),
                                        this.initDynamicPropertyContainer(e),
                                        (this.p = PropertyFactory.getProp(
                                            e,
                                            t.p,
                                            1,
                                            0,
                                            this
                                        )),
                                        (this.s = PropertyFactory.getProp(
                                            e,
                                            t.s,
                                            1,
                                            0,
                                            this
                                        )),
                                        this.dynamicProperties.length
                                            ? (this.k = !0)
                                            : ((this.k = !1),
                                              this.convertEllToPath());
                                }
                                var r = roundCorner;
                                return (
                                    (e.prototype = {
                                        reset: t,
                                        getValue: function () {
                                            this.elem.globalData.frameId !==
                                                this.frameId &&
                                                ((this.frameId = this.elem.globalData.frameId),
                                                this.iterateDynamicProperties(),
                                                this._mdf &&
                                                    this.convertEllToPath());
                                        },
                                        convertEllToPath: function () {
                                            var e = this.p.v[0],
                                                t = this.p.v[1],
                                                n = this.s.v[0] / 2,
                                                a = this.s.v[1] / 2,
                                                i = 3 !== this.d,
                                                o = this.v;
                                            (o.v[0][0] = e),
                                                (o.v[0][1] = t - a),
                                                (o.v[1][0] = i ? e + n : e - n),
                                                (o.v[1][1] = t),
                                                (o.v[2][0] = e),
                                                (o.v[2][1] = t + a),
                                                (o.v[3][0] = i ? e - n : e + n),
                                                (o.v[3][1] = t),
                                                (o.i[0][0] = i
                                                    ? e - n * r
                                                    : e + n * r),
                                                (o.i[0][1] = t - a),
                                                (o.i[1][0] = i ? e + n : e - n),
                                                (o.i[1][1] = t - a * r),
                                                (o.i[2][0] = i
                                                    ? e + n * r
                                                    : e - n * r),
                                                (o.i[2][1] = t + a),
                                                (o.i[3][0] = i ? e - n : e + n),
                                                (o.i[3][1] = t + a * r),
                                                (o.o[0][0] = i
                                                    ? e + n * r
                                                    : e - n * r),
                                                (o.o[0][1] = t - a),
                                                (o.o[1][0] = i ? e + n : e - n),
                                                (o.o[1][1] = t + a * r),
                                                (o.o[2][0] = i
                                                    ? e - n * r
                                                    : e + n * r),
                                                (o.o[2][1] = t + a),
                                                (o.o[3][0] = i ? e - n : e + n),
                                                (o.o[3][1] = t - a * r);
                                        },
                                    }),
                                    extendPrototype(
                                        [DynamicPropertyContainer],
                                        e
                                    ),
                                    e
                                );
                            })(),
                            c = (function () {
                                function e(e, t) {
                                    (this.v = shape_pool.newElement()),
                                        this.v.setPathData(!0, 0),
                                        (this.elem = e),
                                        (this.comp = e.comp),
                                        (this.data = t),
                                        (this.frameId = -1),
                                        (this.d = t.d),
                                        this.initDynamicPropertyContainer(e),
                                        1 === t.sy
                                            ? ((this.ir = PropertyFactory.getProp(
                                                  e,
                                                  t.ir,
                                                  0,
                                                  0,
                                                  this
                                              )),
                                              (this.is = PropertyFactory.getProp(
                                                  e,
                                                  t.is,
                                                  0,
                                                  0.01,
                                                  this
                                              )),
                                              (this.convertToPath = this.convertStarToPath))
                                            : (this.convertToPath = this.convertPolygonToPath),
                                        (this.pt = PropertyFactory.getProp(
                                            e,
                                            t.pt,
                                            0,
                                            0,
                                            this
                                        )),
                                        (this.p = PropertyFactory.getProp(
                                            e,
                                            t.p,
                                            1,
                                            0,
                                            this
                                        )),
                                        (this.r = PropertyFactory.getProp(
                                            e,
                                            t.r,
                                            0,
                                            degToRads,
                                            this
                                        )),
                                        (this.or = PropertyFactory.getProp(
                                            e,
                                            t.or,
                                            0,
                                            0,
                                            this
                                        )),
                                        (this.os = PropertyFactory.getProp(
                                            e,
                                            t.os,
                                            0,
                                            0.01,
                                            this
                                        )),
                                        (this.localShapeCollection = shapeCollection_pool.newShapeCollection()),
                                        this.localShapeCollection.addShape(
                                            this.v
                                        ),
                                        (this.paths = this.localShapeCollection),
                                        this.dynamicProperties.length
                                            ? (this.k = !0)
                                            : ((this.k = !1),
                                              this.convertToPath());
                                }
                                return (
                                    (e.prototype = {
                                        reset: t,
                                        getValue: function () {
                                            this.elem.globalData.frameId !==
                                                this.frameId &&
                                                ((this.frameId = this.elem.globalData.frameId),
                                                this.iterateDynamicProperties(),
                                                this._mdf &&
                                                    this.convertToPath());
                                        },
                                        convertStarToPath: function () {
                                            var e,
                                                t,
                                                r,
                                                n,
                                                a = 2 * Math.floor(this.pt.v),
                                                i = (2 * Math.PI) / a,
                                                o = !0,
                                                s = this.or.v,
                                                l = this.ir.v,
                                                c = this.os.v,
                                                u = this.is.v,
                                                d = (2 * Math.PI * s) / (2 * a),
                                                p = (2 * Math.PI * l) / (2 * a),
                                                h = -Math.PI / 2;
                                            h += this.r.v;
                                            var f = 3 === this.data.d ? -1 : 1;
                                            for (
                                                this.v._length = 0, e = 0;
                                                e < a;
                                                e += 1
                                            ) {
                                                (t = o ? s : l),
                                                    (r = o ? c : u),
                                                    (n = o ? d : p);
                                                var m = t * Math.cos(h),
                                                    y = t * Math.sin(h),
                                                    g =
                                                        0 === m && 0 === y
                                                            ? 0
                                                            : y /
                                                              Math.sqrt(
                                                                  m * m + y * y
                                                              ),
                                                    v =
                                                        0 === m && 0 === y
                                                            ? 0
                                                            : -m /
                                                              Math.sqrt(
                                                                  m * m + y * y
                                                              );
                                                (m += +this.p.v[0]),
                                                    (y += +this.p.v[1]),
                                                    this.v.setTripleAt(
                                                        m,
                                                        y,
                                                        m - g * n * r * f,
                                                        y - v * n * r * f,
                                                        m + g * n * r * f,
                                                        y + v * n * r * f,
                                                        e,
                                                        !0
                                                    ),
                                                    (o = !o),
                                                    (h += i * f);
                                            }
                                        },
                                        convertPolygonToPath: function () {
                                            var e,
                                                t = Math.floor(this.pt.v),
                                                r = (2 * Math.PI) / t,
                                                n = this.or.v,
                                                a = this.os.v,
                                                i = (2 * Math.PI * n) / (4 * t),
                                                o = -Math.PI / 2,
                                                s = 3 === this.data.d ? -1 : 1;
                                            for (
                                                o += this.r.v,
                                                    this.v._length = 0,
                                                    e = 0;
                                                e < t;
                                                e += 1
                                            ) {
                                                var l = n * Math.cos(o),
                                                    c = n * Math.sin(o),
                                                    u =
                                                        0 === l && 0 === c
                                                            ? 0
                                                            : c /
                                                              Math.sqrt(
                                                                  l * l + c * c
                                                              ),
                                                    d =
                                                        0 === l && 0 === c
                                                            ? 0
                                                            : -l /
                                                              Math.sqrt(
                                                                  l * l + c * c
                                                              );
                                                (l += +this.p.v[0]),
                                                    (c += +this.p.v[1]),
                                                    this.v.setTripleAt(
                                                        l,
                                                        c,
                                                        l - u * i * a * s,
                                                        c - d * i * a * s,
                                                        l + u * i * a * s,
                                                        c + d * i * a * s,
                                                        e,
                                                        !0
                                                    ),
                                                    (o += r * s);
                                            }
                                            (this.paths.length = 0),
                                                (this.paths[0] = this.v);
                                        },
                                    }),
                                    extendPrototype(
                                        [DynamicPropertyContainer],
                                        e
                                    ),
                                    e
                                );
                            })(),
                            u = (function () {
                                function e(e, t) {
                                    (this.v = shape_pool.newElement()),
                                        (this.v.c = !0),
                                        (this.localShapeCollection = shapeCollection_pool.newShapeCollection()),
                                        this.localShapeCollection.addShape(
                                            this.v
                                        ),
                                        (this.paths = this.localShapeCollection),
                                        (this.elem = e),
                                        (this.comp = e.comp),
                                        (this.frameId = -1),
                                        (this.d = t.d),
                                        this.initDynamicPropertyContainer(e),
                                        (this.p = PropertyFactory.getProp(
                                            e,
                                            t.p,
                                            1,
                                            0,
                                            this
                                        )),
                                        (this.s = PropertyFactory.getProp(
                                            e,
                                            t.s,
                                            1,
                                            0,
                                            this
                                        )),
                                        (this.r = PropertyFactory.getProp(
                                            e,
                                            t.r,
                                            0,
                                            0,
                                            this
                                        )),
                                        this.dynamicProperties.length
                                            ? (this.k = !0)
                                            : ((this.k = !1),
                                              this.convertRectToPath());
                                }
                                return (
                                    (e.prototype = {
                                        convertRectToPath: function () {
                                            var e = this.p.v[0],
                                                t = this.p.v[1],
                                                r = this.s.v[0] / 2,
                                                n = this.s.v[1] / 2,
                                                a = bm_min(r, n, this.r.v),
                                                i = a * (1 - roundCorner);
                                            (this.v._length = 0),
                                                2 === this.d || 1 === this.d
                                                    ? (this.v.setTripleAt(
                                                          e + r,
                                                          t - n + a,
                                                          e + r,
                                                          t - n + a,
                                                          e + r,
                                                          t - n + i,
                                                          0,
                                                          !0
                                                      ),
                                                      this.v.setTripleAt(
                                                          e + r,
                                                          t + n - a,
                                                          e + r,
                                                          t + n - i,
                                                          e + r,
                                                          t + n - a,
                                                          1,
                                                          !0
                                                      ),
                                                      0 !== a
                                                          ? (this.v.setTripleAt(
                                                                e + r - a,
                                                                t + n,
                                                                e + r - a,
                                                                t + n,
                                                                e + r - i,
                                                                t + n,
                                                                2,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r + a,
                                                                t + n,
                                                                e - r + i,
                                                                t + n,
                                                                e - r + a,
                                                                t + n,
                                                                3,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t + n - a,
                                                                e - r,
                                                                t + n - a,
                                                                e - r,
                                                                t + n - i,
                                                                4,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t - n + a,
                                                                e - r,
                                                                t - n + i,
                                                                e - r,
                                                                t - n + a,
                                                                5,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r + a,
                                                                t - n,
                                                                e - r + a,
                                                                t - n,
                                                                e - r + i,
                                                                t - n,
                                                                6,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e + r - a,
                                                                t - n,
                                                                e + r - i,
                                                                t - n,
                                                                e + r - a,
                                                                t - n,
                                                                7,
                                                                !0
                                                            ))
                                                          : (this.v.setTripleAt(
                                                                e - r,
                                                                t + n,
                                                                e - r + i,
                                                                t + n,
                                                                e - r,
                                                                t + n,
                                                                2
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t - n,
                                                                e - r,
                                                                t - n + i,
                                                                e - r,
                                                                t - n,
                                                                3
                                                            )))
                                                    : (this.v.setTripleAt(
                                                          e + r,
                                                          t - n + a,
                                                          e + r,
                                                          t - n + i,
                                                          e + r,
                                                          t - n + a,
                                                          0,
                                                          !0
                                                      ),
                                                      0 !== a
                                                          ? (this.v.setTripleAt(
                                                                e + r - a,
                                                                t - n,
                                                                e + r - a,
                                                                t - n,
                                                                e + r - i,
                                                                t - n,
                                                                1,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r + a,
                                                                t - n,
                                                                e - r + i,
                                                                t - n,
                                                                e - r + a,
                                                                t - n,
                                                                2,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t - n + a,
                                                                e - r,
                                                                t - n + a,
                                                                e - r,
                                                                t - n + i,
                                                                3,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t + n - a,
                                                                e - r,
                                                                t + n - i,
                                                                e - r,
                                                                t + n - a,
                                                                4,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r + a,
                                                                t + n,
                                                                e - r + a,
                                                                t + n,
                                                                e - r + i,
                                                                t + n,
                                                                5,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e + r - a,
                                                                t + n,
                                                                e + r - i,
                                                                t + n,
                                                                e + r - a,
                                                                t + n,
                                                                6,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e + r,
                                                                t + n - a,
                                                                e + r,
                                                                t + n - a,
                                                                e + r,
                                                                t + n - i,
                                                                7,
                                                                !0
                                                            ))
                                                          : (this.v.setTripleAt(
                                                                e - r,
                                                                t - n,
                                                                e - r + i,
                                                                t - n,
                                                                e - r,
                                                                t - n,
                                                                1,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e - r,
                                                                t + n,
                                                                e - r,
                                                                t + n - i,
                                                                e - r,
                                                                t + n,
                                                                2,
                                                                !0
                                                            ),
                                                            this.v.setTripleAt(
                                                                e + r,
                                                                t + n,
                                                                e + r - i,
                                                                t + n,
                                                                e + r,
                                                                t + n,
                                                                3,
                                                                !0
                                                            )));
                                        },
                                        getValue: function (e) {
                                            this.elem.globalData.frameId !==
                                                this.frameId &&
                                                ((this.frameId = this.elem.globalData.frameId),
                                                this.iterateDynamicProperties(),
                                                this._mdf &&
                                                    this.convertRectToPath());
                                        },
                                        reset: t,
                                    }),
                                    extendPrototype(
                                        [DynamicPropertyContainer],
                                        e
                                    ),
                                    e
                                );
                            })(),
                            d = {};
                        return (
                            (d.getShapeProp = function (e, t, r) {
                                var n;
                                3 === r || 4 === r
                                    ? (n = (3 === r ? t.pt : t.ks).k.length
                                          ? new o(e, t, r)
                                          : new a(e, t, r))
                                    : 5 === r
                                    ? (n = new u(e, t))
                                    : 6 === r
                                    ? (n = new l(e, t))
                                    : 7 === r && (n = new c(e, t));
                                return n.k && e.addDynamicProperty(n), n;
                            }),
                            (d.getConstructorFunction = function () {
                                return a;
                            }),
                            (d.getKeyframedConstructorFunction = function () {
                                return o;
                            }),
                            d
                        );
                    })(),
                    ShapeModifiers = (function () {
                        var e = {},
                            t = {};
                        return (
                            (e.registerModifier = function (e, r) {
                                t[e] || (t[e] = r);
                            }),
                            (e.getModifier = function (e, r, n) {
                                return new t[e](r, n);
                            }),
                            e
                        );
                    })();
                (ShapeModifier.prototype.initModifierProperties = function () {}),
                    (ShapeModifier.prototype.addShapeToModifier = function () {}),
                    (ShapeModifier.prototype.addShape = function (e) {
                        if (!this.closed) {
                            e.sh.container.addDynamicProperty(e.sh);
                            var t = {
                                shape: e.sh,
                                data: e,
                                localShapeCollection: shapeCollection_pool.newShapeCollection(),
                            };
                            this.shapes.push(t),
                                this.addShapeToModifier(t),
                                this._isAnimated && e.setAsAnimated();
                        }
                    }),
                    (ShapeModifier.prototype.init = function (e, t) {
                        (this.shapes = []),
                            (this.elem = e),
                            this.initDynamicPropertyContainer(e),
                            this.initModifierProperties(e, t),
                            (this.frameId = initialDefaultFrame),
                            (this.closed = !1),
                            (this.k = !1),
                            this.dynamicProperties.length
                                ? (this.k = !0)
                                : this.getValue(!0);
                    }),
                    (ShapeModifier.prototype.processKeys = function () {
                        this.elem.globalData.frameId !== this.frameId &&
                            ((this.frameId = this.elem.globalData.frameId),
                            this.iterateDynamicProperties());
                    }),
                    extendPrototype([DynamicPropertyContainer], ShapeModifier),
                    extendPrototype([ShapeModifier], TrimModifier),
                    (TrimModifier.prototype.initModifierProperties = function (
                        e,
                        t
                    ) {
                        (this.s = PropertyFactory.getProp(
                            e,
                            t.s,
                            0,
                            0.01,
                            this
                        )),
                            (this.e = PropertyFactory.getProp(
                                e,
                                t.e,
                                0,
                                0.01,
                                this
                            )),
                            (this.o = PropertyFactory.getProp(
                                e,
                                t.o,
                                0,
                                0,
                                this
                            )),
                            (this.sValue = 0),
                            (this.eValue = 0),
                            (this.getValue = this.processKeys),
                            (this.m = t.m),
                            (this._isAnimated =
                                !!this.s.effectsSequence.length ||
                                !!this.e.effectsSequence.length ||
                                !!this.o.effectsSequence.length);
                    }),
                    (TrimModifier.prototype.addShapeToModifier = function (e) {
                        e.pathsData = [];
                    }),
                    (TrimModifier.prototype.calculateShapeEdges = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        var i = [];
                        t <= 1
                            ? i.push({ s: e, e: t })
                            : e >= 1
                            ? i.push({ s: e - 1, e: t - 1 })
                            : (i.push({ s: e, e: 1 }),
                              i.push({ s: 0, e: t - 1 }));
                        var o,
                            s,
                            l = [],
                            c = i.length;
                        for (o = 0; o < c; o += 1)
                            if ((s = i[o]).e * a < n || s.s * a > n + r);
                            else {
                                var u, d;
                                (u = s.s * a <= n ? 0 : (s.s * a - n) / r),
                                    (d =
                                        s.e * a >= n + r
                                            ? 1
                                            : (s.e * a - n) / r),
                                    l.push([u, d]);
                            }
                        return l.length || l.push([0, 0]), l;
                    }),
                    (TrimModifier.prototype.releasePathsData = function (e) {
                        var t,
                            r = e.length;
                        for (t = 0; t < r; t += 1)
                            segments_length_pool.release(e[t]);
                        return (e.length = 0), e;
                    }),
                    (TrimModifier.prototype.processShapes = function (e) {
                        var t, r;
                        if (this._mdf || e) {
                            var n = (this.o.v % 360) / 360;
                            if (
                                (n < 0 && (n += 1),
                                (t =
                                    (this.s.v > 1
                                        ? 1
                                        : this.s.v < 0
                                        ? 0
                                        : this.s.v) + n),
                                (r =
                                    (this.e.v > 1
                                        ? 1
                                        : this.e.v < 0
                                        ? 0
                                        : this.e.v) + n),
                                t > r)
                            ) {
                                var a = t;
                                (t = r), (r = a);
                            }
                            (t = 1e-4 * Math.round(1e4 * t)),
                                (r = 1e-4 * Math.round(1e4 * r)),
                                (this.sValue = t),
                                (this.eValue = r);
                        } else (t = this.sValue), (r = this.eValue);
                        var i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d,
                            p = this.shapes.length,
                            h = 0;
                        if (r === t)
                            for (o = 0; o < p; o += 1)
                                this.shapes[
                                    o
                                ].localShapeCollection.releaseShapes(),
                                    (this.shapes[o].shape._mdf = !0),
                                    (this.shapes[o].shape.paths = this.shapes[
                                        o
                                    ].localShapeCollection),
                                    this._mdf &&
                                        (this.shapes[o].pathsData.length = 0);
                        else if ((1 === r && 0 === t) || (0 === r && 1 === t)) {
                            if (this._mdf)
                                for (o = 0; o < p; o += 1)
                                    (this.shapes[o].pathsData.length = 0),
                                        (this.shapes[o].shape._mdf = !0);
                        } else {
                            var f,
                                m,
                                y = [];
                            for (o = 0; o < p; o += 1)
                                if (
                                    (f = this.shapes[o]).shape._mdf ||
                                    this._mdf ||
                                    e ||
                                    2 === this.m
                                ) {
                                    if (
                                        ((i = f.shape.paths),
                                        (l = i._length),
                                        (d = 0),
                                        !f.shape._mdf && f.pathsData.length)
                                    )
                                        d = f.totalShapeLength;
                                    else {
                                        for (
                                            c = this.releasePathsData(
                                                f.pathsData
                                            ),
                                                s = 0;
                                            s < l;
                                            s += 1
                                        )
                                            (u = bez.getSegmentsLength(
                                                i.shapes[s]
                                            )),
                                                c.push(u),
                                                (d += u.totalLength);
                                        (f.totalShapeLength = d),
                                            (f.pathsData = c);
                                    }
                                    (h += d), (f.shape._mdf = !0);
                                } else f.shape.paths = f.localShapeCollection;
                            var g,
                                v = t,
                                b = r,
                                w = 0;
                            for (o = p - 1; o >= 0; o -= 1)
                                if ((f = this.shapes[o]).shape._mdf) {
                                    for (
                                        (m =
                                            f.localShapeCollection).releaseShapes(),
                                            2 === this.m && p > 1
                                                ? ((g = this.calculateShapeEdges(
                                                      t,
                                                      r,
                                                      f.totalShapeLength,
                                                      w,
                                                      h
                                                  )),
                                                  (w += f.totalShapeLength))
                                                : (g = [[v, b]]),
                                            l = g.length,
                                            s = 0;
                                        s < l;
                                        s += 1
                                    ) {
                                        (v = g[s][0]),
                                            (b = g[s][1]),
                                            (y.length = 0),
                                            b <= 1
                                                ? y.push({
                                                      s: f.totalShapeLength * v,
                                                      e: f.totalShapeLength * b,
                                                  })
                                                : v >= 1
                                                ? y.push({
                                                      s:
                                                          f.totalShapeLength *
                                                          (v - 1),
                                                      e:
                                                          f.totalShapeLength *
                                                          (b - 1),
                                                  })
                                                : (y.push({
                                                      s: f.totalShapeLength * v,
                                                      e: f.totalShapeLength,
                                                  }),
                                                  y.push({
                                                      s: 0,
                                                      e:
                                                          f.totalShapeLength *
                                                          (b - 1),
                                                  }));
                                        var _ = this.addShapes(f, y[0]);
                                        if (y[0].s !== y[0].e) {
                                            if (y.length > 1) {
                                                if (
                                                    f.shape.paths.shapes[
                                                        f.shape.paths._length -
                                                            1
                                                    ].c
                                                ) {
                                                    var E = _.pop();
                                                    this.addPaths(_, m),
                                                        (_ = this.addShapes(
                                                            f,
                                                            y[1],
                                                            E
                                                        ));
                                                } else
                                                    this.addPaths(_, m),
                                                        (_ = this.addShapes(
                                                            f,
                                                            y[1]
                                                        ));
                                            }
                                            this.addPaths(_, m);
                                        }
                                    }
                                    f.shape.paths = m;
                                }
                        }
                    }),
                    (TrimModifier.prototype.addPaths = function (e, t) {
                        var r,
                            n = e.length;
                        for (r = 0; r < n; r += 1) t.addShape(e[r]);
                    }),
                    (TrimModifier.prototype.addSegment = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i,
                        o
                    ) {
                        a.setXYAt(t[0], t[1], "o", i),
                            a.setXYAt(r[0], r[1], "i", i + 1),
                            o && a.setXYAt(e[0], e[1], "v", i),
                            a.setXYAt(n[0], n[1], "v", i + 1);
                    }),
                    (TrimModifier.prototype.addSegmentFromArray = function (
                        e,
                        t,
                        r,
                        n
                    ) {
                        t.setXYAt(e[1], e[5], "o", r),
                            t.setXYAt(e[2], e[6], "i", r + 1),
                            n && t.setXYAt(e[0], e[4], "v", r),
                            t.setXYAt(e[3], e[7], "v", r + 1);
                    }),
                    (TrimModifier.prototype.addShapes = function (e, t, r) {
                        var n,
                            a,
                            i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d = e.pathsData,
                            p = e.shape.paths.shapes,
                            h = e.shape.paths._length,
                            f = 0,
                            m = [],
                            y = !0;
                        for (
                            r
                                ? ((s = r._length), (u = r._length))
                                : ((r = shape_pool.newElement()),
                                  (s = 0),
                                  (u = 0)),
                                m.push(r),
                                n = 0;
                            n < h;
                            n += 1
                        ) {
                            for (
                                l = d[n].lengths,
                                    r.c = p[n].c,
                                    i = p[n].c ? l.length : l.length + 1,
                                    a = 1;
                                a < i;
                                a += 1
                            )
                                if (((o = l[a - 1]), f + o.addedLength < t.s))
                                    (f += o.addedLength), (r.c = !1);
                                else {
                                    if (f > t.e) {
                                        r.c = !1;
                                        break;
                                    }
                                    t.s <= f && t.e >= f + o.addedLength
                                        ? (this.addSegment(
                                              p[n].v[a - 1],
                                              p[n].o[a - 1],
                                              p[n].i[a],
                                              p[n].v[a],
                                              r,
                                              s,
                                              y
                                          ),
                                          (y = !1))
                                        : ((c = bez.getNewSegment(
                                              p[n].v[a - 1],
                                              p[n].v[a],
                                              p[n].o[a - 1],
                                              p[n].i[a],
                                              (t.s - f) / o.addedLength,
                                              (t.e - f) / o.addedLength,
                                              l[a - 1]
                                          )),
                                          this.addSegmentFromArray(c, r, s, y),
                                          (y = !1),
                                          (r.c = !1)),
                                        (f += o.addedLength),
                                        (s += 1);
                                }
                            if (p[n].c && l.length) {
                                if (((o = l[a - 1]), f <= t.e)) {
                                    var g = l[a - 1].addedLength;
                                    t.s <= f && t.e >= f + g
                                        ? (this.addSegment(
                                              p[n].v[a - 1],
                                              p[n].o[a - 1],
                                              p[n].i[0],
                                              p[n].v[0],
                                              r,
                                              s,
                                              y
                                          ),
                                          (y = !1))
                                        : ((c = bez.getNewSegment(
                                              p[n].v[a - 1],
                                              p[n].v[0],
                                              p[n].o[a - 1],
                                              p[n].i[0],
                                              (t.s - f) / g,
                                              (t.e - f) / g,
                                              l[a - 1]
                                          )),
                                          this.addSegmentFromArray(c, r, s, y),
                                          (y = !1),
                                          (r.c = !1));
                                } else r.c = !1;
                                (f += o.addedLength), (s += 1);
                            }
                            if (
                                (r._length &&
                                    (r.setXYAt(r.v[u][0], r.v[u][1], "i", u),
                                    r.setXYAt(
                                        r.v[r._length - 1][0],
                                        r.v[r._length - 1][1],
                                        "o",
                                        r._length - 1
                                    )),
                                f > t.e)
                            )
                                break;
                            n < h - 1 &&
                                ((r = shape_pool.newElement()),
                                (y = !0),
                                m.push(r),
                                (s = 0));
                        }
                        return m;
                    }),
                    ShapeModifiers.registerModifier("tm", TrimModifier),
                    extendPrototype([ShapeModifier], RoundCornersModifier),
                    (RoundCornersModifier.prototype.initModifierProperties = function (
                        e,
                        t
                    ) {
                        (this.getValue = this.processKeys),
                            (this.rd = PropertyFactory.getProp(
                                e,
                                t.r,
                                0,
                                null,
                                this
                            )),
                            (this._isAnimated = !!this.rd.effectsSequence
                                .length);
                    }),
                    (RoundCornersModifier.prototype.processPath = function (
                        e,
                        t
                    ) {
                        var r = shape_pool.newElement();
                        r.c = e.c;
                        var n,
                            a,
                            i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d,
                            p,
                            h,
                            f,
                            m,
                            y = e._length,
                            g = 0;
                        for (n = 0; n < y; n += 1)
                            (a = e.v[n]),
                                (o = e.o[n]),
                                (i = e.i[n]),
                                a[0] === o[0] &&
                                a[1] === o[1] &&
                                a[0] === i[0] &&
                                a[1] === i[1]
                                    ? (0 !== n && n !== y - 1) || e.c
                                        ? ((s =
                                              0 === n
                                                  ? e.v[y - 1]
                                                  : e.v[n - 1]),
                                          (c = (l = Math.sqrt(
                                              Math.pow(a[0] - s[0], 2) +
                                                  Math.pow(a[1] - s[1], 2)
                                          ))
                                              ? Math.min(l / 2, t) / l
                                              : 0),
                                          (u = f = a[0] + (s[0] - a[0]) * c),
                                          (d = m = a[1] - (a[1] - s[1]) * c),
                                          (p = u - (u - a[0]) * roundCorner),
                                          (h = d - (d - a[1]) * roundCorner),
                                          r.setTripleAt(u, d, p, h, f, m, g),
                                          (g += 1),
                                          (s =
                                              n === y - 1
                                                  ? e.v[0]
                                                  : e.v[n + 1]),
                                          (c = (l = Math.sqrt(
                                              Math.pow(a[0] - s[0], 2) +
                                                  Math.pow(a[1] - s[1], 2)
                                          ))
                                              ? Math.min(l / 2, t) / l
                                              : 0),
                                          (u = p = a[0] + (s[0] - a[0]) * c),
                                          (d = h = a[1] + (s[1] - a[1]) * c),
                                          (f = u - (u - a[0]) * roundCorner),
                                          (m = d - (d - a[1]) * roundCorner),
                                          r.setTripleAt(u, d, p, h, f, m, g),
                                          (g += 1))
                                        : (r.setTripleAt(
                                              a[0],
                                              a[1],
                                              o[0],
                                              o[1],
                                              i[0],
                                              i[1],
                                              g
                                          ),
                                          (g += 1))
                                    : (r.setTripleAt(
                                          e.v[n][0],
                                          e.v[n][1],
                                          e.o[n][0],
                                          e.o[n][1],
                                          e.i[n][0],
                                          e.i[n][1],
                                          g
                                      ),
                                      (g += 1));
                        return r;
                    }),
                    (RoundCornersModifier.prototype.processShapes = function (
                        e
                    ) {
                        var t,
                            r,
                            n,
                            a,
                            i = this.shapes.length,
                            o = this.rd.v;
                        if (0 !== o) {
                            var s, l;
                            for (r = 0; r < i; r += 1) {
                                if (
                                    ((s = this.shapes[r]),
                                    s.shape.paths,
                                    (l = s.localShapeCollection),
                                    s.shape._mdf || this._mdf || e)
                                )
                                    for (
                                        l.releaseShapes(),
                                            s.shape._mdf = !0,
                                            t = s.shape.paths.shapes,
                                            a = s.shape.paths._length,
                                            n = 0;
                                        n < a;
                                        n += 1
                                    )
                                        l.addShape(this.processPath(t[n], o));
                                s.shape.paths = s.localShapeCollection;
                            }
                        }
                        this.dynamicProperties.length || (this._mdf = !1);
                    }),
                    ShapeModifiers.registerModifier("rd", RoundCornersModifier),
                    extendPrototype([ShapeModifier], PuckerAndBloatModifier),
                    (PuckerAndBloatModifier.prototype.initModifierProperties = function (
                        e,
                        t
                    ) {
                        (this.getValue = this.processKeys),
                            (this.amount = PropertyFactory.getProp(
                                e,
                                t.a,
                                0,
                                null,
                                this
                            )),
                            (this._isAnimated = !!this.amount.effectsSequence
                                .length);
                    }),
                    (PuckerAndBloatModifier.prototype.processPath = function (
                        e,
                        t
                    ) {
                        var r = t / 100,
                            n = [0, 0],
                            a = e._length,
                            i = 0;
                        for (i = 0; i < a; i += 1)
                            (n[0] += e.v[i][0]), (n[1] += e.v[i][1]);
                        (n[0] /= a), (n[1] /= a);
                        var o = shape_pool.newElement();
                        o.c = e.c;
                        var s, l, c, u, d, p;
                        for (i = 0; i < a; i += 1)
                            (s = e.v[i][0] + (n[0] - e.v[i][0]) * r),
                                (l = e.v[i][1] + (n[1] - e.v[i][1]) * r),
                                (c = e.o[i][0] + (n[0] - e.o[i][0]) * -r),
                                (u = e.o[i][1] + (n[1] - e.o[i][1]) * -r),
                                (d = e.i[i][0] + (n[0] - e.i[i][0]) * -r),
                                (p = e.i[i][1] + (n[1] - e.i[i][1]) * -r),
                                o.setTripleAt(s, l, c, u, d, p, i);
                        return o;
                    }),
                    (PuckerAndBloatModifier.prototype.processShapes = function (
                        e
                    ) {
                        var t,
                            r,
                            n,
                            a,
                            i = this.shapes.length,
                            o = this.amount.v;
                        if (0 !== o) {
                            var s, l;
                            for (r = 0; r < i; r += 1) {
                                if (
                                    ((s = this.shapes[r]),
                                    s.shape.paths,
                                    (l = s.localShapeCollection),
                                    s.shape._mdf || this._mdf || e)
                                )
                                    for (
                                        l.releaseShapes(),
                                            s.shape._mdf = !0,
                                            t = s.shape.paths.shapes,
                                            a = s.shape.paths._length,
                                            n = 0;
                                        n < a;
                                        n += 1
                                    )
                                        l.addShape(this.processPath(t[n], o));
                                s.shape.paths = s.localShapeCollection;
                            }
                        }
                        this.dynamicProperties.length || (this._mdf = !1);
                    }),
                    ShapeModifiers.registerModifier(
                        "pb",
                        PuckerAndBloatModifier
                    ),
                    extendPrototype([ShapeModifier], RepeaterModifier),
                    (RepeaterModifier.prototype.initModifierProperties = function (
                        e,
                        t
                    ) {
                        (this.getValue = this.processKeys),
                            (this.c = PropertyFactory.getProp(
                                e,
                                t.c,
                                0,
                                null,
                                this
                            )),
                            (this.o = PropertyFactory.getProp(
                                e,
                                t.o,
                                0,
                                null,
                                this
                            )),
                            (this.tr = TransformPropertyFactory.getTransformProperty(
                                e,
                                t.tr,
                                this
                            )),
                            (this.so = PropertyFactory.getProp(
                                e,
                                t.tr.so,
                                0,
                                0.01,
                                this
                            )),
                            (this.eo = PropertyFactory.getProp(
                                e,
                                t.tr.eo,
                                0,
                                0.01,
                                this
                            )),
                            (this.data = t),
                            this.dynamicProperties.length || this.getValue(!0),
                            (this._isAnimated = !!this.dynamicProperties
                                .length),
                            (this.pMatrix = new Matrix()),
                            (this.rMatrix = new Matrix()),
                            (this.sMatrix = new Matrix()),
                            (this.tMatrix = new Matrix()),
                            (this.matrix = new Matrix());
                    }),
                    (RepeaterModifier.prototype.applyTransforms = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i
                    ) {
                        var o = i ? -1 : 1,
                            s = n.s.v[0] + (1 - n.s.v[0]) * (1 - a),
                            l = n.s.v[1] + (1 - n.s.v[1]) * (1 - a);
                        e.translate(
                            n.p.v[0] * o * a,
                            n.p.v[1] * o * a,
                            n.p.v[2]
                        ),
                            t.translate(-n.a.v[0], -n.a.v[1], n.a.v[2]),
                            t.rotate(-n.r.v * o * a),
                            t.translate(n.a.v[0], n.a.v[1], n.a.v[2]),
                            r.translate(-n.a.v[0], -n.a.v[1], n.a.v[2]),
                            r.scale(i ? 1 / s : s, i ? 1 / l : l),
                            r.translate(n.a.v[0], n.a.v[1], n.a.v[2]);
                    }),
                    (RepeaterModifier.prototype.init = function (e, t, r, n) {
                        (this.elem = e),
                            (this.arr = t),
                            (this.pos = r),
                            (this.elemsData = n),
                            (this._currentCopies = 0),
                            (this._elements = []),
                            (this._groups = []),
                            (this.frameId = -1),
                            this.initDynamicPropertyContainer(e),
                            this.initModifierProperties(e, t[r]);
                        for (; r > 0; )
                            (r -= 1), this._elements.unshift(t[r]), 1;
                        this.dynamicProperties.length
                            ? (this.k = !0)
                            : this.getValue(!0);
                    }),
                    (RepeaterModifier.prototype.resetElements = function (e) {
                        var t,
                            r = e.length;
                        for (t = 0; t < r; t += 1)
                            (e[t]._processed = !1),
                                "gr" === e[t].ty && this.resetElements(e[t].it);
                    }),
                    (RepeaterModifier.prototype.cloneElements = function (e) {
                        e.length;
                        var t = JSON.parse(JSON.stringify(e));
                        return this.resetElements(t), t;
                    }),
                    (RepeaterModifier.prototype.changeGroupRender = function (
                        e,
                        t
                    ) {
                        var r,
                            n = e.length;
                        for (r = 0; r < n; r += 1)
                            (e[r]._render = t),
                                "gr" === e[r].ty &&
                                    this.changeGroupRender(e[r].it, t);
                    }),
                    (RepeaterModifier.prototype.processShapes = function (e) {
                        var t, r, n, a, i;
                        if (this._mdf || e) {
                            var o = Math.ceil(this.c.v);
                            if (this._groups.length < o) {
                                for (; this._groups.length < o; ) {
                                    var s = {
                                        it: this.cloneElements(this._elements),
                                        ty: "gr",
                                    };
                                    s.it.push({
                                        a: { a: 0, ix: 1, k: [0, 0] },
                                        nm: "Transform",
                                        o: { a: 0, ix: 7, k: 100 },
                                        p: { a: 0, ix: 2, k: [0, 0] },
                                        r: {
                                            a: 1,
                                            ix: 6,
                                            k: [
                                                { s: 0, e: 0, t: 0 },
                                                { s: 0, e: 0, t: 1 },
                                            ],
                                        },
                                        s: { a: 0, ix: 3, k: [100, 100] },
                                        sa: { a: 0, ix: 5, k: 0 },
                                        sk: { a: 0, ix: 4, k: 0 },
                                        ty: "tr",
                                    }),
                                        this.arr.splice(0, 0, s),
                                        this._groups.splice(0, 0, s),
                                        (this._currentCopies += 1);
                                }
                                this.elem.reloadShapes();
                            }
                            i = 0;
                            var l;
                            for (n = 0; n <= this._groups.length - 1; n += 1)
                                (l = i < o),
                                    (this._groups[n]._render = l),
                                    this.changeGroupRender(
                                        this._groups[n].it,
                                        l
                                    ),
                                    (i += 1);
                            this._currentCopies = o;
                            var c = this.o.v,
                                u = c % 1,
                                d = c > 0 ? Math.floor(c) : Math.ceil(c),
                                p = (this.tr.v.props, this.pMatrix.props),
                                h = this.rMatrix.props,
                                f = this.sMatrix.props;
                            this.pMatrix.reset(),
                                this.rMatrix.reset(),
                                this.sMatrix.reset(),
                                this.tMatrix.reset(),
                                this.matrix.reset();
                            var m = 0;
                            if (c > 0) {
                                for (; m < d; )
                                    this.applyTransforms(
                                        this.pMatrix,
                                        this.rMatrix,
                                        this.sMatrix,
                                        this.tr,
                                        1,
                                        !1
                                    ),
                                        (m += 1);
                                u &&
                                    (this.applyTransforms(
                                        this.pMatrix,
                                        this.rMatrix,
                                        this.sMatrix,
                                        this.tr,
                                        u,
                                        !1
                                    ),
                                    (m += u));
                            } else if (c < 0) {
                                for (; m > d; )
                                    this.applyTransforms(
                                        this.pMatrix,
                                        this.rMatrix,
                                        this.sMatrix,
                                        this.tr,
                                        1,
                                        !0
                                    ),
                                        (m -= 1);
                                u &&
                                    (this.applyTransforms(
                                        this.pMatrix,
                                        this.rMatrix,
                                        this.sMatrix,
                                        this.tr,
                                        -u,
                                        !0
                                    ),
                                    (m -= u));
                            }
                            (n =
                                1 === this.data.m
                                    ? 0
                                    : this._currentCopies - 1),
                                (a = 1 === this.data.m ? 1 : -1),
                                (i = this._currentCopies);
                            for (var y, g; i; ) {
                                if (
                                    ((t = this.elemsData[n].it),
                                    (r =
                                        t[t.length - 1].transform.mProps.v
                                            .props),
                                    (g = r.length),
                                    (t[
                                        t.length - 1
                                    ].transform.mProps._mdf = !0),
                                    (t[t.length - 1].transform.op._mdf = !0),
                                    (t[t.length - 1].transform.op.v =
                                        this.so.v +
                                        (this.eo.v - this.so.v) *
                                            (n / (this._currentCopies - 1))),
                                    0 !== m)
                                ) {
                                    for (
                                        ((0 !== n && 1 === a) ||
                                            (n !== this._currentCopies - 1 &&
                                                -1 === a)) &&
                                            this.applyTransforms(
                                                this.pMatrix,
                                                this.rMatrix,
                                                this.sMatrix,
                                                this.tr,
                                                1,
                                                !1
                                            ),
                                            this.matrix.transform(
                                                h[0],
                                                h[1],
                                                h[2],
                                                h[3],
                                                h[4],
                                                h[5],
                                                h[6],
                                                h[7],
                                                h[8],
                                                h[9],
                                                h[10],
                                                h[11],
                                                h[12],
                                                h[13],
                                                h[14],
                                                h[15]
                                            ),
                                            this.matrix.transform(
                                                f[0],
                                                f[1],
                                                f[2],
                                                f[3],
                                                f[4],
                                                f[5],
                                                f[6],
                                                f[7],
                                                f[8],
                                                f[9],
                                                f[10],
                                                f[11],
                                                f[12],
                                                f[13],
                                                f[14],
                                                f[15]
                                            ),
                                            this.matrix.transform(
                                                p[0],
                                                p[1],
                                                p[2],
                                                p[3],
                                                p[4],
                                                p[5],
                                                p[6],
                                                p[7],
                                                p[8],
                                                p[9],
                                                p[10],
                                                p[11],
                                                p[12],
                                                p[13],
                                                p[14],
                                                p[15]
                                            ),
                                            y = 0;
                                        y < g;
                                        y += 1
                                    )
                                        r[y] = this.matrix.props[y];
                                    this.matrix.reset();
                                } else
                                    for (
                                        this.matrix.reset(), y = 0;
                                        y < g;
                                        y += 1
                                    )
                                        r[y] = this.matrix.props[y];
                                (m += 1), (i -= 1), (n += a);
                            }
                        } else
                            for (i = this._currentCopies, n = 0, a = 1; i; )
                                (r = (t = this.elemsData[n].it)[t.length - 1]
                                    .transform.mProps.v.props),
                                    (t[
                                        t.length - 1
                                    ].transform.mProps._mdf = !1),
                                    (t[t.length - 1].transform.op._mdf = !1),
                                    (i -= 1),
                                    (n += a);
                    }),
                    (RepeaterModifier.prototype.addShape = function () {}),
                    ShapeModifiers.registerModifier("rp", RepeaterModifier),
                    (ShapeCollection.prototype.addShape = function (e) {
                        this._length === this._maxLength &&
                            ((this.shapes = this.shapes.concat(
                                createSizedArray(this._maxLength)
                            )),
                            (this._maxLength *= 2)),
                            (this.shapes[this._length] = e),
                            (this._length += 1);
                    }),
                    (ShapeCollection.prototype.releaseShapes = function () {
                        var e;
                        for (e = 0; e < this._length; e += 1)
                            shape_pool.release(this.shapes[e]);
                        this._length = 0;
                    }),
                    (DashProperty.prototype.getValue = function (e) {
                        if (
                            (this.elem.globalData.frameId !== this.frameId ||
                                e) &&
                            ((this.frameId = this.elem.globalData.frameId),
                            this.iterateDynamicProperties(),
                            (this._mdf = this._mdf || e),
                            this._mdf)
                        ) {
                            var t = 0,
                                r = this.dataProps.length;
                            for (
                                "svg" === this.renderer && (this.dashStr = ""),
                                    t = 0;
                                t < r;
                                t += 1
                            )
                                "o" != this.dataProps[t].n
                                    ? "svg" === this.renderer
                                        ? (this.dashStr +=
                                              " " + this.dataProps[t].p.v)
                                        : (this.dashArray[t] = this.dataProps[
                                              t
                                          ].p.v)
                                    : (this.dashoffset[0] = this.dataProps[
                                          t
                                      ].p.v);
                        }
                    }),
                    extendPrototype([DynamicPropertyContainer], DashProperty),
                    (GradientProperty.prototype.comparePoints = function (
                        e,
                        t
                    ) {
                        for (var r = 0, n = this.o.length / 2; r < n; ) {
                            if (Math.abs(e[4 * r] - e[4 * t + 2 * r]) > 0.01)
                                return !1;
                            r += 1;
                        }
                        return !0;
                    }),
                    (GradientProperty.prototype.checkCollapsable = function () {
                        if (this.o.length / 2 != this.c.length / 4) return !1;
                        if (this.data.k.k[0].s)
                            for (var e = 0, t = this.data.k.k.length; e < t; ) {
                                if (
                                    !this.comparePoints(
                                        this.data.k.k[e].s,
                                        this.data.p
                                    )
                                )
                                    return !1;
                                e += 1;
                            }
                        else if (
                            !this.comparePoints(this.data.k.k, this.data.p)
                        )
                            return !1;
                        return !0;
                    }),
                    (GradientProperty.prototype.getValue = function (e) {
                        if (
                            (this.prop.getValue(),
                            (this._mdf = !1),
                            (this._cmdf = !1),
                            (this._omdf = !1),
                            this.prop._mdf || e)
                        ) {
                            var t,
                                r,
                                n,
                                a = 4 * this.data.p;
                            for (t = 0; t < a; t += 1)
                                (r = t % 4 == 0 ? 100 : 255),
                                    (n = Math.round(this.prop.v[t] * r)),
                                    this.c[t] !== n &&
                                        ((this.c[t] = n), (this._cmdf = !e));
                            if (this.o.length)
                                for (
                                    a = this.prop.v.length, t = 4 * this.data.p;
                                    t < a;
                                    t += 1
                                )
                                    (r = t % 2 == 0 ? 100 : 1),
                                        (n =
                                            t % 2 == 0
                                                ? Math.round(
                                                      100 * this.prop.v[t]
                                                  )
                                                : this.prop.v[t]),
                                        this.o[t - 4 * this.data.p] !== n &&
                                            ((this.o[t - 4 * this.data.p] = n),
                                            (this._omdf = !e));
                            this._mdf = !e;
                        }
                    }),
                    extendPrototype(
                        [DynamicPropertyContainer],
                        GradientProperty
                    );
                var buildShapeString = function (e, t, r, n) {
                        if (0 === t) return "";
                        var a,
                            i = e.o,
                            o = e.i,
                            s = e.v,
                            l =
                                " M" +
                                n.applyToPointStringified(s[0][0], s[0][1]);
                        for (a = 1; a < t; a += 1)
                            l +=
                                " C" +
                                n.applyToPointStringified(
                                    i[a - 1][0],
                                    i[a - 1][1]
                                ) +
                                " " +
                                n.applyToPointStringified(o[a][0], o[a][1]) +
                                " " +
                                n.applyToPointStringified(s[a][0], s[a][1]);
                        return (
                            r &&
                                t &&
                                ((l +=
                                    " C" +
                                    n.applyToPointStringified(
                                        i[a - 1][0],
                                        i[a - 1][1]
                                    ) +
                                    " " +
                                    n.applyToPointStringified(
                                        o[0][0],
                                        o[0][1]
                                    ) +
                                    " " +
                                    n.applyToPointStringified(
                                        s[0][0],
                                        s[0][1]
                                    )),
                                (l += "z")),
                            l
                        );
                    },
                    audioControllerFactory = (function () {
                        function e(e) {
                            (this.audios = []),
                                (this.audioFactory = e),
                                (this._volume = 1),
                                (this._isMuted = !1);
                        }
                        return (
                            (e.prototype = {
                                addAudio: function (e) {
                                    this.audios.push(e);
                                },
                                pause: function () {
                                    var e,
                                        t = this.audios.length;
                                    for (e = 0; e < t; e += 1)
                                        this.audios[e].pause();
                                },
                                resume: function () {
                                    var e,
                                        t = this.audios.length;
                                    for (e = 0; e < t; e += 1)
                                        this.audios[e].resume();
                                },
                                setRate: function (e) {
                                    var t,
                                        r = this.audios.length;
                                    for (t = 0; t < r; t += 1)
                                        this.audios[t].setRate(e);
                                },
                                createAudio: function (e) {
                                    return this.audioFactory
                                        ? this.audioFactory(e)
                                        : Howl
                                        ? new Howl({ src: [e] })
                                        : {
                                              isPlaying: !1,
                                              play: function () {
                                                  this.isPlaying = !0;
                                              },
                                              seek: function () {
                                                  this.isPlaying = !1;
                                              },
                                              playing: function () {},
                                              rate: function () {},
                                              setVolume: function () {},
                                          };
                                },
                                setAudioFactory: function (e) {
                                    this.audioFactory = e;
                                },
                                setVolume: function (e) {
                                    (this._volume = e), this._updateVolume();
                                },
                                mute: function () {
                                    (this._isMuted = !0), this._updateVolume();
                                },
                                unmute: function () {
                                    (this._isMuted = !1), this._updateVolume();
                                },
                                getVolume: function (e) {
                                    return this._volume;
                                },
                                _updateVolume: function () {
                                    var e,
                                        t = this.audios.length;
                                    for (e = 0; e < t; e += 1)
                                        this.audios[e].volume(
                                            this._volume *
                                                (this._isMuted ? 0 : 1)
                                        );
                                },
                            }),
                            function () {
                                return new e();
                            }
                        );
                    })(),
                    ImagePreloader = (function () {
                        function e() {
                            (this.loadedAssets += 1),
                                this.loadedAssets === this.totalImages &&
                                    this.imagesLoadedCb &&
                                    this.imagesLoadedCb(null);
                        }
                        function t(e, t, r) {
                            var n = "";
                            if (e.e) n = e.p;
                            else if (t) {
                                var a = e.p;
                                -1 !== a.indexOf("images/") &&
                                    (a = a.split("/")[1]),
                                    (n = t + a);
                            } else (n = r), (n += e.u ? e.u : ""), (n += e.p);
                            return n;
                        }
                        function r(t) {
                            (this._imageLoaded = e.bind(this)),
                                (this.assetsPath = ""),
                                (this.path = ""),
                                (this.totalImages = 0),
                                (this.loadedAssets = 0),
                                (this.imagesLoadedCb = null),
                                (this.images = []);
                        }
                        var n = (function () {
                            var e = createTag("canvas");
                            (e.width = 1), (e.height = 1);
                            var t = e.getContext("2d");
                            return (
                                (t.fillStyle = "rgba(0,0,0,0)"),
                                t.fillRect(0, 0, 1, 1),
                                e
                            );
                        })();
                        return (
                            (r.prototype = {
                                loadAssets: function (e, t) {
                                    this.imagesLoadedCb = t;
                                    var r,
                                        n = e.length;
                                    for (r = 0; r < n; r += 1)
                                        e[r].layers ||
                                            ((this.totalImages += 1),
                                            this.images.push(
                                                this._createImageData(e[r])
                                            ));
                                },
                                setAssetsPath: function (e) {
                                    this.assetsPath = e || "";
                                },
                                setPath: function (e) {
                                    this.path = e || "";
                                },
                                loaded: function () {
                                    return (
                                        this.totalImages === this.loadedAssets
                                    );
                                },
                                destroy: function () {
                                    (this.imagesLoadedCb = null),
                                        (this.images.length = 0);
                                },
                                getImage: function (e) {
                                    for (
                                        var t = 0, r = this.images.length;
                                        t < r;

                                    ) {
                                        if (this.images[t].assetData === e)
                                            return this.images[t].img;
                                        t += 1;
                                    }
                                },
                                createImgData: function (e) {
                                    var r = t(e, this.assetsPath, this.path),
                                        a = createTag("img");
                                    (a.crossOrigin = "anonymous"),
                                        a.addEventListener(
                                            "load",
                                            this._imageLoaded,
                                            !1
                                        ),
                                        a.addEventListener(
                                            "error",
                                            function () {
                                                (i.img = n),
                                                    this._imageLoaded();
                                            }.bind(this),
                                            !1
                                        ),
                                        (a.src = r);
                                    var i = { img: a, assetData: e };
                                    return i;
                                },
                                createImageData: function (e) {
                                    var r = t(e, this.assetsPath, this.path),
                                        a = createNS("image");
                                    a.addEventListener(
                                        "load",
                                        this._imageLoaded,
                                        !1
                                    ),
                                        a.addEventListener(
                                            "error",
                                            function () {
                                                (i.img = n),
                                                    this._imageLoaded();
                                            }.bind(this),
                                            !1
                                        ),
                                        a.setAttributeNS(
                                            "http://www.w3.org/1999/xlink",
                                            "href",
                                            r
                                        );
                                    var i = { img: a, assetData: e };
                                    return i;
                                },
                                imageLoaded: e,
                                setCacheType: function (e) {
                                    this._createImageData =
                                        "svg" === e
                                            ? this.createImageData.bind(this)
                                            : this.createImgData.bind(this);
                                },
                            }),
                            r
                        );
                    })(),
                    featureSupport = (function () {
                        var e = { maskType: !0 };
                        return (
                            (/MSIE 10/i.test(navigator.userAgent) ||
                                /MSIE 9/i.test(navigator.userAgent) ||
                                /rv:11.0/i.test(navigator.userAgent) ||
                                /Edge\/\d./i.test(navigator.userAgent)) &&
                                (e.maskType = !1),
                            e
                        );
                    })(),
                    filtersFactory = (function () {
                        var e = {};
                        return (
                            (e.createFilter = function (e) {
                                var t = createNS("filter");
                                return (
                                    t.setAttribute("id", e),
                                    t.setAttribute(
                                        "filterUnits",
                                        "objectBoundingBox"
                                    ),
                                    t.setAttribute("x", "0%"),
                                    t.setAttribute("y", "0%"),
                                    t.setAttribute("width", "100%"),
                                    t.setAttribute("height", "100%"),
                                    t
                                );
                            }),
                            (e.createAlphaToLuminanceFilter = function () {
                                var e = createNS("feColorMatrix");
                                return (
                                    e.setAttribute("type", "matrix"),
                                    e.setAttribute(
                                        "color-interpolation-filters",
                                        "sRGB"
                                    ),
                                    e.setAttribute(
                                        "values",
                                        "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"
                                    ),
                                    e
                                );
                            }),
                            e
                        );
                    })(),
                    assetLoader = (function () {
                        function e(e) {
                            return e.response && "object" == typeof e.response
                                ? e.response
                                : e.response && "string" == typeof e.response
                                ? JSON.parse(e.response)
                                : e.responseText
                                ? JSON.parse(e.responseText)
                                : void 0;
                        }
                        return {
                            load: function (t, r, n) {
                                var a,
                                    i = new XMLHttpRequest();
                                i.open("GET", t, !0);
                                try {
                                    i.responseType = "json";
                                } catch (e) {}
                                i.send(),
                                    (i.onreadystatechange = function () {
                                        if (4 == i.readyState)
                                            if (200 == i.status)
                                                (a = e(i)), r(a);
                                            else
                                                try {
                                                    (a = e(i)), r(a);
                                                } catch (e) {
                                                    n && n(e);
                                                }
                                    });
                            },
                        };
                    })();
                (TextAnimatorProperty.prototype.searchProperties = function () {
                    var e,
                        t,
                        r = this._textData.a.length,
                        n = PropertyFactory.getProp;
                    for (e = 0; e < r; e += 1)
                        (t = this._textData.a[e]),
                            (this._animatorsData[
                                e
                            ] = new TextAnimatorDataProperty(
                                this._elem,
                                t,
                                this
                            ));
                    this._textData.p && "m" in this._textData.p
                        ? ((this._pathData = {
                              f: n(this._elem, this._textData.p.f, 0, 0, this),
                              l: n(this._elem, this._textData.p.l, 0, 0, this),
                              r: this._textData.p.r,
                              m: this._elem.maskManager.getMaskProperty(
                                  this._textData.p.m
                              ),
                          }),
                          (this._hasMaskedPath = !0))
                        : (this._hasMaskedPath = !1),
                        (this._moreOptions.alignment = n(
                            this._elem,
                            this._textData.m.a,
                            1,
                            0,
                            this
                        ));
                }),
                    (TextAnimatorProperty.prototype.getMeasures = function (
                        e,
                        t
                    ) {
                        if (
                            ((this.lettersChangedFlag = t),
                            this._mdf ||
                                this._isFirstFrame ||
                                t ||
                                (this._hasMaskedPath && this._pathData.m._mdf))
                        ) {
                            this._isFirstFrame = !1;
                            var r,
                                n,
                                a,
                                i,
                                o,
                                s,
                                l,
                                c,
                                u,
                                d,
                                p,
                                h,
                                f,
                                m,
                                y,
                                g,
                                v,
                                b,
                                w,
                                _ = this._moreOptions.alignment.v,
                                E = this._animatorsData,
                                S = this._textData,
                                C = this.mHelper,
                                A = this._renderType,
                                k = this.renderedLetters.length,
                                x = (this.data, e.l);
                            if (this._hasMaskedPath) {
                                if (
                                    ((w = this._pathData.m),
                                    !this._pathData.n || this._pathData._mdf)
                                ) {
                                    var P = w.v;
                                    this._pathData.r && (P = P.reverse()),
                                        (o = { tLength: 0, segments: [] }),
                                        (i = P._length - 1);
                                    var T;
                                    for (g = 0, a = 0; a < i; a += 1)
                                        (T = bez.buildBezierData(
                                            P.v[a],
                                            P.v[a + 1],
                                            [
                                                P.o[a][0] - P.v[a][0],
                                                P.o[a][1] - P.v[a][1],
                                            ],
                                            [
                                                P.i[a + 1][0] - P.v[a + 1][0],
                                                P.i[a + 1][1] - P.v[a + 1][1],
                                            ]
                                        )),
                                            (o.tLength += T.segmentLength),
                                            o.segments.push(T),
                                            (g += T.segmentLength);
                                    (a = i),
                                        w.v.c &&
                                            ((T = bez.buildBezierData(
                                                P.v[a],
                                                P.v[0],
                                                [
                                                    P.o[a][0] - P.v[a][0],
                                                    P.o[a][1] - P.v[a][1],
                                                ],
                                                [
                                                    P.i[0][0] - P.v[0][0],
                                                    P.i[0][1] - P.v[0][1],
                                                ]
                                            )),
                                            (o.tLength += T.segmentLength),
                                            o.segments.push(T),
                                            (g += T.segmentLength)),
                                        (this._pathData.pi = o);
                                }
                                if (
                                    ((o = this._pathData.pi),
                                    (s = this._pathData.f.v),
                                    (p = 0),
                                    (d = 1),
                                    (c = 0),
                                    (u = !0),
                                    (m = o.segments),
                                    s < 0 && w.v.c)
                                )
                                    for (
                                        o.tLength < Math.abs(s) &&
                                            (s = -Math.abs(s) % o.tLength),
                                            d =
                                                (f =
                                                    m[(p = m.length - 1)]
                                                        .points).length - 1;
                                        s < 0;

                                    )
                                        (s += f[d].partialLength),
                                            (d -= 1) < 0 &&
                                                (d =
                                                    (f = m[(p -= 1)].points)
                                                        .length - 1);
                                (h = (f = m[p].points)[d - 1]),
                                    (y = (l = f[d]).partialLength);
                            }
                            (i = x.length), (r = 0), (n = 0);
                            var L,
                                I,
                                O,
                                M,
                                D,
                                j = 1.2 * e.finalSize * 0.714,
                                R = !0;
                            M = E.length;
                            var F,
                                N,
                                B,
                                $,
                                V,
                                z,
                                q,
                                G,
                                U,
                                H,
                                W,
                                K,
                                Y,
                                Q = -1,
                                X = s,
                                Z = p,
                                J = d,
                                ee = -1,
                                te = "",
                                re = this.defaultPropsArray;
                            if (2 === e.j || 1 === e.j) {
                                var ne = 0,
                                    ae = 0,
                                    ie = 2 === e.j ? -0.5 : -1,
                                    oe = 0,
                                    se = !0;
                                for (a = 0; a < i; a += 1)
                                    if (x[a].n) {
                                        for (ne && (ne += ae); oe < a; )
                                            (x[oe].animatorJustifyOffset = ne),
                                                (oe += 1);
                                        (ne = 0), (se = !0);
                                    } else {
                                        for (O = 0; O < M; O += 1)
                                            (L = E[O].a).t.propType &&
                                                (se &&
                                                    2 === e.j &&
                                                    (ae += L.t.v * ie),
                                                (F = (I = E[O].s).getMult(
                                                    x[a].anIndexes[O],
                                                    S.a[O].s.totalChars
                                                )).length
                                                    ? (ne += L.t.v * F[0] * ie)
                                                    : (ne += L.t.v * F * ie));
                                        se = !1;
                                    }
                                for (ne && (ne += ae); oe < a; )
                                    (x[oe].animatorJustifyOffset = ne),
                                        (oe += 1);
                            }
                            for (a = 0; a < i; a += 1) {
                                if ((C.reset(), (V = 1), x[a].n))
                                    (r = 0),
                                        (n += e.yOffset),
                                        (n += R ? 1 : 0),
                                        (s = X),
                                        (R = !1),
                                        0,
                                        this._hasMaskedPath &&
                                            ((d = J),
                                            (h = (f = m[(p = Z)].points)[
                                                d - 1
                                            ]),
                                            (y = (l = f[d]).partialLength),
                                            (c = 0)),
                                        (Y = H = K = te = ""),
                                        (re = this.defaultPropsArray);
                                else {
                                    if (this._hasMaskedPath) {
                                        if (ee !== x[a].line) {
                                            switch (e.j) {
                                                case 1:
                                                    s +=
                                                        g -
                                                        e.lineWidths[x[a].line];
                                                    break;
                                                case 2:
                                                    s +=
                                                        (g -
                                                            e.lineWidths[
                                                                x[a].line
                                                            ]) /
                                                        2;
                                            }
                                            ee = x[a].line;
                                        }
                                        Q !== x[a].ind &&
                                            (x[Q] && (s += x[Q].extra),
                                            (s += x[a].an / 2),
                                            (Q = x[a].ind)),
                                            (s += (_[0] * x[a].an) / 200);
                                        var le = 0;
                                        for (O = 0; O < M; O += 1)
                                            (L = E[O].a).p.propType &&
                                                ((F = (I = E[O].s).getMult(
                                                    x[a].anIndexes[O],
                                                    S.a[O].s.totalChars
                                                )).length
                                                    ? (le += L.p.v[0] * F[0])
                                                    : (le += L.p.v[0] * F)),
                                                L.a.propType &&
                                                    ((F = (I = E[O].s).getMult(
                                                        x[a].anIndexes[O],
                                                        S.a[O].s.totalChars
                                                    )).length
                                                        ? (le +=
                                                              L.a.v[0] * F[0])
                                                        : (le += L.a.v[0] * F));
                                        for (u = !0; u; )
                                            c + y >= s + le || !f
                                                ? ((v =
                                                      (s + le - c) /
                                                      l.partialLength),
                                                  (B =
                                                      h.point[0] +
                                                      (l.point[0] -
                                                          h.point[0]) *
                                                          v),
                                                  ($ =
                                                      h.point[1] +
                                                      (l.point[1] -
                                                          h.point[1]) *
                                                          v),
                                                  C.translate(
                                                      (-_[0] * x[a].an) / 200,
                                                      (-_[1] * j) / 100
                                                  ),
                                                  (u = !1))
                                                : f &&
                                                  ((c += l.partialLength),
                                                  (d += 1) >= f.length &&
                                                      ((d = 0),
                                                      m[(p += 1)]
                                                          ? (f = m[p].points)
                                                          : w.v.c
                                                          ? ((d = 0),
                                                            (f =
                                                                m[(p = 0)]
                                                                    .points))
                                                          : ((c -=
                                                                l.partialLength),
                                                            (f = null))),
                                                  f &&
                                                      ((h = l),
                                                      (y = (l = f[d])
                                                          .partialLength)));
                                        (N = x[a].an / 2 - x[a].add),
                                            C.translate(-N, 0, 0);
                                    } else
                                        (N = x[a].an / 2 - x[a].add),
                                            C.translate(-N, 0, 0),
                                            C.translate(
                                                (-_[0] * x[a].an) / 200,
                                                (-_[1] * j) / 100,
                                                0
                                            );
                                    for (x[a].l / 2, O = 0; O < M; O += 1)
                                        (L = E[O].a).t.propType &&
                                            ((F = (I = E[O].s).getMult(
                                                x[a].anIndexes[O],
                                                S.a[O].s.totalChars
                                            )),
                                            (0 === r && 0 === e.j) ||
                                                (this._hasMaskedPath
                                                    ? F.length
                                                        ? (s += L.t.v * F[0])
                                                        : (s += L.t.v * F)
                                                    : F.length
                                                    ? (r += L.t.v * F[0])
                                                    : (r += L.t.v * F)));
                                    for (
                                        x[a].l / 2,
                                            e.strokeWidthAnim &&
                                                (q = e.sw || 0),
                                            e.strokeColorAnim &&
                                                (z = e.sc
                                                    ? [
                                                          e.sc[0],
                                                          e.sc[1],
                                                          e.sc[2],
                                                      ]
                                                    : [0, 0, 0]),
                                            e.fillColorAnim &&
                                                e.fc &&
                                                (G = [
                                                    e.fc[0],
                                                    e.fc[1],
                                                    e.fc[2],
                                                ]),
                                            O = 0;
                                        O < M;
                                        O += 1
                                    )
                                        (L = E[O].a).a.propType &&
                                            ((F = (I = E[O].s).getMult(
                                                x[a].anIndexes[O],
                                                S.a[O].s.totalChars
                                            )).length
                                                ? C.translate(
                                                      -L.a.v[0] * F[0],
                                                      -L.a.v[1] * F[1],
                                                      L.a.v[2] * F[2]
                                                  )
                                                : C.translate(
                                                      -L.a.v[0] * F,
                                                      -L.a.v[1] * F,
                                                      L.a.v[2] * F
                                                  ));
                                    for (O = 0; O < M; O += 1)
                                        (L = E[O].a).s.propType &&
                                            ((F = (I = E[O].s).getMult(
                                                x[a].anIndexes[O],
                                                S.a[O].s.totalChars
                                            )).length
                                                ? C.scale(
                                                      1 + (L.s.v[0] - 1) * F[0],
                                                      1 + (L.s.v[1] - 1) * F[1],
                                                      1
                                                  )
                                                : C.scale(
                                                      1 + (L.s.v[0] - 1) * F,
                                                      1 + (L.s.v[1] - 1) * F,
                                                      1
                                                  ));
                                    for (O = 0; O < M; O += 1) {
                                        if (
                                            ((L = E[O].a),
                                            (I = E[O].s),
                                            (F = I.getMult(
                                                x[a].anIndexes[O],
                                                S.a[O].s.totalChars
                                            )),
                                            L.sk.propType &&
                                                (F.length
                                                    ? C.skewFromAxis(
                                                          -L.sk.v * F[0],
                                                          L.sa.v * F[1]
                                                      )
                                                    : C.skewFromAxis(
                                                          -L.sk.v * F,
                                                          L.sa.v * F
                                                      )),
                                            L.r.propType &&
                                                (F.length
                                                    ? C.rotateZ(-L.r.v * F[2])
                                                    : C.rotateZ(-L.r.v * F)),
                                            L.ry.propType &&
                                                (F.length
                                                    ? C.rotateY(L.ry.v * F[1])
                                                    : C.rotateY(L.ry.v * F)),
                                            L.rx.propType &&
                                                (F.length
                                                    ? C.rotateX(L.rx.v * F[0])
                                                    : C.rotateX(L.rx.v * F)),
                                            L.o.propType &&
                                                (F.length
                                                    ? (V +=
                                                          (L.o.v * F[0] - V) *
                                                          F[0])
                                                    : (V +=
                                                          (L.o.v * F - V) * F)),
                                            e.strokeWidthAnim &&
                                                L.sw.propType &&
                                                (F.length
                                                    ? (q += L.sw.v * F[0])
                                                    : (q += L.sw.v * F)),
                                            e.strokeColorAnim && L.sc.propType)
                                        )
                                            for (U = 0; U < 3; U += 1)
                                                F.length
                                                    ? (z[U] =
                                                          z[U] +
                                                          (L.sc.v[U] - z[U]) *
                                                              F[0])
                                                    : (z[U] =
                                                          z[U] +
                                                          (L.sc.v[U] - z[U]) *
                                                              F);
                                        if (e.fillColorAnim && e.fc) {
                                            if (L.fc.propType)
                                                for (U = 0; U < 3; U += 1)
                                                    F.length
                                                        ? (G[U] =
                                                              G[U] +
                                                              (L.fc.v[U] -
                                                                  G[U]) *
                                                                  F[0])
                                                        : (G[U] =
                                                              G[U] +
                                                              (L.fc.v[U] -
                                                                  G[U]) *
                                                                  F);
                                            L.fh.propType &&
                                                (G = F.length
                                                    ? addHueToRGB(
                                                          G,
                                                          L.fh.v * F[0]
                                                      )
                                                    : addHueToRGB(
                                                          G,
                                                          L.fh.v * F
                                                      )),
                                                L.fs.propType &&
                                                    (G = F.length
                                                        ? addSaturationToRGB(
                                                              G,
                                                              L.fs.v * F[0]
                                                          )
                                                        : addSaturationToRGB(
                                                              G,
                                                              L.fs.v * F
                                                          )),
                                                L.fb.propType &&
                                                    (G = F.length
                                                        ? addBrightnessToRGB(
                                                              G,
                                                              L.fb.v * F[0]
                                                          )
                                                        : addBrightnessToRGB(
                                                              G,
                                                              L.fb.v * F
                                                          ));
                                        }
                                    }
                                    for (O = 0; O < M; O += 1)
                                        (L = E[O].a).p.propType &&
                                            ((F = (I = E[O].s).getMult(
                                                x[a].anIndexes[O],
                                                S.a[O].s.totalChars
                                            )),
                                            this._hasMaskedPath
                                                ? F.length
                                                    ? C.translate(
                                                          0,
                                                          L.p.v[1] * F[0],
                                                          -L.p.v[2] * F[1]
                                                      )
                                                    : C.translate(
                                                          0,
                                                          L.p.v[1] * F,
                                                          -L.p.v[2] * F
                                                      )
                                                : F.length
                                                ? C.translate(
                                                      L.p.v[0] * F[0],
                                                      L.p.v[1] * F[1],
                                                      -L.p.v[2] * F[2]
                                                  )
                                                : C.translate(
                                                      L.p.v[0] * F,
                                                      L.p.v[1] * F,
                                                      -L.p.v[2] * F
                                                  ));
                                    if (
                                        (e.strokeWidthAnim &&
                                            (H = q < 0 ? 0 : q),
                                        e.strokeColorAnim &&
                                            (W =
                                                "rgb(" +
                                                Math.round(255 * z[0]) +
                                                "," +
                                                Math.round(255 * z[1]) +
                                                "," +
                                                Math.round(255 * z[2]) +
                                                ")"),
                                        e.fillColorAnim &&
                                            e.fc &&
                                            (K =
                                                "rgb(" +
                                                Math.round(255 * G[0]) +
                                                "," +
                                                Math.round(255 * G[1]) +
                                                "," +
                                                Math.round(255 * G[2]) +
                                                ")"),
                                        this._hasMaskedPath)
                                    ) {
                                        if (
                                            (C.translate(0, -e.ls),
                                            C.translate(
                                                0,
                                                (_[1] * j) / 100 + n,
                                                0
                                            ),
                                            S.p.p)
                                        ) {
                                            b =
                                                (l.point[1] - h.point[1]) /
                                                (l.point[0] - h.point[0]);
                                            var ce =
                                                (180 * Math.atan(b)) / Math.PI;
                                            l.point[0] < h.point[0] &&
                                                (ce += 180),
                                                C.rotate((-ce * Math.PI) / 180);
                                        }
                                        C.translate(B, $, 0),
                                            (s -= (_[0] * x[a].an) / 200),
                                            x[a + 1] &&
                                                Q !== x[a + 1].ind &&
                                                ((s += x[a].an / 2),
                                                (s +=
                                                    (e.tr / 1e3) *
                                                    e.finalSize));
                                    } else {
                                        switch (
                                            (C.translate(r, n, 0),
                                            e.ps &&
                                                C.translate(
                                                    e.ps[0],
                                                    e.ps[1] + e.ascent,
                                                    0
                                                ),
                                            e.j)
                                        ) {
                                            case 1:
                                                C.translate(
                                                    x[a].animatorJustifyOffset +
                                                        e.justifyOffset +
                                                        (e.boxWidth -
                                                            e.lineWidths[
                                                                x[a].line
                                                            ]),
                                                    0,
                                                    0
                                                );
                                                break;
                                            case 2:
                                                C.translate(
                                                    x[a].animatorJustifyOffset +
                                                        e.justifyOffset +
                                                        (e.boxWidth -
                                                            e.lineWidths[
                                                                x[a].line
                                                            ]) /
                                                            2,
                                                    0,
                                                    0
                                                );
                                        }
                                        C.translate(0, -e.ls),
                                            C.translate(N, 0, 0),
                                            C.translate(
                                                (_[0] * x[a].an) / 200,
                                                (_[1] * j) / 100,
                                                0
                                            ),
                                            (r +=
                                                x[a].l +
                                                (e.tr / 1e3) * e.finalSize);
                                    }
                                    "html" === A
                                        ? (te = C.toCSS())
                                        : "svg" === A
                                        ? (te = C.to2dCSS())
                                        : (re = [
                                              C.props[0],
                                              C.props[1],
                                              C.props[2],
                                              C.props[3],
                                              C.props[4],
                                              C.props[5],
                                              C.props[6],
                                              C.props[7],
                                              C.props[8],
                                              C.props[9],
                                              C.props[10],
                                              C.props[11],
                                              C.props[12],
                                              C.props[13],
                                              C.props[14],
                                              C.props[15],
                                          ]),
                                        (Y = V);
                                }
                                k <= a
                                    ? ((D = new LetterProps(
                                          Y,
                                          H,
                                          W,
                                          K,
                                          te,
                                          re
                                      )),
                                      this.renderedLetters.push(D),
                                      (k += 1),
                                      (this.lettersChangedFlag = !0))
                                    : ((D = this.renderedLetters[a]),
                                      (this.lettersChangedFlag =
                                          D.update(Y, H, W, K, te, re) ||
                                          this.lettersChangedFlag));
                            }
                        }
                    }),
                    (TextAnimatorProperty.prototype.getValue = function () {
                        this._elem.globalData.frameId !== this._frameId &&
                            ((this._frameId = this._elem.globalData.frameId),
                            this.iterateDynamicProperties());
                    }),
                    (TextAnimatorProperty.prototype.mHelper = new Matrix()),
                    (TextAnimatorProperty.prototype.defaultPropsArray = []),
                    extendPrototype(
                        [DynamicPropertyContainer],
                        TextAnimatorProperty
                    ),
                    (LetterProps.prototype.update = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i
                    ) {
                        (this._mdf.o = !1),
                            (this._mdf.sw = !1),
                            (this._mdf.sc = !1),
                            (this._mdf.fc = !1),
                            (this._mdf.m = !1),
                            (this._mdf.p = !1);
                        var o = !1;
                        return (
                            this.o !== e &&
                                ((this.o = e), (this._mdf.o = !0), (o = !0)),
                            this.sw !== t &&
                                ((this.sw = t), (this._mdf.sw = !0), (o = !0)),
                            this.sc !== r &&
                                ((this.sc = r), (this._mdf.sc = !0), (o = !0)),
                            this.fc !== n &&
                                ((this.fc = n), (this._mdf.fc = !0), (o = !0)),
                            this.m !== a &&
                                ((this.m = a), (this._mdf.m = !0), (o = !0)),
                            !i.length ||
                                (this.p[0] === i[0] &&
                                    this.p[1] === i[1] &&
                                    this.p[4] === i[4] &&
                                    this.p[5] === i[5] &&
                                    this.p[12] === i[12] &&
                                    this.p[13] === i[13]) ||
                                ((this.p = i), (this._mdf.p = !0), (o = !0)),
                            o
                        );
                    }),
                    (TextProperty.prototype.defaultBoxWidth = [0, 0]),
                    (TextProperty.prototype.copyData = function (e, t) {
                        for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]);
                        return e;
                    }),
                    (TextProperty.prototype.setCurrentData = function (e) {
                        e.__complete || this.completeTextData(e),
                            (this.currentData = e),
                            (this.currentData.boxWidth =
                                this.currentData.boxWidth ||
                                this.defaultBoxWidth),
                            (this._mdf = !0);
                    }),
                    (TextProperty.prototype.searchProperty = function () {
                        return this.searchKeyframes();
                    }),
                    (TextProperty.prototype.searchKeyframes = function () {
                        return (
                            (this.kf = this.data.d.k.length > 1),
                            this.kf &&
                                this.addEffect(
                                    this.getKeyframeValue.bind(this)
                                ),
                            this.kf
                        );
                    }),
                    (TextProperty.prototype.addEffect = function (e) {
                        this.effectsSequence.push(e),
                            this.elem.addDynamicProperty(this);
                    }),
                    (TextProperty.prototype.getValue = function (e) {
                        if (
                            (this.elem.globalData.frameId !== this.frameId &&
                                this.effectsSequence.length) ||
                            e
                        ) {
                            this.currentData.t = this.data.d.k[
                                this.keysIndex
                            ].s.t;
                            var t = this.currentData,
                                r = this.keysIndex;
                            if (this.lock)
                                this.setCurrentData(this.currentData);
                            else {
                                (this.lock = !0), (this._mdf = !1);
                                var n,
                                    a = this.effectsSequence.length,
                                    i = e || this.data.d.k[this.keysIndex].s;
                                for (n = 0; n < a; n += 1)
                                    i =
                                        r !== this.keysIndex
                                            ? this.effectsSequence[n](i, i.t)
                                            : this.effectsSequence[n](
                                                  this.currentData,
                                                  i.t
                                              );
                                t !== i && this.setCurrentData(i),
                                    (this.pv = this.v = this.currentData),
                                    (this.lock = !1),
                                    (this.frameId = this.elem.globalData.frameId);
                            }
                        }
                    }),
                    (TextProperty.prototype.getKeyframeValue = function () {
                        for (
                            var e = this.data.d.k,
                                t = this.elem.comp.renderedFrame,
                                r = 0,
                                n = e.length;
                            r <= n - 1 &&
                            (e[r].s, !(r === n - 1 || e[r + 1].t > t));

                        )
                            r += 1;
                        return (
                            this.keysIndex !== r && (this.keysIndex = r),
                            this.data.d.k[this.keysIndex].s
                        );
                    }),
                    (TextProperty.prototype.buildFinalText = function (e) {
                        for (
                            var t,
                                r = FontManager.getCombinedCharacterCodes(),
                                n = [],
                                a = 0,
                                i = e.length;
                            a < i;

                        )
                            (t = e.charCodeAt(a)),
                                -1 !== r.indexOf(t)
                                    ? (n[n.length - 1] += e.charAt(a))
                                    : t >= 55296 &&
                                      t <= 56319 &&
                                      (t = e.charCodeAt(a + 1)) >= 56320 &&
                                      t <= 57343
                                    ? (n.push(e.substr(a, 2)), ++a)
                                    : n.push(e.charAt(a)),
                                (a += 1);
                        return n;
                    }),
                    (TextProperty.prototype.completeTextData = function (e) {
                        e.__complete = !0;
                        var t,
                            r,
                            n,
                            a,
                            i,
                            o,
                            s,
                            l = this.elem.globalData.fontManager,
                            c = this.data,
                            u = [],
                            d = 0,
                            p = c.m.g,
                            h = 0,
                            f = 0,
                            m = 0,
                            y = [],
                            g = 0,
                            v = 0,
                            b = l.getFontByName(e.f),
                            w = 0,
                            _ = b.fStyle ? b.fStyle.split(" ") : [],
                            E = "normal",
                            S = "normal";
                        r = _.length;
                        for (t = 0; t < r; t += 1)
                            switch (_[t].toLowerCase()) {
                                case "italic":
                                    S = "italic";
                                    break;
                                case "bold":
                                    E = "700";
                                    break;
                                case "black":
                                    E = "900";
                                    break;
                                case "medium":
                                    E = "500";
                                    break;
                                case "regular":
                                case "normal":
                                    E = "400";
                                    break;
                                case "light":
                                case "thin":
                                    E = "200";
                            }
                        (e.fWeight = b.fWeight || E),
                            (e.fStyle = S),
                            (e.finalSize = e.s),
                            (e.finalText = this.buildFinalText(e.t)),
                            (r = e.finalText.length),
                            (e.finalLineHeight = e.lh);
                        var C,
                            A = (e.tr / 1e3) * e.finalSize;
                        if (e.sz)
                            for (
                                var k, x, P = !0, T = e.sz[0], L = e.sz[1];
                                P;

                            ) {
                                (k = 0),
                                    (g = 0),
                                    (r = (x = this.buildFinalText(e.t)).length),
                                    (A = (e.tr / 1e3) * e.finalSize);
                                var I = -1;
                                for (t = 0; t < r; t += 1)
                                    (C = x[t].charCodeAt(0)),
                                        (n = !1),
                                        " " === x[t]
                                            ? (I = t)
                                            : (13 !== C && 3 !== C) ||
                                              ((g = 0),
                                              (n = !0),
                                              (k +=
                                                  e.finalLineHeight ||
                                                  1.2 * e.finalSize)),
                                        l.chars
                                            ? ((s = l.getCharData(
                                                  x[t],
                                                  b.fStyle,
                                                  b.fFamily
                                              )),
                                              (w = n
                                                  ? 0
                                                  : (s.w * e.finalSize) / 100))
                                            : (w = l.measureText(
                                                  x[t],
                                                  e.f,
                                                  e.finalSize
                                              )),
                                        g + w > T && " " !== x[t]
                                            ? (-1 === I ? (r += 1) : (t = I),
                                              (k +=
                                                  e.finalLineHeight ||
                                                  1.2 * e.finalSize),
                                              x.splice(
                                                  t,
                                                  I === t ? 1 : 0,
                                                  "\r"
                                              ),
                                              (I = -1),
                                              (g = 0))
                                            : ((g += w), (g += A));
                                (k += (b.ascent * e.finalSize) / 100),
                                    this.canResize &&
                                    e.finalSize > this.minimumFontSize &&
                                    L < k
                                        ? ((e.finalSize -= 1),
                                          (e.finalLineHeight =
                                              (e.finalSize * e.lh) / e.s))
                                        : ((e.finalText = x),
                                          (r = e.finalText.length),
                                          (P = !1));
                            }
                        (g = -A), (w = 0);
                        var O,
                            M = 0;
                        for (t = 0; t < r; t += 1)
                            if (
                                ((n = !1),
                                (O = e.finalText[t]),
                                13 === (C = O.charCodeAt(0)) || 3 === C
                                    ? ((M = 0),
                                      y.push(g),
                                      (v = g > v ? g : v),
                                      (g = -2 * A),
                                      (a = ""),
                                      (n = !0),
                                      (m += 1))
                                    : (a = O),
                                l.chars
                                    ? ((s = l.getCharData(
                                          O,
                                          b.fStyle,
                                          l.getFontByName(e.f).fFamily
                                      )),
                                      (w = n ? 0 : (s.w * e.finalSize) / 100))
                                    : (w = l.measureText(a, e.f, e.finalSize)),
                                " " === O
                                    ? (M += w + A)
                                    : ((g += w + A + M), (M = 0)),
                                u.push({
                                    l: w,
                                    an: w,
                                    add: h,
                                    n: n,
                                    anIndexes: [],
                                    val: a,
                                    line: m,
                                    animatorJustifyOffset: 0,
                                }),
                                2 == p)
                            ) {
                                if (
                                    ((h += w),
                                    "" === a || " " === a || t === r - 1)
                                ) {
                                    for (
                                        ("" !== a && " " !== a) || (h -= w);
                                        f <= t;

                                    )
                                        (u[f].an = h),
                                            (u[f].ind = d),
                                            (u[f].extra = w),
                                            (f += 1);
                                    (d += 1), (h = 0);
                                }
                            } else if (3 == p) {
                                if (((h += w), "" === a || t === r - 1)) {
                                    for ("" === a && (h -= w); f <= t; )
                                        (u[f].an = h),
                                            (u[f].ind = d),
                                            (u[f].extra = w),
                                            (f += 1);
                                    (h = 0), (d += 1);
                                }
                            } else (u[d].ind = d), (u[d].extra = 0), (d += 1);
                        if (((e.l = u), (v = g > v ? g : v), y.push(g), e.sz))
                            (e.boxWidth = e.sz[0]), (e.justifyOffset = 0);
                        else
                            switch (((e.boxWidth = v), e.j)) {
                                case 1:
                                    e.justifyOffset = -e.boxWidth;
                                    break;
                                case 2:
                                    e.justifyOffset = -e.boxWidth / 2;
                                    break;
                                default:
                                    e.justifyOffset = 0;
                            }
                        e.lineWidths = y;
                        var D,
                            j,
                            R = c.a;
                        o = R.length;
                        var F,
                            N,
                            B = [];
                        for (i = 0; i < o; i += 1) {
                            for (
                                (D = R[i]).a.sc && (e.strokeColorAnim = !0),
                                    D.a.sw && (e.strokeWidthAnim = !0),
                                    (D.a.fc || D.a.fh || D.a.fs || D.a.fb) &&
                                        (e.fillColorAnim = !0),
                                    N = 0,
                                    F = D.s.b,
                                    t = 0;
                                t < r;
                                t += 1
                            )
                                ((j = u[t]).anIndexes[i] = N),
                                    ((1 == F && "" !== j.val) ||
                                        (2 == F &&
                                            "" !== j.val &&
                                            " " !== j.val) ||
                                        (3 == F &&
                                            (j.n ||
                                                " " == j.val ||
                                                t == r - 1)) ||
                                        (4 == F && (j.n || t == r - 1))) &&
                                        (1 === D.s.rn && B.push(N), (N += 1));
                            c.a[i].s.totalChars = N;
                            var $,
                                V = -1;
                            if (1 === D.s.rn)
                                for (t = 0; t < r; t += 1)
                                    V != (j = u[t]).anIndexes[i] &&
                                        ((V = j.anIndexes[i]),
                                        ($ = B.splice(
                                            Math.floor(
                                                Math.random() * B.length
                                            ),
                                            1
                                        )[0])),
                                        (j.anIndexes[i] = $);
                        }
                        (e.yOffset = e.finalLineHeight || 1.2 * e.finalSize),
                            (e.ls = e.ls || 0),
                            (e.ascent = (b.ascent * e.finalSize) / 100);
                    }),
                    (TextProperty.prototype.updateDocumentData = function (
                        e,
                        t
                    ) {
                        t = void 0 === t ? this.keysIndex : t;
                        var r = this.copyData({}, this.data.d.k[t].s);
                        (r = this.copyData(r, e)),
                            (this.data.d.k[t].s = r),
                            this.recalculate(t),
                            this.elem.addDynamicProperty(this);
                    }),
                    (TextProperty.prototype.recalculate = function (e) {
                        var t = this.data.d.k[e].s;
                        (t.__complete = !1),
                            (this.keysIndex = 0),
                            (this._isFirstFrame = !0),
                            this.getValue(t);
                    }),
                    (TextProperty.prototype.canResizeFont = function (e) {
                        (this.canResize = e),
                            this.recalculate(this.keysIndex),
                            this.elem.addDynamicProperty(this);
                    }),
                    (TextProperty.prototype.setMinimumFontSize = function (e) {
                        (this.minimumFontSize = Math.floor(e) || 1),
                            this.recalculate(this.keysIndex),
                            this.elem.addDynamicProperty(this);
                    });
                var TextSelectorProp = (function () {
                        function e(e, t) {
                            (this._currentTextLength = -1),
                                (this.k = !1),
                                (this.data = t),
                                (this.elem = e),
                                (this.comp = e.comp),
                                (this.finalS = 0),
                                (this.finalE = 0),
                                this.initDynamicPropertyContainer(e),
                                (this.s = PropertyFactory.getProp(
                                    e,
                                    t.s || { k: 0 },
                                    0,
                                    0,
                                    this
                                )),
                                (this.e =
                                    "e" in t
                                        ? PropertyFactory.getProp(
                                              e,
                                              t.e,
                                              0,
                                              0,
                                              this
                                          )
                                        : { v: 100 }),
                                (this.o = PropertyFactory.getProp(
                                    e,
                                    t.o || { k: 0 },
                                    0,
                                    0,
                                    this
                                )),
                                (this.xe = PropertyFactory.getProp(
                                    e,
                                    t.xe || { k: 0 },
                                    0,
                                    0,
                                    this
                                )),
                                (this.ne = PropertyFactory.getProp(
                                    e,
                                    t.ne || { k: 0 },
                                    0,
                                    0,
                                    this
                                )),
                                (this.a = PropertyFactory.getProp(
                                    e,
                                    t.a,
                                    0,
                                    0.01,
                                    this
                                )),
                                this.dynamicProperties.length ||
                                    this.getValue();
                        }
                        var t = Math.max,
                            r = Math.min,
                            n = Math.floor;
                        return (
                            (e.prototype = {
                                getMult: function (e) {
                                    this._currentTextLength !==
                                        this.elem.textProperty.currentData.l
                                            .length && this.getValue();
                                    var a = 0,
                                        i = 0,
                                        o = 1,
                                        s = 1;
                                    this.ne.v > 0
                                        ? (a = this.ne.v / 100)
                                        : (i = -this.ne.v / 100),
                                        this.xe.v > 0
                                            ? (o = 1 - this.xe.v / 100)
                                            : (s = 1 + this.xe.v / 100);
                                    var l = BezierFactory.getBezierEasing(
                                            a,
                                            i,
                                            o,
                                            s
                                        ).get,
                                        c = 0,
                                        u = this.finalS,
                                        d = this.finalE,
                                        p = this.data.sh;
                                    if (2 === p)
                                        c = l(
                                            (c =
                                                d === u
                                                    ? e >= d
                                                        ? 1
                                                        : 0
                                                    : t(
                                                          0,
                                                          r(
                                                              0.5 / (d - u) +
                                                                  (e - u) /
                                                                      (d - u),
                                                              1
                                                          )
                                                      ))
                                        );
                                    else if (3 === p)
                                        c = l(
                                            (c =
                                                d === u
                                                    ? e >= d
                                                        ? 0
                                                        : 1
                                                    : 1 -
                                                      t(
                                                          0,
                                                          r(
                                                              0.5 / (d - u) +
                                                                  (e - u) /
                                                                      (d - u),
                                                              1
                                                          )
                                                      ))
                                        );
                                    else if (4 === p)
                                        d === u
                                            ? (c = 0)
                                            : (c = t(
                                                  0,
                                                  r(
                                                      0.5 / (d - u) +
                                                          (e - u) / (d - u),
                                                      1
                                                  )
                                              )) < 0.5
                                            ? (c *= 2)
                                            : (c = 1 - 2 * (c - 0.5)),
                                            (c = l(c));
                                    else if (5 === p) {
                                        if (d === u) c = 0;
                                        else {
                                            var h = d - u,
                                                f =
                                                    -h / 2 +
                                                    (e = r(
                                                        t(0, e + 0.5 - u),
                                                        d - u
                                                    )),
                                                m = h / 2;
                                            c = Math.sqrt(
                                                1 - (f * f) / (m * m)
                                            );
                                        }
                                        c = l(c);
                                    } else
                                        6 === p
                                            ? (d === u
                                                  ? (c = 0)
                                                  : ((e = r(
                                                        t(0, e + 0.5 - u),
                                                        d - u
                                                    )),
                                                    (c =
                                                        (1 +
                                                            Math.cos(
                                                                Math.PI +
                                                                    (2 *
                                                                        Math.PI *
                                                                        e) /
                                                                        (d - u)
                                                            )) /
                                                        2)),
                                              (c = l(c)))
                                            : (e >= n(u) &&
                                                  (c = t(
                                                      0,
                                                      r(
                                                          e - u < 0
                                                              ? r(d, 1) -
                                                                    (u - e)
                                                              : d - e,
                                                          1
                                                      )
                                                  )),
                                              (c = l(c)));
                                    return c * this.a.v;
                                },
                                getValue: function (e) {
                                    this.iterateDynamicProperties(),
                                        (this._mdf = e || this._mdf),
                                        (this._currentTextLength =
                                            this.elem.textProperty.currentData.l
                                                .length || 0),
                                        e &&
                                            2 === this.data.r &&
                                            (this.e.v = this._currentTextLength);
                                    var t =
                                            2 === this.data.r
                                                ? 1
                                                : 100 / this.data.totalChars,
                                        r = this.o.v / t,
                                        n = this.s.v / t + r,
                                        a = this.e.v / t + r;
                                    if (n > a) {
                                        var i = n;
                                        (n = a), (a = i);
                                    }
                                    (this.finalS = n), (this.finalE = a);
                                },
                            }),
                            extendPrototype([DynamicPropertyContainer], e),
                            {
                                getTextSelectorProp: function (t, r, n) {
                                    return new e(t, r, n);
                                },
                            }
                        );
                    })(),
                    pool_factory = function (e, t, r, n) {
                        function a() {
                            return i ? s[(i -= 1)] : t();
                        }
                        var i = 0,
                            o = e,
                            s = createSizedArray(o);
                        return {
                            newElement: a,
                            release: function (e) {
                                i === o && ((s = pooling.double(s)), (o *= 2)),
                                    r && r(e),
                                    (s[i] = e),
                                    (i += 1);
                            },
                        };
                    },
                    pooling = (function () {
                        return {
                            double: function (e) {
                                return e.concat(createSizedArray(e.length));
                            },
                        };
                    })(),
                    point_pool = (function () {
                        return pool_factory(8, function () {
                            return createTypedArray("float32", 2);
                        });
                    })(),
                    shape_pool = (function () {
                        var e = pool_factory(
                            4,
                            function () {
                                return new ShapePath();
                            },
                            function (e) {
                                var t,
                                    r = e._length;
                                for (t = 0; t < r; t += 1)
                                    point_pool.release(e.v[t]),
                                        point_pool.release(e.i[t]),
                                        point_pool.release(e.o[t]),
                                        (e.v[t] = null),
                                        (e.i[t] = null),
                                        (e.o[t] = null);
                                (e._length = 0), (e.c = !1);
                            }
                        );
                        return (
                            (e.clone = function (t) {
                                var r,
                                    n = e.newElement(),
                                    a =
                                        void 0 === t._length
                                            ? t.v.length
                                            : t._length;
                                for (
                                    n.setLength(a), n.c = t.c, r = 0;
                                    r < a;
                                    r += 1
                                )
                                    n.setTripleAt(
                                        t.v[r][0],
                                        t.v[r][1],
                                        t.o[r][0],
                                        t.o[r][1],
                                        t.i[r][0],
                                        t.i[r][1],
                                        r
                                    );
                                return n;
                            }),
                            e
                        );
                    })(),
                    shapeCollection_pool = (function () {
                        var e = {
                                newShapeCollection: function () {
                                    return t
                                        ? n[(t -= 1)]
                                        : new ShapeCollection();
                                },
                                release: function (e) {
                                    var a,
                                        i = e._length;
                                    for (a = 0; a < i; a += 1)
                                        shape_pool.release(e.shapes[a]);
                                    (e._length = 0),
                                        t === r &&
                                            ((n = pooling.double(n)), (r *= 2)),
                                        (n[t] = e),
                                        (t += 1);
                                },
                            },
                            t = 0,
                            r = 4,
                            n = createSizedArray(r);
                        return e;
                    })(),
                    segments_length_pool = (function () {
                        return pool_factory(
                            8,
                            function () {
                                return { lengths: [], totalLength: 0 };
                            },
                            function (e) {
                                var t,
                                    r = e.lengths.length;
                                for (t = 0; t < r; t += 1)
                                    bezier_length_pool.release(e.lengths[t]);
                                e.lengths.length = 0;
                            }
                        );
                    })(),
                    bezier_length_pool = (function () {
                        return pool_factory(8, function () {
                            return {
                                addedLength: 0,
                                percents: createTypedArray(
                                    "float32",
                                    defaultCurveSegments
                                ),
                                lengths: createTypedArray(
                                    "float32",
                                    defaultCurveSegments
                                ),
                            };
                        });
                    })();
                (BaseRenderer.prototype.checkLayers = function (e) {
                    var t,
                        r,
                        n = this.layers.length;
                    for (this.completeLayers = !0, t = n - 1; t >= 0; t--)
                        this.elements[t] ||
                            ((r = this.layers[t]).ip - r.st <=
                                e - this.layers[t].st &&
                                r.op - r.st > e - this.layers[t].st &&
                                this.buildItem(t)),
                            (this.completeLayers =
                                !!this.elements[t] && this.completeLayers);
                    this.checkPendingElements();
                }),
                    (BaseRenderer.prototype.createItem = function (e) {
                        switch (e.ty) {
                            case 2:
                                return this.createImage(e);
                            case 0:
                                return this.createComp(e);
                            case 1:
                                return this.createSolid(e);
                            case 3:
                                return this.createNull(e);
                            case 4:
                                return this.createShape(e);
                            case 5:
                                return this.createText(e);
                            case 6:
                                return this.createAudio(e);
                            case 13:
                                return this.createCamera(e);
                        }
                        return this.createNull(e);
                    }),
                    (BaseRenderer.prototype.createCamera = function () {
                        throw new Error(
                            "You're using a 3d camera. Try the html renderer."
                        );
                    }),
                    (BaseRenderer.prototype.createAudio = function (e) {
                        return new AudioElement(e, this.globalData, this);
                    }),
                    (BaseRenderer.prototype.buildAllItems = function () {
                        var e,
                            t = this.layers.length;
                        for (e = 0; e < t; e += 1) this.buildItem(e);
                        this.checkPendingElements();
                    }),
                    (BaseRenderer.prototype.includeLayers = function (e) {
                        this.completeLayers = !1;
                        var t,
                            r,
                            n = e.length,
                            a = this.layers.length;
                        for (t = 0; t < n; t += 1)
                            for (r = 0; r < a; ) {
                                if (this.layers[r].id == e[t].id) {
                                    this.layers[r] = e[t];
                                    break;
                                }
                                r += 1;
                            }
                    }),
                    (BaseRenderer.prototype.setProjectInterface = function (e) {
                        this.globalData.projectInterface = e;
                    }),
                    (BaseRenderer.prototype.initItems = function () {
                        this.globalData.progressiveLoad || this.buildAllItems();
                    }),
                    (BaseRenderer.prototype.buildElementParenting = function (
                        e,
                        t,
                        r
                    ) {
                        for (
                            var n = this.elements,
                                a = this.layers,
                                i = 0,
                                o = a.length;
                            i < o;

                        )
                            a[i].ind == t &&
                                (n[i] && !0 !== n[i]
                                    ? (r.push(n[i]),
                                      n[i].setAsParent(),
                                      void 0 !== a[i].parent
                                          ? this.buildElementParenting(
                                                e,
                                                a[i].parent,
                                                r
                                            )
                                          : e.setHierarchy(r))
                                    : (this.buildItem(i),
                                      this.addPendingElement(e))),
                                (i += 1);
                    }),
                    (BaseRenderer.prototype.addPendingElement = function (e) {
                        this.pendingElements.push(e);
                    }),
                    (BaseRenderer.prototype.searchExtraCompositions = function (
                        e
                    ) {
                        var t,
                            r = e.length;
                        for (t = 0; t < r; t += 1)
                            if (e[t].xt) {
                                var n = this.createComp(e[t]);
                                n.initExpressions(),
                                    this.globalData.projectInterface.registerComposition(
                                        n
                                    );
                            }
                    }),
                    (BaseRenderer.prototype.setupGlobalData = function (e, t) {
                        (this.globalData.fontManager = new FontManager()),
                            this.globalData.fontManager.addChars(e.chars),
                            this.globalData.fontManager.addFonts(e.fonts, t),
                            (this.globalData.getAssetData = this.animationItem.getAssetData.bind(
                                this.animationItem
                            )),
                            (this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(
                                this.animationItem
                            )),
                            (this.globalData.imageLoader = this.animationItem.imagePreloader),
                            (this.globalData.audioController = this.animationItem.audioController),
                            (this.globalData.frameId = 0),
                            (this.globalData.frameRate = e.fr),
                            (this.globalData.nm = e.nm),
                            (this.globalData.compSize = { w: e.w, h: e.h });
                    }),
                    extendPrototype([BaseRenderer], SVGRenderer),
                    (SVGRenderer.prototype.createNull = function (e) {
                        return new NullElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.createShape = function (e) {
                        return new SVGShapeElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.createText = function (e) {
                        return new SVGTextElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.createImage = function (e) {
                        return new IImageElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.createComp = function (e) {
                        return new SVGCompElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.createSolid = function (e) {
                        return new ISolidElement(e, this.globalData, this);
                    }),
                    (SVGRenderer.prototype.configAnimation = function (e) {
                        this.svgElement.setAttribute(
                            "xmlns",
                            "http://www.w3.org/2000/svg"
                        ),
                            this.renderConfig.viewBoxSize
                                ? this.svgElement.setAttribute(
                                      "viewBox",
                                      this.renderConfig.viewBoxSize
                                  )
                                : this.svgElement.setAttribute(
                                      "viewBox",
                                      "0 0 " + e.w + " " + e.h
                                  ),
                            this.renderConfig.viewBoxOnly ||
                                (this.svgElement.setAttribute("width", e.w),
                                this.svgElement.setAttribute("height", e.h),
                                (this.svgElement.style.width = "100%"),
                                (this.svgElement.style.height = "100%"),
                                (this.svgElement.style.transform =
                                    "translate3d(0,0,0)")),
                            this.renderConfig.className &&
                                this.svgElement.setAttribute(
                                    "class",
                                    this.renderConfig.className
                                ),
                            this.renderConfig.id &&
                                this.svgElement.setAttribute(
                                    "id",
                                    this.renderConfig.id
                                ),
                            void 0 !== this.renderConfig.focusable &&
                                this.svgElement.setAttribute(
                                    "focusable",
                                    this.renderConfig.focusable
                                ),
                            this.svgElement.setAttribute(
                                "preserveAspectRatio",
                                this.renderConfig.preserveAspectRatio
                            ),
                            this.animationItem.wrapper.appendChild(
                                this.svgElement
                            );
                        var t = this.globalData.defs;
                        this.setupGlobalData(e, t),
                            (this.globalData.progressiveLoad = this.renderConfig.progressiveLoad),
                            (this.data = e);
                        var r = createNS("clipPath"),
                            n = createNS("rect");
                        n.setAttribute("width", e.w),
                            n.setAttribute("height", e.h),
                            n.setAttribute("x", 0),
                            n.setAttribute("y", 0);
                        var a = createElementID();
                        r.setAttribute("id", a),
                            r.appendChild(n),
                            this.layerElement.setAttribute(
                                "clip-path",
                                "url(" + locationHref + "#" + a + ")"
                            ),
                            t.appendChild(r),
                            (this.layers = e.layers),
                            (this.elements = createSizedArray(e.layers.length));
                    }),
                    (SVGRenderer.prototype.destroy = function () {
                        this.animationItem.wrapper &&
                            (this.animationItem.wrapper.innerText = ""),
                            (this.layerElement = null),
                            (this.globalData.defs = null);
                        var e,
                            t = this.layers ? this.layers.length : 0;
                        for (e = 0; e < t; e++)
                            this.elements[e] && this.elements[e].destroy();
                        (this.elements.length = 0),
                            (this.destroyed = !0),
                            (this.animationItem = null);
                    }),
                    (SVGRenderer.prototype.updateContainerSize = function () {}),
                    (SVGRenderer.prototype.buildItem = function (e) {
                        var t = this.elements;
                        if (!t[e] && 99 != this.layers[e].ty) {
                            t[e] = !0;
                            var r = this.createItem(this.layers[e]);
                            (t[e] = r),
                                expressionsPlugin &&
                                    (0 === this.layers[e].ty &&
                                        this.globalData.projectInterface.registerComposition(
                                            r
                                        ),
                                    r.initExpressions()),
                                this.appendElementInPos(r, e),
                                this.layers[e].tt &&
                                    (this.elements[e - 1] &&
                                    !0 !== this.elements[e - 1]
                                        ? r.setMatte(t[e - 1].layerId)
                                        : (this.buildItem(e - 1),
                                          this.addPendingElement(r)));
                        }
                    }),
                    (SVGRenderer.prototype.checkPendingElements = function () {
                        for (; this.pendingElements.length; ) {
                            var e = this.pendingElements.pop();
                            if ((e.checkParenting(), e.data.tt))
                                for (
                                    var t = 0, r = this.elements.length;
                                    t < r;

                                ) {
                                    if (this.elements[t] === e) {
                                        e.setMatte(
                                            this.elements[t - 1].layerId
                                        );
                                        break;
                                    }
                                    t += 1;
                                }
                        }
                    }),
                    (SVGRenderer.prototype.renderFrame = function (e) {
                        if (this.renderedFrame !== e && !this.destroyed) {
                            null === e
                                ? (e = this.renderedFrame)
                                : (this.renderedFrame = e),
                                (this.globalData.frameNum = e),
                                (this.globalData.frameId += 1),
                                (this.globalData.projectInterface.currentFrame = e),
                                (this.globalData._mdf = !1);
                            var t,
                                r = this.layers.length;
                            for (
                                this.completeLayers || this.checkLayers(e),
                                    t = r - 1;
                                t >= 0;
                                t--
                            )
                                (this.completeLayers || this.elements[t]) &&
                                    this.elements[t].prepareFrame(
                                        e - this.layers[t].st
                                    );
                            if (this.globalData._mdf)
                                for (t = 0; t < r; t += 1)
                                    (this.completeLayers || this.elements[t]) &&
                                        this.elements[t].renderFrame();
                        }
                    }),
                    (SVGRenderer.prototype.appendElementInPos = function (
                        e,
                        t
                    ) {
                        var r = e.getBaseElement();
                        if (r) {
                            for (var n, a = 0; a < t; )
                                this.elements[a] &&
                                    !0 !== this.elements[a] &&
                                    this.elements[a].getBaseElement() &&
                                    (n = this.elements[a].getBaseElement()),
                                    (a += 1);
                            n
                                ? this.layerElement.insertBefore(r, n)
                                : this.layerElement.appendChild(r);
                        }
                    }),
                    (SVGRenderer.prototype.hide = function () {
                        this.layerElement.style.display = "none";
                    }),
                    (SVGRenderer.prototype.show = function () {
                        this.layerElement.style.display = "block";
                    }),
                    extendPrototype([BaseRenderer], CanvasRenderer),
                    (CanvasRenderer.prototype.createShape = function (e) {
                        return new CVShapeElement(e, this.globalData, this);
                    }),
                    (CanvasRenderer.prototype.createText = function (e) {
                        return new CVTextElement(e, this.globalData, this);
                    }),
                    (CanvasRenderer.prototype.createImage = function (e) {
                        return new CVImageElement(e, this.globalData, this);
                    }),
                    (CanvasRenderer.prototype.createComp = function (e) {
                        return new CVCompElement(e, this.globalData, this);
                    }),
                    (CanvasRenderer.prototype.createSolid = function (e) {
                        return new CVSolidElement(e, this.globalData, this);
                    }),
                    (CanvasRenderer.prototype.createNull =
                        SVGRenderer.prototype.createNull),
                    (CanvasRenderer.prototype.ctxTransform = function (e) {
                        if (
                            1 !== e[0] ||
                            0 !== e[1] ||
                            0 !== e[4] ||
                            1 !== e[5] ||
                            0 !== e[12] ||
                            0 !== e[13]
                        )
                            if (this.renderConfig.clearCanvas) {
                                this.transformMat.cloneFromProps(e);
                                var t = this.contextData.cTr.props;
                                this.transformMat.transform(
                                    t[0],
                                    t[1],
                                    t[2],
                                    t[3],
                                    t[4],
                                    t[5],
                                    t[6],
                                    t[7],
                                    t[8],
                                    t[9],
                                    t[10],
                                    t[11],
                                    t[12],
                                    t[13],
                                    t[14],
                                    t[15]
                                ),
                                    this.contextData.cTr.cloneFromProps(
                                        this.transformMat.props
                                    );
                                var r = this.contextData.cTr.props;
                                this.canvasContext.setTransform(
                                    r[0],
                                    r[1],
                                    r[4],
                                    r[5],
                                    r[12],
                                    r[13]
                                );
                            } else
                                this.canvasContext.transform(
                                    e[0],
                                    e[1],
                                    e[4],
                                    e[5],
                                    e[12],
                                    e[13]
                                );
                    }),
                    (CanvasRenderer.prototype.ctxOpacity = function (e) {
                        if (!this.renderConfig.clearCanvas)
                            return (
                                (this.canvasContext.globalAlpha *=
                                    e < 0 ? 0 : e),
                                void (this.globalData.currentGlobalAlpha = this.contextData.cO)
                            );
                        (this.contextData.cO *= e < 0 ? 0 : e),
                            this.globalData.currentGlobalAlpha !==
                                this.contextData.cO &&
                                ((this.canvasContext.globalAlpha = this.contextData.cO),
                                (this.globalData.currentGlobalAlpha = this.contextData.cO));
                    }),
                    (CanvasRenderer.prototype.reset = function () {
                        this.renderConfig.clearCanvas
                            ? this.contextData.reset()
                            : this.canvasContext.restore();
                    }),
                    (CanvasRenderer.prototype.save = function (e) {
                        if (this.renderConfig.clearCanvas) {
                            e && this.canvasContext.save();
                            var t = this.contextData.cTr.props;
                            this.contextData._length <=
                                this.contextData.cArrPos &&
                                this.contextData.duplicate();
                            var r,
                                n = this.contextData.saved[
                                    this.contextData.cArrPos
                                ];
                            for (r = 0; r < 16; r += 1) n[r] = t[r];
                            (this.contextData.savedOp[
                                this.contextData.cArrPos
                            ] = this.contextData.cO),
                                (this.contextData.cArrPos += 1);
                        } else this.canvasContext.save();
                    }),
                    (CanvasRenderer.prototype.restore = function (e) {
                        if (this.renderConfig.clearCanvas) {
                            e &&
                                (this.canvasContext.restore(),
                                (this.globalData.blendMode = "source-over")),
                                (this.contextData.cArrPos -= 1);
                            var t,
                                r = this.contextData.saved[
                                    this.contextData.cArrPos
                                ],
                                n = this.contextData.cTr.props;
                            for (t = 0; t < 16; t += 1) n[t] = r[t];
                            this.canvasContext.setTransform(
                                r[0],
                                r[1],
                                r[4],
                                r[5],
                                r[12],
                                r[13]
                            ),
                                (r = this.contextData.savedOp[
                                    this.contextData.cArrPos
                                ]),
                                (this.contextData.cO = r),
                                this.globalData.currentGlobalAlpha !== r &&
                                    ((this.canvasContext.globalAlpha = r),
                                    (this.globalData.currentGlobalAlpha = r));
                        } else this.canvasContext.restore();
                    }),
                    (CanvasRenderer.prototype.configAnimation = function (e) {
                        this.animationItem.wrapper
                            ? ((this.animationItem.container = createTag(
                                  "canvas"
                              )),
                              (this.animationItem.container.style.width =
                                  "100%"),
                              (this.animationItem.container.style.height =
                                  "100%"),
                              (this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style[
                                  "-webkit-transform"
                              ] = "0px 0px 0px"),
                              this.animationItem.wrapper.appendChild(
                                  this.animationItem.container
                              ),
                              (this.canvasContext = this.animationItem.container.getContext(
                                  "2d"
                              )),
                              this.renderConfig.className &&
                                  this.animationItem.container.setAttribute(
                                      "class",
                                      this.renderConfig.className
                                  ),
                              this.renderConfig.id &&
                                  this.animationItem.container.setAttribute(
                                      "id",
                                      this.renderConfig.id
                                  ))
                            : (this.canvasContext = this.renderConfig.context),
                            (this.data = e),
                            (this.layers = e.layers),
                            (this.transformCanvas = {
                                w: e.w,
                                h: e.h,
                                sx: 0,
                                sy: 0,
                                tx: 0,
                                ty: 0,
                            }),
                            this.setupGlobalData(e, document.body),
                            (this.globalData.canvasContext = this.canvasContext),
                            (this.globalData.renderer = this),
                            (this.globalData.isDashed = !1),
                            (this.globalData.progressiveLoad = this.renderConfig.progressiveLoad),
                            (this.globalData.transformCanvas = this.transformCanvas),
                            (this.elements = createSizedArray(e.layers.length)),
                            this.updateContainerSize();
                    }),
                    (CanvasRenderer.prototype.updateContainerSize = function () {
                        this.reset();
                        var e, t;
                        this.animationItem.wrapper &&
                        this.animationItem.container
                            ? ((e = this.animationItem.wrapper.offsetWidth),
                              (t = this.animationItem.wrapper.offsetHeight),
                              this.animationItem.container.setAttribute(
                                  "width",
                                  e * this.renderConfig.dpr
                              ),
                              this.animationItem.container.setAttribute(
                                  "height",
                                  t * this.renderConfig.dpr
                              ))
                            : ((e =
                                  this.canvasContext.canvas.width *
                                  this.renderConfig.dpr),
                              (t =
                                  this.canvasContext.canvas.height *
                                  this.renderConfig.dpr));
                        var r, n;
                        if (
                            -1 !==
                                this.renderConfig.preserveAspectRatio.indexOf(
                                    "meet"
                                ) ||
                            -1 !==
                                this.renderConfig.preserveAspectRatio.indexOf(
                                    "slice"
                                )
                        ) {
                            var a = this.renderConfig.preserveAspectRatio.split(
                                    " "
                                ),
                                i = a[1] || "meet",
                                o = a[0] || "xMidYMid",
                                s = o.substr(0, 4),
                                l = o.substr(4);
                            (r = e / t),
                                ((n =
                                    this.transformCanvas.w /
                                    this.transformCanvas.h) > r &&
                                    "meet" === i) ||
                                (n < r && "slice" === i)
                                    ? ((this.transformCanvas.sx =
                                          e /
                                          (this.transformCanvas.w /
                                              this.renderConfig.dpr)),
                                      (this.transformCanvas.sy =
                                          e /
                                          (this.transformCanvas.w /
                                              this.renderConfig.dpr)))
                                    : ((this.transformCanvas.sx =
                                          t /
                                          (this.transformCanvas.h /
                                              this.renderConfig.dpr)),
                                      (this.transformCanvas.sy =
                                          t /
                                          (this.transformCanvas.h /
                                              this.renderConfig.dpr))),
                                (this.transformCanvas.tx =
                                    "xMid" === s &&
                                    ((n < r && "meet" === i) ||
                                        (n > r && "slice" === i))
                                        ? ((e -
                                              this.transformCanvas.w *
                                                  (t /
                                                      this.transformCanvas.h)) /
                                              2) *
                                          this.renderConfig.dpr
                                        : "xMax" === s &&
                                          ((n < r && "meet" === i) ||
                                              (n > r && "slice" === i))
                                        ? (e -
                                              this.transformCanvas.w *
                                                  (t /
                                                      this.transformCanvas.h)) *
                                          this.renderConfig.dpr
                                        : 0),
                                (this.transformCanvas.ty =
                                    "YMid" === l &&
                                    ((n > r && "meet" === i) ||
                                        (n < r && "slice" === i))
                                        ? ((t -
                                              this.transformCanvas.h *
                                                  (e /
                                                      this.transformCanvas.w)) /
                                              2) *
                                          this.renderConfig.dpr
                                        : "YMax" === l &&
                                          ((n > r && "meet" === i) ||
                                              (n < r && "slice" === i))
                                        ? (t -
                                              this.transformCanvas.h *
                                                  (e /
                                                      this.transformCanvas.w)) *
                                          this.renderConfig.dpr
                                        : 0);
                        } else
                            "none" == this.renderConfig.preserveAspectRatio
                                ? ((this.transformCanvas.sx =
                                      e /
                                      (this.transformCanvas.w /
                                          this.renderConfig.dpr)),
                                  (this.transformCanvas.sy =
                                      t /
                                      (this.transformCanvas.h /
                                          this.renderConfig.dpr)),
                                  (this.transformCanvas.tx = 0),
                                  (this.transformCanvas.ty = 0))
                                : ((this.transformCanvas.sx = this.renderConfig.dpr),
                                  (this.transformCanvas.sy = this.renderConfig.dpr),
                                  (this.transformCanvas.tx = 0),
                                  (this.transformCanvas.ty = 0));
                        (this.transformCanvas.props = [
                            this.transformCanvas.sx,
                            0,
                            0,
                            0,
                            0,
                            this.transformCanvas.sy,
                            0,
                            0,
                            0,
                            0,
                            1,
                            0,
                            this.transformCanvas.tx,
                            this.transformCanvas.ty,
                            0,
                            1,
                        ]),
                            this.ctxTransform(this.transformCanvas.props),
                            this.canvasContext.beginPath(),
                            this.canvasContext.rect(
                                0,
                                0,
                                this.transformCanvas.w,
                                this.transformCanvas.h
                            ),
                            this.canvasContext.closePath(),
                            this.canvasContext.clip(),
                            this.renderFrame(this.renderedFrame, !0);
                    }),
                    (CanvasRenderer.prototype.destroy = function () {
                        this.renderConfig.clearCanvas &&
                            this.animationItem.wrapper &&
                            (this.animationItem.wrapper.innerText = "");
                        var e;
                        for (
                            e = (this.layers ? this.layers.length : 0) - 1;
                            e >= 0;
                            e -= 1
                        )
                            this.elements[e] && this.elements[e].destroy();
                        (this.elements.length = 0),
                            (this.globalData.canvasContext = null),
                            (this.animationItem.container = null),
                            (this.destroyed = !0);
                    }),
                    (CanvasRenderer.prototype.renderFrame = function (e, t) {
                        if (
                            (this.renderedFrame !== e ||
                                !0 !== this.renderConfig.clearCanvas ||
                                t) &&
                            !this.destroyed &&
                            -1 !== e
                        ) {
                            (this.renderedFrame = e),
                                (this.globalData.frameNum =
                                    e - this.animationItem._isFirstFrame),
                                (this.globalData.frameId += 1),
                                (this.globalData._mdf =
                                    !this.renderConfig.clearCanvas || t),
                                (this.globalData.projectInterface.currentFrame = e);
                            var r,
                                n = this.layers.length;
                            for (
                                this.completeLayers || this.checkLayers(e),
                                    r = 0;
                                r < n;
                                r++
                            )
                                (this.completeLayers || this.elements[r]) &&
                                    this.elements[r].prepareFrame(
                                        e - this.layers[r].st
                                    );
                            if (this.globalData._mdf) {
                                for (
                                    !0 === this.renderConfig.clearCanvas
                                        ? this.canvasContext.clearRect(
                                              0,
                                              0,
                                              this.transformCanvas.w,
                                              this.transformCanvas.h
                                          )
                                        : this.save(),
                                        r = n - 1;
                                    r >= 0;
                                    r -= 1
                                )
                                    (this.completeLayers || this.elements[r]) &&
                                        this.elements[r].renderFrame();
                                !0 !== this.renderConfig.clearCanvas &&
                                    this.restore();
                            }
                        }
                    }),
                    (CanvasRenderer.prototype.buildItem = function (e) {
                        var t = this.elements;
                        if (!t[e] && 99 != this.layers[e].ty) {
                            var r = this.createItem(
                                this.layers[e],
                                this,
                                this.globalData
                            );
                            (t[e] = r), r.initExpressions();
                        }
                    }),
                    (CanvasRenderer.prototype.checkPendingElements = function () {
                        for (; this.pendingElements.length; ) {
                            this.pendingElements.pop().checkParenting();
                        }
                    }),
                    (CanvasRenderer.prototype.hide = function () {
                        this.animationItem.container.style.display = "none";
                    }),
                    (CanvasRenderer.prototype.show = function () {
                        this.animationItem.container.style.display = "block";
                    }),
                    extendPrototype([BaseRenderer], HybridRenderer),
                    (HybridRenderer.prototype.buildItem =
                        SVGRenderer.prototype.buildItem),
                    (HybridRenderer.prototype.checkPendingElements = function () {
                        for (; this.pendingElements.length; ) {
                            this.pendingElements.pop().checkParenting();
                        }
                    }),
                    (HybridRenderer.prototype.appendElementInPos = function (
                        e,
                        t
                    ) {
                        var r = e.getBaseElement();
                        if (r) {
                            var n = this.layers[t];
                            if (n.ddd && this.supports3d)
                                this.addTo3dContainer(r, t);
                            else if (this.threeDElements)
                                this.addTo3dContainer(r, t);
                            else {
                                for (var a, i, o = 0; o < t; )
                                    this.elements[o] &&
                                        !0 !== this.elements[o] &&
                                        this.elements[o].getBaseElement &&
                                        ((i = this.elements[o]),
                                        (a =
                                            (this.layers[o].ddd
                                                ? this.getThreeDContainerByPos(
                                                      o
                                                  )
                                                : i.getBaseElement()) || a)),
                                        (o += 1);
                                a
                                    ? (n.ddd && this.supports3d) ||
                                      this.layerElement.insertBefore(r, a)
                                    : (n.ddd && this.supports3d) ||
                                      this.layerElement.appendChild(r);
                            }
                        }
                    }),
                    (HybridRenderer.prototype.createShape = function (e) {
                        return this.supports3d
                            ? new HShapeElement(e, this.globalData, this)
                            : new SVGShapeElement(e, this.globalData, this);
                    }),
                    (HybridRenderer.prototype.createText = function (e) {
                        return this.supports3d
                            ? new HTextElement(e, this.globalData, this)
                            : new SVGTextElement(e, this.globalData, this);
                    }),
                    (HybridRenderer.prototype.createCamera = function (e) {
                        return (
                            (this.camera = new HCameraElement(
                                e,
                                this.globalData,
                                this
                            )),
                            this.camera
                        );
                    }),
                    (HybridRenderer.prototype.createImage = function (e) {
                        return this.supports3d
                            ? new HImageElement(e, this.globalData, this)
                            : new IImageElement(e, this.globalData, this);
                    }),
                    (HybridRenderer.prototype.createComp = function (e) {
                        return this.supports3d
                            ? new HCompElement(e, this.globalData, this)
                            : new SVGCompElement(e, this.globalData, this);
                    }),
                    (HybridRenderer.prototype.createSolid = function (e) {
                        return this.supports3d
                            ? new HSolidElement(e, this.globalData, this)
                            : new ISolidElement(e, this.globalData, this);
                    }),
                    (HybridRenderer.prototype.createNull =
                        SVGRenderer.prototype.createNull),
                    (HybridRenderer.prototype.getThreeDContainerByPos = function (
                        e
                    ) {
                        for (
                            var t = 0, r = this.threeDElements.length;
                            t < r;

                        ) {
                            if (
                                this.threeDElements[t].startPos <= e &&
                                this.threeDElements[t].endPos >= e
                            )
                                return this.threeDElements[t].perspectiveElem;
                            t += 1;
                        }
                    }),
                    (HybridRenderer.prototype.createThreeDContainer = function (
                        e,
                        t
                    ) {
                        var r = createTag("div");
                        styleDiv(r);
                        var n = createTag("div");
                        styleDiv(n),
                            "3d" === t &&
                                ((r.style.width =
                                    this.globalData.compSize.w + "px"),
                                (r.style.height =
                                    this.globalData.compSize.h + "px"),
                                (r.style.transformOrigin = r.style.mozTransformOrigin = r.style.webkitTransformOrigin =
                                    "50% 50%"),
                                (n.style.transform = n.style.webkitTransform =
                                    "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")),
                            r.appendChild(n);
                        var a = {
                            container: n,
                            perspectiveElem: r,
                            startPos: e,
                            endPos: e,
                            type: t,
                        };
                        return this.threeDElements.push(a), a;
                    }),
                    (HybridRenderer.prototype.build3dContainers = function () {
                        var e,
                            t,
                            r = this.layers.length,
                            n = "";
                        for (e = 0; e < r; e += 1)
                            this.layers[e].ddd && 3 !== this.layers[e].ty
                                ? ("3d" !== n &&
                                      ((n = "3d"),
                                      (t = this.createThreeDContainer(
                                          e,
                                          "3d"
                                      ))),
                                  (t.endPos = Math.max(t.endPos, e)))
                                : ("2d" !== n &&
                                      ((n = "2d"),
                                      (t = this.createThreeDContainer(
                                          e,
                                          "2d"
                                      ))),
                                  (t.endPos = Math.max(t.endPos, e)));
                        for (
                            e = (r = this.threeDElements.length) - 1;
                            e >= 0;
                            e--
                        )
                            this.resizerElem.appendChild(
                                this.threeDElements[e].perspectiveElem
                            );
                    }),
                    (HybridRenderer.prototype.addTo3dContainer = function (
                        e,
                        t
                    ) {
                        for (
                            var r = 0, n = this.threeDElements.length;
                            r < n;

                        ) {
                            if (t <= this.threeDElements[r].endPos) {
                                for (
                                    var a, i = this.threeDElements[r].startPos;
                                    i < t;

                                )
                                    this.elements[i] &&
                                        this.elements[i].getBaseElement &&
                                        (a = this.elements[i].getBaseElement()),
                                        (i += 1);
                                a
                                    ? this.threeDElements[
                                          r
                                      ].container.insertBefore(e, a)
                                    : this.threeDElements[
                                          r
                                      ].container.appendChild(e);
                                break;
                            }
                            r += 1;
                        }
                    }),
                    (HybridRenderer.prototype.configAnimation = function (e) {
                        var t = createTag("div"),
                            r = this.animationItem.wrapper;
                        (t.style.width = e.w + "px"),
                            (t.style.height = e.h + "px"),
                            (this.resizerElem = t),
                            styleDiv(t),
                            (t.style.transformStyle = t.style.webkitTransformStyle = t.style.mozTransformStyle =
                                "flat"),
                            this.renderConfig.className &&
                                t.setAttribute(
                                    "class",
                                    this.renderConfig.className
                                ),
                            r.appendChild(t),
                            (t.style.overflow = "hidden");
                        var n = createNS("svg");
                        n.setAttribute("width", "1"),
                            n.setAttribute("height", "1"),
                            styleDiv(n),
                            this.resizerElem.appendChild(n);
                        var a = createNS("defs");
                        n.appendChild(a),
                            (this.data = e),
                            this.setupGlobalData(e, n),
                            (this.globalData.defs = a),
                            (this.layers = e.layers),
                            (this.layerElement = this.resizerElem),
                            this.build3dContainers(),
                            this.updateContainerSize();
                    }),
                    (HybridRenderer.prototype.destroy = function () {
                        this.animationItem.wrapper &&
                            (this.animationItem.wrapper.innerText = ""),
                            (this.animationItem.container = null),
                            (this.globalData.defs = null);
                        var e,
                            t = this.layers ? this.layers.length : 0;
                        for (e = 0; e < t; e++) this.elements[e].destroy();
                        (this.elements.length = 0),
                            (this.destroyed = !0),
                            (this.animationItem = null);
                    }),
                    (HybridRenderer.prototype.updateContainerSize = function () {
                        var e,
                            t,
                            r,
                            n,
                            a = this.animationItem.wrapper.offsetWidth,
                            i = this.animationItem.wrapper.offsetHeight,
                            o = a / i;
                        this.globalData.compSize.w /
                            this.globalData.compSize.h >
                        o
                            ? ((e = a / this.globalData.compSize.w),
                              (t = a / this.globalData.compSize.w),
                              (r = 0),
                              (n =
                                  (i -
                                      this.globalData.compSize.h *
                                          (a / this.globalData.compSize.w)) /
                                  2))
                            : ((e = i / this.globalData.compSize.h),
                              (t = i / this.globalData.compSize.h),
                              (r =
                                  (a -
                                      this.globalData.compSize.w *
                                          (i / this.globalData.compSize.h)) /
                                  2),
                              (n = 0)),
                            (this.resizerElem.style.transform = this.resizerElem.style.webkitTransform =
                                "matrix3d(" +
                                e +
                                ",0,0,0,0," +
                                t +
                                ",0,0,0,0,1,0," +
                                r +
                                "," +
                                n +
                                ",0,1)");
                    }),
                    (HybridRenderer.prototype.renderFrame =
                        SVGRenderer.prototype.renderFrame),
                    (HybridRenderer.prototype.hide = function () {
                        this.resizerElem.style.display = "none";
                    }),
                    (HybridRenderer.prototype.show = function () {
                        this.resizerElem.style.display = "block";
                    }),
                    (HybridRenderer.prototype.initItems = function () {
                        if ((this.buildAllItems(), this.camera))
                            this.camera.setup();
                        else {
                            var e,
                                t = this.globalData.compSize.w,
                                r = this.globalData.compSize.h,
                                n = this.threeDElements.length;
                            for (e = 0; e < n; e += 1)
                                this.threeDElements[
                                    e
                                ].perspectiveElem.style.perspective = this.threeDElements[
                                    e
                                ].perspectiveElem.style.webkitPerspective =
                                    Math.sqrt(Math.pow(t, 2) + Math.pow(r, 2)) +
                                    "px";
                        }
                    }),
                    (HybridRenderer.prototype.searchExtraCompositions = function (
                        e
                    ) {
                        var t,
                            r = e.length,
                            n = createTag("div");
                        for (t = 0; t < r; t += 1)
                            if (e[t].xt) {
                                var a = this.createComp(
                                    e[t],
                                    n,
                                    this.globalData.comp,
                                    null
                                );
                                a.initExpressions(),
                                    this.globalData.projectInterface.registerComposition(
                                        a
                                    );
                            }
                    }),
                    (MaskElement.prototype.getMaskProperty = function (e) {
                        return this.viewData[e].prop;
                    }),
                    (MaskElement.prototype.renderFrame = function (e) {
                        var t,
                            r = this.element.finalTransform.mat,
                            n = this.masksProperties.length;
                        for (t = 0; t < n; t++)
                            if (
                                ((this.viewData[t].prop._mdf || e) &&
                                    this.drawPath(
                                        this.masksProperties[t],
                                        this.viewData[t].prop.v,
                                        this.viewData[t]
                                    ),
                                (this.viewData[t].op._mdf || e) &&
                                    this.viewData[t].elem.setAttribute(
                                        "fill-opacity",
                                        this.viewData[t].op.v
                                    ),
                                "n" !== this.masksProperties[t].mode &&
                                    (this.viewData[t].invRect &&
                                        (this.element.finalTransform.mProp
                                            ._mdf ||
                                            e) &&
                                        this.viewData[t].invRect.setAttribute(
                                            "transform",
                                            r.getInverseMatrix().to2dCSS()
                                        ),
                                    this.storedData[t].x &&
                                        (this.storedData[t].x._mdf || e)))
                            ) {
                                var a = this.storedData[t].expan;
                                this.storedData[t].x.v < 0
                                    ? ("erode" !==
                                          this.storedData[t].lastOperator &&
                                          ((this.storedData[t].lastOperator =
                                              "erode"),
                                          this.storedData[t].elem.setAttribute(
                                              "filter",
                                              "url(" +
                                                  locationHref +
                                                  "#" +
                                                  this.storedData[t].filterId +
                                                  ")"
                                          )),
                                      a.setAttribute(
                                          "radius",
                                          -this.storedData[t].x.v
                                      ))
                                    : ("dilate" !==
                                          this.storedData[t].lastOperator &&
                                          ((this.storedData[t].lastOperator =
                                              "dilate"),
                                          this.storedData[t].elem.setAttribute(
                                              "filter",
                                              null
                                          )),
                                      this.storedData[t].elem.setAttribute(
                                          "stroke-width",
                                          2 * this.storedData[t].x.v
                                      ));
                            }
                    }),
                    (MaskElement.prototype.getMaskelement = function () {
                        return this.maskElement;
                    }),
                    (MaskElement.prototype.createLayerSolidPath = function () {
                        var e = "M0,0 ";
                        return (
                            (e += " h" + this.globalData.compSize.w),
                            (e += " v" + this.globalData.compSize.h),
                            (e += " h-" + this.globalData.compSize.w),
                            (e += " v-" + this.globalData.compSize.h + " ")
                        );
                    }),
                    (MaskElement.prototype.drawPath = function (e, t, r) {
                        var n,
                            a,
                            i = " M" + t.v[0][0] + "," + t.v[0][1];
                        for (a = t._length, n = 1; n < a; n += 1)
                            i +=
                                " C" +
                                t.o[n - 1][0] +
                                "," +
                                t.o[n - 1][1] +
                                " " +
                                t.i[n][0] +
                                "," +
                                t.i[n][1] +
                                " " +
                                t.v[n][0] +
                                "," +
                                t.v[n][1];
                        if (
                            (t.c &&
                                a > 1 &&
                                (i +=
                                    " C" +
                                    t.o[n - 1][0] +
                                    "," +
                                    t.o[n - 1][1] +
                                    " " +
                                    t.i[0][0] +
                                    "," +
                                    t.i[0][1] +
                                    " " +
                                    t.v[0][0] +
                                    "," +
                                    t.v[0][1]),
                            r.lastPath !== i)
                        ) {
                            var o = "";
                            r.elem &&
                                (t.c && (o = e.inv ? this.solidPath + i : i),
                                r.elem.setAttribute("d", o)),
                                (r.lastPath = i);
                        }
                    }),
                    (MaskElement.prototype.destroy = function () {
                        (this.element = null),
                            (this.globalData = null),
                            (this.maskElement = null),
                            (this.data = null),
                            (this.masksProperties = null);
                    }),
                    (HierarchyElement.prototype = {
                        initHierarchy: function () {
                            (this.hierarchy = []),
                                (this._isParent = !1),
                                this.checkParenting();
                        },
                        setHierarchy: function (e) {
                            this.hierarchy = e;
                        },
                        setAsParent: function () {
                            this._isParent = !0;
                        },
                        checkParenting: function () {
                            void 0 !== this.data.parent &&
                                this.comp.buildElementParenting(
                                    this,
                                    this.data.parent,
                                    []
                                );
                        },
                    }),
                    (FrameElement.prototype = {
                        initFrame: function () {
                            (this._isFirstFrame = !1),
                                (this.dynamicProperties = []),
                                (this._mdf = !1);
                        },
                        prepareProperties: function (e, t) {
                            var r,
                                n = this.dynamicProperties.length;
                            for (r = 0; r < n; r += 1)
                                (t ||
                                    (this._isParent &&
                                        "transform" ===
                                            this.dynamicProperties[r]
                                                .propType)) &&
                                    (this.dynamicProperties[r].getValue(),
                                    this.dynamicProperties[r]._mdf &&
                                        ((this.globalData._mdf = !0),
                                        (this._mdf = !0)));
                        },
                        addDynamicProperty: function (e) {
                            -1 === this.dynamicProperties.indexOf(e) &&
                                this.dynamicProperties.push(e);
                        },
                    }),
                    (TransformElement.prototype = {
                        initTransform: function () {
                            (this.finalTransform = {
                                mProp: this.data.ks
                                    ? TransformPropertyFactory.getTransformProperty(
                                          this,
                                          this.data.ks,
                                          this
                                      )
                                    : { o: 0 },
                                _matMdf: !1,
                                _opMdf: !1,
                                mat: new Matrix(),
                            }),
                                this.data.ao &&
                                    (this.finalTransform.mProp.autoOriented = !0),
                                this.data.ty;
                        },
                        renderTransform: function () {
                            if (
                                ((this.finalTransform._opMdf =
                                    this.finalTransform.mProp.o._mdf ||
                                    this._isFirstFrame),
                                (this.finalTransform._matMdf =
                                    this.finalTransform.mProp._mdf ||
                                    this._isFirstFrame),
                                this.hierarchy)
                            ) {
                                var e,
                                    t = this.finalTransform.mat,
                                    r = 0,
                                    n = this.hierarchy.length;
                                if (!this.finalTransform._matMdf)
                                    for (; r < n; ) {
                                        if (
                                            this.hierarchy[r].finalTransform
                                                .mProp._mdf
                                        ) {
                                            this.finalTransform._matMdf = !0;
                                            break;
                                        }
                                        r += 1;
                                    }
                                if (this.finalTransform._matMdf)
                                    for (
                                        e = this.finalTransform.mProp.v.props,
                                            t.cloneFromProps(e),
                                            r = 0;
                                        r < n;
                                        r += 1
                                    )
                                        (e = this.hierarchy[r].finalTransform
                                            .mProp.v.props),
                                            t.transform(
                                                e[0],
                                                e[1],
                                                e[2],
                                                e[3],
                                                e[4],
                                                e[5],
                                                e[6],
                                                e[7],
                                                e[8],
                                                e[9],
                                                e[10],
                                                e[11],
                                                e[12],
                                                e[13],
                                                e[14],
                                                e[15]
                                            );
                            }
                        },
                        globalToLocal: function (e) {
                            var t = [];
                            t.push(this.finalTransform);
                            for (var r = !0, n = this.comp; r; )
                                n.finalTransform
                                    ? (n.data.hasMask &&
                                          t.splice(0, 0, n.finalTransform),
                                      (n = n.comp))
                                    : (r = !1);
                            var a,
                                i,
                                o = t.length;
                            for (a = 0; a < o; a += 1)
                                (i = t[a].mat.applyToPointArray(0, 0, 0)),
                                    (e = [e[0] - i[0], e[1] - i[1], 0]);
                            return e;
                        },
                        mHelper: new Matrix(),
                    }),
                    (RenderableElement.prototype = {
                        initRenderable: function () {
                            (this.isInRange = !1),
                                (this.hidden = !1),
                                (this.isTransparent = !1),
                                (this.renderableComponents = []);
                        },
                        addRenderableComponent: function (e) {
                            -1 === this.renderableComponents.indexOf(e) &&
                                this.renderableComponents.push(e);
                        },
                        removeRenderableComponent: function (e) {
                            -1 !== this.renderableComponents.indexOf(e) &&
                                this.renderableComponents.splice(
                                    this.renderableComponents.indexOf(e),
                                    1
                                );
                        },
                        prepareRenderableFrame: function (e) {
                            this.checkLayerLimits(e);
                        },
                        checkTransparency: function () {
                            this.finalTransform.mProp.o.v <= 0
                                ? !this.isTransparent &&
                                  this.globalData.renderConfig
                                      .hideOnTransparent &&
                                  ((this.isTransparent = !0), this.hide())
                                : this.isTransparent &&
                                  ((this.isTransparent = !1), this.show());
                        },
                        checkLayerLimits: function (e) {
                            this.data.ip - this.data.st <= e &&
                            this.data.op - this.data.st > e
                                ? !0 !== this.isInRange &&
                                  ((this.globalData._mdf = !0),
                                  (this._mdf = !0),
                                  (this.isInRange = !0),
                                  this.show())
                                : !1 !== this.isInRange &&
                                  ((this.globalData._mdf = !0),
                                  (this.isInRange = !1),
                                  this.hide());
                        },
                        renderRenderable: function () {
                            var e,
                                t = this.renderableComponents.length;
                            for (e = 0; e < t; e += 1)
                                this.renderableComponents[e].renderFrame(
                                    this._isFirstFrame
                                );
                        },
                        sourceRectAtTime: function () {
                            return { top: 0, left: 0, width: 100, height: 100 };
                        },
                        getLayerSize: function () {
                            return 5 === this.data.ty
                                ? {
                                      w: this.data.textData.width,
                                      h: this.data.textData.height,
                                  }
                                : { w: this.data.width, h: this.data.height };
                        },
                    }),
                    extendPrototype(
                        [
                            RenderableElement,
                            createProxyFunction({
                                initElement: function (e, t, r) {
                                    this.initFrame(),
                                        this.initBaseData(e, t, r),
                                        this.initTransform(e, t, r),
                                        this.initHierarchy(),
                                        this.initRenderable(),
                                        this.initRendererElement(),
                                        this.createContainerElements(),
                                        this.createRenderableComponents(),
                                        this.createContent(),
                                        this.hide();
                                },
                                hide: function () {
                                    this.hidden ||
                                        (this.isInRange &&
                                            !this.isTransparent) ||
                                        (((
                                            this.baseElement ||
                                            this.layerElement
                                        ).style.display = "none"),
                                        (this.hidden = !0));
                                },
                                show: function () {
                                    this.isInRange &&
                                        !this.isTransparent &&
                                        (this.data.hd ||
                                            ((
                                                this.baseElement ||
                                                this.layerElement
                                            ).style.display = "block"),
                                        (this.hidden = !1),
                                        (this._isFirstFrame = !0));
                                },
                                renderFrame: function () {
                                    this.data.hd ||
                                        this.hidden ||
                                        (this.renderTransform(),
                                        this.renderRenderable(),
                                        this.renderElement(),
                                        this.renderInnerContent(),
                                        this._isFirstFrame &&
                                            (this._isFirstFrame = !1));
                                },
                                renderInnerContent: function () {},
                                prepareFrame: function (e) {
                                    (this._mdf = !1),
                                        this.prepareRenderableFrame(e),
                                        this.prepareProperties(
                                            e,
                                            this.isInRange
                                        ),
                                        this.checkTransparency();
                                },
                                destroy: function () {
                                    (this.innerElem = null),
                                        this.destroyBaseElement();
                                },
                            }),
                        ],
                        RenderableDOMElement
                    ),
                    (SVGStyleData.prototype.reset = function () {
                        (this.d = ""), (this._mdf = !1);
                    }),
                    (SVGShapeData.prototype.setAsAnimated = function () {
                        this._isAnimated = !0;
                    }),
                    extendPrototype(
                        [DynamicPropertyContainer],
                        SVGStrokeStyleData
                    ),
                    extendPrototype(
                        [DynamicPropertyContainer],
                        SVGFillStyleData
                    ),
                    (SVGGradientFillStyleData.prototype.initGradientData = function (
                        e,
                        t,
                        r
                    ) {
                        (this.o = PropertyFactory.getProp(
                            e,
                            t.o,
                            0,
                            0.01,
                            this
                        )),
                            (this.s = PropertyFactory.getProp(
                                e,
                                t.s,
                                1,
                                null,
                                this
                            )),
                            (this.e = PropertyFactory.getProp(
                                e,
                                t.e,
                                1,
                                null,
                                this
                            )),
                            (this.h = PropertyFactory.getProp(
                                e,
                                t.h || { k: 0 },
                                0,
                                0.01,
                                this
                            )),
                            (this.a = PropertyFactory.getProp(
                                e,
                                t.a || { k: 0 },
                                0,
                                degToRads,
                                this
                            )),
                            (this.g = new GradientProperty(e, t.g, this)),
                            (this.style = r),
                            (this.stops = []),
                            this.setGradientData(r.pElem, t),
                            this.setGradientOpacity(t, r),
                            (this._isAnimated = !!this._isAnimated);
                    }),
                    (SVGGradientFillStyleData.prototype.setGradientData = function (
                        e,
                        t
                    ) {
                        var r = createElementID(),
                            n = createNS(
                                1 === t.t ? "linearGradient" : "radialGradient"
                            );
                        n.setAttribute("id", r),
                            n.setAttribute("spreadMethod", "pad"),
                            n.setAttribute("gradientUnits", "userSpaceOnUse");
                        var a,
                            i,
                            o,
                            s = [];
                        for (o = 4 * t.g.p, i = 0; i < o; i += 4)
                            (a = createNS("stop")), n.appendChild(a), s.push(a);
                        e.setAttribute(
                            "gf" === t.ty ? "fill" : "stroke",
                            "url(" + locationHref + "#" + r + ")"
                        ),
                            (this.gf = n),
                            (this.cst = s);
                    }),
                    (SVGGradientFillStyleData.prototype.setGradientOpacity = function (
                        e,
                        t
                    ) {
                        if (this.g._hasOpacity && !this.g._collapsable) {
                            var r,
                                n,
                                a,
                                i = createNS("mask"),
                                o = createNS("path");
                            i.appendChild(o);
                            var s = createElementID(),
                                l = createElementID();
                            i.setAttribute("id", l);
                            var c = createNS(
                                1 === e.t ? "linearGradient" : "radialGradient"
                            );
                            c.setAttribute("id", s),
                                c.setAttribute("spreadMethod", "pad"),
                                c.setAttribute(
                                    "gradientUnits",
                                    "userSpaceOnUse"
                                ),
                                (a = e.g.k.k[0].s
                                    ? e.g.k.k[0].s.length
                                    : e.g.k.k.length);
                            var u = this.stops;
                            for (n = 4 * e.g.p; n < a; n += 2)
                                (r = createNS("stop")).setAttribute(
                                    "stop-color",
                                    "rgb(255,255,255)"
                                ),
                                    c.appendChild(r),
                                    u.push(r);
                            o.setAttribute(
                                "gf" === e.ty ? "fill" : "stroke",
                                "url(" + locationHref + "#" + s + ")"
                            ),
                                (this.of = c),
                                (this.ms = i),
                                (this.ost = u),
                                (this.maskId = l),
                                (t.msElem = o);
                        }
                    }),
                    extendPrototype(
                        [DynamicPropertyContainer],
                        SVGGradientFillStyleData
                    ),
                    extendPrototype(
                        [SVGGradientFillStyleData, DynamicPropertyContainer],
                        SVGGradientStrokeStyleData
                    );
                var SVGElementsRenderer = (function () {
                    function e(e, t, r) {
                        (r || t.transform.op._mdf) &&
                            t.transform.container.setAttribute(
                                "opacity",
                                t.transform.op.v
                            ),
                            (r || t.transform.mProps._mdf) &&
                                t.transform.container.setAttribute(
                                    "transform",
                                    t.transform.mProps.v.to2dCSS()
                                );
                    }
                    function t(e, t, r) {
                        var n,
                            a,
                            i,
                            l,
                            c,
                            u,
                            d,
                            p,
                            h,
                            f,
                            m,
                            y = t.styles.length,
                            g = t.lvl;
                        for (u = 0; u < y; u += 1) {
                            if (((l = t.sh._mdf || r), t.styles[u].lvl < g)) {
                                for (
                                    p = s.reset(),
                                        f = g - t.styles[u].lvl,
                                        m = t.transformers.length - 1;
                                    !l && f > 0;

                                )
                                    (l = t.transformers[m].mProps._mdf || l),
                                        f--,
                                        m--;
                                if (l)
                                    for (
                                        f = g - t.styles[u].lvl,
                                            m = t.transformers.length - 1;
                                        f > 0;

                                    )
                                        (h = t.transformers[m].mProps.v.props),
                                            p.transform(
                                                h[0],
                                                h[1],
                                                h[2],
                                                h[3],
                                                h[4],
                                                h[5],
                                                h[6],
                                                h[7],
                                                h[8],
                                                h[9],
                                                h[10],
                                                h[11],
                                                h[12],
                                                h[13],
                                                h[14],
                                                h[15]
                                            ),
                                            f--,
                                            m--;
                            } else p = o;
                            if (((d = t.sh.paths), (a = d._length), l)) {
                                for (i = "", n = 0; n < a; n += 1)
                                    (c = d.shapes[n]) &&
                                        c._length &&
                                        (i += buildShapeString(
                                            c,
                                            c._length,
                                            c.c,
                                            p
                                        ));
                                t.caches[u] = i;
                            } else i = t.caches[u];
                            (t.styles[u].d += !0 === e.hd ? "" : i),
                                (t.styles[u]._mdf = l || t.styles[u]._mdf);
                        }
                    }
                    function r(e, t, r) {
                        var n = t.style;
                        (t.c._mdf || r) &&
                            n.pElem.setAttribute(
                                "fill",
                                "rgb(" +
                                    bm_floor(t.c.v[0]) +
                                    "," +
                                    bm_floor(t.c.v[1]) +
                                    "," +
                                    bm_floor(t.c.v[2]) +
                                    ")"
                            ),
                            (t.o._mdf || r) &&
                                n.pElem.setAttribute("fill-opacity", t.o.v);
                    }
                    function n(e, t, r) {
                        a(e, t, r), i(e, t, r);
                    }
                    function a(e, t, r) {
                        var n = t.gf,
                            a = t.g._hasOpacity,
                            i = t.s.v,
                            o = t.e.v;
                        if (t.o._mdf || r) {
                            var s =
                                "gf" === e.ty
                                    ? "fill-opacity"
                                    : "stroke-opacity";
                            t.style.pElem.setAttribute(s, t.o.v);
                        }
                        if (t.s._mdf || r) {
                            var l = 1 === e.t ? "x1" : "cx",
                                c = "x1" === l ? "y1" : "cy";
                            n.setAttribute(l, i[0]),
                                n.setAttribute(c, i[1]),
                                a &&
                                    !t.g._collapsable &&
                                    (t.of.setAttribute(l, i[0]),
                                    t.of.setAttribute(c, i[1]));
                        }
                        var u, d, p, h;
                        if (t.g._cmdf || r) {
                            u = t.cst;
                            var f = t.g.c;
                            for (p = u.length, d = 0; d < p; d += 1)
                                (h = u[d]).setAttribute(
                                    "offset",
                                    f[4 * d] + "%"
                                ),
                                    h.setAttribute(
                                        "stop-color",
                                        "rgb(" +
                                            f[4 * d + 1] +
                                            "," +
                                            f[4 * d + 2] +
                                            "," +
                                            f[4 * d + 3] +
                                            ")"
                                    );
                        }
                        if (a && (t.g._omdf || r)) {
                            var m = t.g.o;
                            for (
                                p = (u = t.g._collapsable ? t.cst : t.ost)
                                    .length,
                                    d = 0;
                                d < p;
                                d += 1
                            )
                                (h = u[d]),
                                    t.g._collapsable ||
                                        h.setAttribute(
                                            "offset",
                                            m[2 * d] + "%"
                                        ),
                                    h.setAttribute(
                                        "stop-opacity",
                                        m[2 * d + 1]
                                    );
                        }
                        if (1 === e.t)
                            (t.e._mdf || r) &&
                                (n.setAttribute("x2", o[0]),
                                n.setAttribute("y2", o[1]),
                                a &&
                                    !t.g._collapsable &&
                                    (t.of.setAttribute("x2", o[0]),
                                    t.of.setAttribute("y2", o[1])));
                        else {
                            var y;
                            if (
                                ((t.s._mdf || t.e._mdf || r) &&
                                    ((y = Math.sqrt(
                                        Math.pow(i[0] - o[0], 2) +
                                            Math.pow(i[1] - o[1], 2)
                                    )),
                                    n.setAttribute("r", y),
                                    a &&
                                        !t.g._collapsable &&
                                        t.of.setAttribute("r", y)),
                                t.e._mdf || t.h._mdf || t.a._mdf || r)
                            ) {
                                y ||
                                    (y = Math.sqrt(
                                        Math.pow(i[0] - o[0], 2) +
                                            Math.pow(i[1] - o[1], 2)
                                    ));
                                var g = Math.atan2(o[1] - i[1], o[0] - i[0]),
                                    v =
                                        y *
                                        (t.h.v >= 1
                                            ? 0.99
                                            : t.h.v <= -1
                                            ? -0.99
                                            : t.h.v),
                                    b = Math.cos(g + t.a.v) * v + i[0],
                                    w = Math.sin(g + t.a.v) * v + i[1];
                                n.setAttribute("fx", b),
                                    n.setAttribute("fy", w),
                                    a &&
                                        !t.g._collapsable &&
                                        (t.of.setAttribute("fx", b),
                                        t.of.setAttribute("fy", w));
                            }
                        }
                    }
                    function i(e, t, r) {
                        var n = t.style,
                            a = t.d;
                        a &&
                            (a._mdf || r) &&
                            a.dashStr &&
                            (n.pElem.setAttribute(
                                "stroke-dasharray",
                                a.dashStr
                            ),
                            n.pElem.setAttribute(
                                "stroke-dashoffset",
                                a.dashoffset[0]
                            )),
                            t.c &&
                                (t.c._mdf || r) &&
                                n.pElem.setAttribute(
                                    "stroke",
                                    "rgb(" +
                                        bm_floor(t.c.v[0]) +
                                        "," +
                                        bm_floor(t.c.v[1]) +
                                        "," +
                                        bm_floor(t.c.v[2]) +
                                        ")"
                                ),
                            (t.o._mdf || r) &&
                                n.pElem.setAttribute("stroke-opacity", t.o.v),
                            (t.w._mdf || r) &&
                                (n.pElem.setAttribute("stroke-width", t.w.v),
                                n.msElem &&
                                    n.msElem.setAttribute(
                                        "stroke-width",
                                        t.w.v
                                    ));
                    }
                    var o = new Matrix(),
                        s = new Matrix();
                    return {
                        createRenderFunction: function (o) {
                            switch ((o.ty, o.ty)) {
                                case "fl":
                                    return r;
                                case "gf":
                                    return a;
                                case "gs":
                                    return n;
                                case "st":
                                    return i;
                                case "sh":
                                case "el":
                                case "rc":
                                case "sr":
                                    return t;
                                case "tr":
                                    return e;
                            }
                        },
                    };
                })();
                (ShapeTransformManager.prototype = {
                    addTransformSequence: function (e) {
                        var t,
                            r = e.length,
                            n = "_";
                        for (t = 0; t < r; t += 1)
                            n += e[t].transform.key + "_";
                        var a = this.sequences[n];
                        return (
                            a ||
                                ((a = {
                                    transforms: [].concat(e),
                                    finalTransform: new Matrix(),
                                    _mdf: !1,
                                }),
                                (this.sequences[n] = a),
                                this.sequenceList.push(a)),
                            a
                        );
                    },
                    processSequence: function (e, t) {
                        for (
                            var r = 0, n = e.transforms.length, a = t;
                            r < n && !t;

                        ) {
                            if (e.transforms[r].transform.mProps._mdf) {
                                a = !0;
                                break;
                            }
                            r += 1;
                        }
                        if (a) {
                            var i;
                            for (
                                e.finalTransform.reset(), r = n - 1;
                                r >= 0;
                                r -= 1
                            )
                                (i = e.transforms[r].transform.mProps.v.props),
                                    e.finalTransform.transform(
                                        i[0],
                                        i[1],
                                        i[2],
                                        i[3],
                                        i[4],
                                        i[5],
                                        i[6],
                                        i[7],
                                        i[8],
                                        i[9],
                                        i[10],
                                        i[11],
                                        i[12],
                                        i[13],
                                        i[14],
                                        i[15]
                                    );
                        }
                        e._mdf = a;
                    },
                    processSequences: function (e) {
                        var t,
                            r = this.sequenceList.length;
                        for (t = 0; t < r; t += 1)
                            this.processSequence(this.sequenceList[t], e);
                    },
                    getNewKey: function () {
                        return "_" + this.transform_key_count++;
                    },
                }),
                    (CVShapeData.prototype.setAsAnimated =
                        SVGShapeData.prototype.setAsAnimated),
                    (BaseElement.prototype = {
                        checkMasks: function () {
                            if (!this.data.hasMask) return !1;
                            for (
                                var e = 0, t = this.data.masksProperties.length;
                                e < t;

                            ) {
                                if (
                                    "n" !== this.data.masksProperties[e].mode &&
                                    !1 !== this.data.masksProperties[e].cl
                                )
                                    return !0;
                                e += 1;
                            }
                            return !1;
                        },
                        initExpressions: function () {
                            (this.layerInterface = LayerExpressionInterface(
                                this
                            )),
                                this.data.hasMask &&
                                    this.maskManager &&
                                    this.layerInterface.registerMaskInterface(
                                        this.maskManager
                                    );
                            var e = EffectsExpressionInterface.createEffectsInterface(
                                this,
                                this.layerInterface
                            );
                            this.layerInterface.registerEffectsInterface(e),
                                0 === this.data.ty || this.data.xt
                                    ? (this.compInterface = CompExpressionInterface(
                                          this
                                      ))
                                    : 4 === this.data.ty
                                    ? ((this.layerInterface.shapeInterface = ShapeExpressionInterface(
                                          this.shapesData,
                                          this.itemsData,
                                          this.layerInterface
                                      )),
                                      (this.layerInterface.content = this.layerInterface.shapeInterface))
                                    : 5 === this.data.ty &&
                                      ((this.layerInterface.textInterface = TextExpressionInterface(
                                          this
                                      )),
                                      (this.layerInterface.text = this.layerInterface.textInterface));
                        },
                        setBlendMode: function () {
                            var e = getBlendMode(this.data.bm);
                            (this.baseElement || this.layerElement).style[
                                "mix-blend-mode"
                            ] = e;
                        },
                        initBaseData: function (e, t, r) {
                            (this.globalData = t),
                                (this.comp = r),
                                (this.data = e),
                                (this.layerId = createElementID()),
                                this.data.sr || (this.data.sr = 1),
                                (this.effectsManager = new EffectsManager(
                                    this.data,
                                    this,
                                    this.dynamicProperties
                                ));
                        },
                        getType: function () {
                            return this.type;
                        },
                        sourceRectAtTime: function () {},
                    }),
                    (NullElement.prototype.prepareFrame = function (e) {
                        this.prepareProperties(e, !0);
                    }),
                    (NullElement.prototype.renderFrame = function () {}),
                    (NullElement.prototype.getBaseElement = function () {
                        return null;
                    }),
                    (NullElement.prototype.destroy = function () {}),
                    (NullElement.prototype.sourceRectAtTime = function () {}),
                    (NullElement.prototype.hide = function () {}),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HierarchyElement,
                            FrameElement,
                        ],
                        NullElement
                    ),
                    (SVGBaseElement.prototype = {
                        initRendererElement: function () {
                            this.layerElement = createNS("g");
                        },
                        createContainerElements: function () {
                            (this.matteElement = createNS("g")),
                                (this.transformedElement = this.layerElement),
                                (this.maskedElement = this.layerElement),
                                (this._sizeChanged = !1);
                            var e,
                                t,
                                r,
                                n = null;
                            if (this.data.td) {
                                if (3 == this.data.td || 1 == this.data.td) {
                                    var a = createNS("mask");
                                    a.setAttribute("id", this.layerId),
                                        a.setAttribute(
                                            "mask-type",
                                            3 == this.data.td
                                                ? "luminance"
                                                : "alpha"
                                        ),
                                        a.appendChild(this.layerElement),
                                        (n = a),
                                        this.globalData.defs.appendChild(a),
                                        featureSupport.maskType ||
                                            1 != this.data.td ||
                                            (a.setAttribute(
                                                "mask-type",
                                                "luminance"
                                            ),
                                            (e = createElementID()),
                                            (t = filtersFactory.createFilter(
                                                e
                                            )),
                                            this.globalData.defs.appendChild(t),
                                            t.appendChild(
                                                filtersFactory.createAlphaToLuminanceFilter()
                                            ),
                                            (r = createNS("g")).appendChild(
                                                this.layerElement
                                            ),
                                            (n = r),
                                            a.appendChild(r),
                                            r.setAttribute(
                                                "filter",
                                                "url(" +
                                                    locationHref +
                                                    "#" +
                                                    e +
                                                    ")"
                                            ));
                                } else if (2 == this.data.td) {
                                    var i = createNS("mask");
                                    i.setAttribute("id", this.layerId),
                                        i.setAttribute("mask-type", "alpha");
                                    var o = createNS("g");
                                    i.appendChild(o),
                                        (e = createElementID()),
                                        (t = filtersFactory.createFilter(e));
                                    var s = createNS("feComponentTransfer");
                                    s.setAttribute("in", "SourceGraphic"),
                                        t.appendChild(s);
                                    var l = createNS("feFuncA");
                                    l.setAttribute("type", "table"),
                                        l.setAttribute(
                                            "tableValues",
                                            "1.0 0.0"
                                        ),
                                        s.appendChild(l),
                                        this.globalData.defs.appendChild(t);
                                    var c = createNS("rect");
                                    c.setAttribute("width", this.comp.data.w),
                                        c.setAttribute(
                                            "height",
                                            this.comp.data.h
                                        ),
                                        c.setAttribute("x", "0"),
                                        c.setAttribute("y", "0"),
                                        c.setAttribute("fill", "#ffffff"),
                                        c.setAttribute("opacity", "0"),
                                        o.setAttribute(
                                            "filter",
                                            "url(" +
                                                locationHref +
                                                "#" +
                                                e +
                                                ")"
                                        ),
                                        o.appendChild(c),
                                        o.appendChild(this.layerElement),
                                        (n = o),
                                        featureSupport.maskType ||
                                            (i.setAttribute(
                                                "mask-type",
                                                "luminance"
                                            ),
                                            t.appendChild(
                                                filtersFactory.createAlphaToLuminanceFilter()
                                            ),
                                            (r = createNS("g")),
                                            o.appendChild(c),
                                            r.appendChild(this.layerElement),
                                            (n = r),
                                            o.appendChild(r)),
                                        this.globalData.defs.appendChild(i);
                                }
                            } else
                                this.data.tt
                                    ? (this.matteElement.appendChild(
                                          this.layerElement
                                      ),
                                      (n = this.matteElement),
                                      (this.baseElement = this.matteElement))
                                    : (this.baseElement = this.layerElement);
                            if (
                                (this.data.ln &&
                                    this.layerElement.setAttribute(
                                        "id",
                                        this.data.ln
                                    ),
                                this.data.cl &&
                                    this.layerElement.setAttribute(
                                        "class",
                                        this.data.cl
                                    ),
                                0 === this.data.ty && !this.data.hd)
                            ) {
                                var u = createNS("clipPath"),
                                    d = createNS("path");
                                d.setAttribute(
                                    "d",
                                    "M0,0 L" +
                                        this.data.w +
                                        ",0 L" +
                                        this.data.w +
                                        "," +
                                        this.data.h +
                                        " L0," +
                                        this.data.h +
                                        "z"
                                );
                                var p = createElementID();
                                if (
                                    (u.setAttribute("id", p),
                                    u.appendChild(d),
                                    this.globalData.defs.appendChild(u),
                                    this.checkMasks())
                                ) {
                                    var h = createNS("g");
                                    h.setAttribute(
                                        "clip-path",
                                        "url(" + locationHref + "#" + p + ")"
                                    ),
                                        h.appendChild(this.layerElement),
                                        (this.transformedElement = h),
                                        n
                                            ? n.appendChild(
                                                  this.transformedElement
                                              )
                                            : (this.baseElement = this.transformedElement);
                                } else
                                    this.layerElement.setAttribute(
                                        "clip-path",
                                        "url(" + locationHref + "#" + p + ")"
                                    );
                            }
                            0 !== this.data.bm && this.setBlendMode();
                        },
                        renderElement: function () {
                            this.finalTransform._matMdf &&
                                this.transformedElement.setAttribute(
                                    "transform",
                                    this.finalTransform.mat.to2dCSS()
                                ),
                                this.finalTransform._opMdf &&
                                    this.transformedElement.setAttribute(
                                        "opacity",
                                        this.finalTransform.mProp.o.v
                                    );
                        },
                        destroyBaseElement: function () {
                            (this.layerElement = null),
                                (this.matteElement = null),
                                this.maskManager.destroy();
                        },
                        getBaseElement: function () {
                            return this.data.hd ? null : this.baseElement;
                        },
                        createRenderableComponents: function () {
                            (this.maskManager = new MaskElement(
                                this.data,
                                this,
                                this.globalData
                            )),
                                (this.renderableEffectsManager = new SVGEffects(
                                    this
                                ));
                        },
                        setMatte: function (e) {
                            this.matteElement &&
                                this.matteElement.setAttribute(
                                    "mask",
                                    "url(" + locationHref + "#" + e + ")"
                                );
                        },
                    }),
                    (IShapeElement.prototype = {
                        addShapeToModifiers: function (e) {
                            var t,
                                r = this.shapeModifiers.length;
                            for (t = 0; t < r; t += 1)
                                this.shapeModifiers[t].addShape(e);
                        },
                        isShapeInAnimatedModifiers: function (e) {
                            for (var t = this.shapeModifiers.length; 0 < t; )
                                if (
                                    this.shapeModifiers[0].isAnimatedWithShape(
                                        e
                                    )
                                )
                                    return !0;
                            return !1;
                        },
                        renderModifiers: function () {
                            if (this.shapeModifiers.length) {
                                var e,
                                    t = this.shapes.length;
                                for (e = 0; e < t; e += 1)
                                    this.shapes[e].sh.reset();
                                for (
                                    e = (t = this.shapeModifiers.length) - 1;
                                    e >= 0;
                                    e -= 1
                                )
                                    this.shapeModifiers[e].processShapes(
                                        this._isFirstFrame
                                    );
                            }
                        },
                        lcEnum: { 1: "butt", 2: "round", 3: "square" },
                        ljEnum: { 1: "miter", 2: "round", 3: "bevel" },
                        searchProcessedElement: function (e) {
                            for (
                                var t = this.processedElements,
                                    r = 0,
                                    n = t.length;
                                r < n;

                            ) {
                                if (t[r].elem === e) return t[r].pos;
                                r += 1;
                            }
                            return 0;
                        },
                        addProcessedElement: function (e, t) {
                            for (
                                var r = this.processedElements, n = r.length;
                                n;

                            )
                                if (((n -= 1), r[n].elem === e))
                                    return void (r[n].pos = t);
                            r.push(new ProcessedElement(e, t));
                        },
                        prepareFrame: function (e) {
                            this.prepareRenderableFrame(e),
                                this.prepareProperties(e, this.isInRange);
                        },
                    }),
                    (ITextElement.prototype.initElement = function (e, t, r) {
                        (this.lettersChangedFlag = !0),
                            this.initFrame(),
                            this.initBaseData(e, t, r),
                            (this.textProperty = new TextProperty(
                                this,
                                e.t,
                                this.dynamicProperties
                            )),
                            (this.textAnimator = new TextAnimatorProperty(
                                e.t,
                                this.renderType,
                                this
                            )),
                            this.initTransform(e, t, r),
                            this.initHierarchy(),
                            this.initRenderable(),
                            this.initRendererElement(),
                            this.createContainerElements(),
                            this.createRenderableComponents(),
                            this.createContent(),
                            this.hide(),
                            this.textAnimator.searchProperties(
                                this.dynamicProperties
                            );
                    }),
                    (ITextElement.prototype.prepareFrame = function (e) {
                        (this._mdf = !1),
                            this.prepareRenderableFrame(e),
                            this.prepareProperties(e, this.isInRange),
                            (this.textProperty._mdf ||
                                this.textProperty._isFirstFrame) &&
                                (this.buildNewText(),
                                (this.textProperty._isFirstFrame = !1),
                                (this.textProperty._mdf = !1));
                    }),
                    (ITextElement.prototype.createPathShape = function (e, t) {
                        var r,
                            n,
                            a = t.length,
                            i = "";
                        for (r = 0; r < a; r += 1)
                            (n = t[r].ks.k),
                                (i += buildShapeString(n, n.i.length, !0, e));
                        return i;
                    }),
                    (ITextElement.prototype.updateDocumentData = function (
                        e,
                        t
                    ) {
                        this.textProperty.updateDocumentData(e, t);
                    }),
                    (ITextElement.prototype.canResizeFont = function (e) {
                        this.textProperty.canResizeFont(e);
                    }),
                    (ITextElement.prototype.setMinimumFontSize = function (e) {
                        this.textProperty.setMinimumFontSize(e);
                    }),
                    (ITextElement.prototype.applyTextPropertiesToMatrix = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        switch (
                            (e.ps &&
                                t.translate(e.ps[0], e.ps[1] + e.ascent, 0),
                            t.translate(0, -e.ls, 0),
                            e.j)
                        ) {
                            case 1:
                                t.translate(
                                    e.justifyOffset +
                                        (e.boxWidth - e.lineWidths[r]),
                                    0,
                                    0
                                );
                                break;
                            case 2:
                                t.translate(
                                    e.justifyOffset +
                                        (e.boxWidth - e.lineWidths[r]) / 2,
                                    0,
                                    0
                                );
                        }
                        t.translate(n, a, 0);
                    }),
                    (ITextElement.prototype.buildColor = function (e) {
                        return (
                            "rgb(" +
                            Math.round(255 * e[0]) +
                            "," +
                            Math.round(255 * e[1]) +
                            "," +
                            Math.round(255 * e[2]) +
                            ")"
                        );
                    }),
                    (ITextElement.prototype.emptyProp = new LetterProps()),
                    (ITextElement.prototype.destroy = function () {}),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                        ],
                        ICompElement
                    ),
                    (ICompElement.prototype.initElement = function (e, t, r) {
                        this.initFrame(),
                            this.initBaseData(e, t, r),
                            this.initTransform(e, t, r),
                            this.initRenderable(),
                            this.initHierarchy(),
                            this.initRendererElement(),
                            this.createContainerElements(),
                            this.createRenderableComponents(),
                            (!this.data.xt && t.progressiveLoad) ||
                                this.buildAllItems(),
                            this.hide();
                    }),
                    (ICompElement.prototype.prepareFrame = function (e) {
                        if (
                            ((this._mdf = !1),
                            this.prepareRenderableFrame(e),
                            this.prepareProperties(e, this.isInRange),
                            this.isInRange || this.data.xt)
                        ) {
                            if (this.tm._placeholder)
                                this.renderedFrame = e / this.data.sr;
                            else {
                                var t = this.tm.v;
                                t === this.data.op && (t = this.data.op - 1),
                                    (this.renderedFrame = t);
                            }
                            var r,
                                n = this.elements.length;
                            for (
                                this.completeLayers ||
                                    this.checkLayers(this.renderedFrame),
                                    r = n - 1;
                                r >= 0;
                                r -= 1
                            )
                                (this.completeLayers || this.elements[r]) &&
                                    (this.elements[r].prepareFrame(
                                        this.renderedFrame - this.layers[r].st
                                    ),
                                    this.elements[r]._mdf && (this._mdf = !0));
                        }
                    }),
                    (ICompElement.prototype.renderInnerContent = function () {
                        var e,
                            t = this.layers.length;
                        for (e = 0; e < t; e += 1)
                            (this.completeLayers || this.elements[e]) &&
                                this.elements[e].renderFrame();
                    }),
                    (ICompElement.prototype.setElements = function (e) {
                        this.elements = e;
                    }),
                    (ICompElement.prototype.getElements = function () {
                        return this.elements;
                    }),
                    (ICompElement.prototype.destroyElements = function () {
                        var e,
                            t = this.layers.length;
                        for (e = 0; e < t; e += 1)
                            this.elements[e] && this.elements[e].destroy();
                    }),
                    (ICompElement.prototype.destroy = function () {
                        this.destroyElements(), this.destroyBaseElement();
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            SVGBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                        ],
                        IImageElement
                    ),
                    (IImageElement.prototype.createContent = function () {
                        var e = this.globalData.getAssetsPath(this.assetData);
                        (this.innerElem = createNS("image")),
                            this.innerElem.setAttribute(
                                "width",
                                this.assetData.w + "px"
                            ),
                            this.innerElem.setAttribute(
                                "height",
                                this.assetData.h + "px"
                            ),
                            this.innerElem.setAttribute(
                                "preserveAspectRatio",
                                this.assetData.pr ||
                                    this.globalData.renderConfig
                                        .imagePreserveAspectRatio
                            ),
                            this.innerElem.setAttributeNS(
                                "http://www.w3.org/1999/xlink",
                                "href",
                                e
                            ),
                            this.layerElement.appendChild(this.innerElem);
                    }),
                    (IImageElement.prototype.sourceRectAtTime = function () {
                        return this.sourceRect;
                    }),
                    extendPrototype([IImageElement], ISolidElement),
                    (ISolidElement.prototype.createContent = function () {
                        var e = createNS("rect");
                        e.setAttribute("width", this.data.sw),
                            e.setAttribute("height", this.data.sh),
                            e.setAttribute("fill", this.data.sc),
                            this.layerElement.appendChild(e);
                    }),
                    (AudioElement.prototype.prepareFrame = function (e) {
                        if (
                            (this.prepareRenderableFrame(e, !0),
                            this.prepareProperties(e, !0),
                            this.tm._placeholder)
                        )
                            this._currentTime = e / this.data.sr;
                        else {
                            var t = this.tm.v;
                            this._currentTime = t;
                        }
                    }),
                    extendPrototype(
                        [RenderableElement, BaseElement, FrameElement],
                        AudioElement
                    ),
                    (AudioElement.prototype.renderFrame = function () {
                        this.isInRange &&
                            this._canPlay &&
                            (this._isPlaying
                                ? (!this.audio.playing() ||
                                      Math.abs(
                                          this._currentTime /
                                              this.globalData.frameRate -
                                              this.audio.seek()
                                      ) > 0.1) &&
                                  this.audio.seek(
                                      this._currentTime /
                                          this.globalData.frameRate
                                  )
                                : (this.audio.play(),
                                  this.audio.seek(
                                      this._currentTime /
                                          this.globalData.frameRate
                                  ),
                                  (this._isPlaying = !0)));
                    }),
                    (AudioElement.prototype.show = function () {}),
                    (AudioElement.prototype.hide = function () {
                        this.audio.pause(), (this._isPlaying = !1);
                    }),
                    (AudioElement.prototype.pause = function () {
                        this.audio.pause(),
                            (this._isPlaying = !1),
                            (this._canPlay = !1);
                    }),
                    (AudioElement.prototype.resume = function () {
                        this._canPlay = !0;
                    }),
                    (AudioElement.prototype.setRate = function (e) {
                        this.audio.rate(e);
                    }),
                    (AudioElement.prototype.volume = function (e) {
                        this.audio.volume(e);
                    }),
                    (AudioElement.prototype.getBaseElement = function () {
                        return null;
                    }),
                    (AudioElement.prototype.destroy = function () {}),
                    (AudioElement.prototype.sourceRectAtTime = function () {}),
                    (AudioElement.prototype.initExpressions = function () {}),
                    extendPrototype(
                        [SVGRenderer, ICompElement, SVGBaseElement],
                        SVGCompElement
                    ),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            SVGBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                            ITextElement,
                        ],
                        SVGTextElement
                    ),
                    (SVGTextElement.prototype.createContent = function () {
                        this.data.singleShape &&
                            !this.globalData.fontManager.chars &&
                            (this.textContainer = createNS("text"));
                    }),
                    (SVGTextElement.prototype.buildTextContents = function (e) {
                        for (var t = 0, r = e.length, n = [], a = ""; t < r; )
                            e[t] === String.fromCharCode(13) ||
                            e[t] === String.fromCharCode(3)
                                ? (n.push(a), (a = ""))
                                : (a += e[t]),
                                (t += 1);
                        return n.push(a), n;
                    }),
                    (SVGTextElement.prototype.buildNewText = function () {
                        var e,
                            t,
                            r = this.textProperty.currentData;
                        (this.renderedLetters = createSizedArray(
                            r ? r.l.length : 0
                        )),
                            r.fc
                                ? this.layerElement.setAttribute(
                                      "fill",
                                      this.buildColor(r.fc)
                                  )
                                : this.layerElement.setAttribute(
                                      "fill",
                                      "rgba(0,0,0,0)"
                                  ),
                            r.sc &&
                                (this.layerElement.setAttribute(
                                    "stroke",
                                    this.buildColor(r.sc)
                                ),
                                this.layerElement.setAttribute(
                                    "stroke-width",
                                    r.sw
                                )),
                            this.layerElement.setAttribute(
                                "font-size",
                                r.finalSize
                            );
                        var n = this.globalData.fontManager.getFontByName(r.f);
                        if (n.fClass)
                            this.layerElement.setAttribute("class", n.fClass);
                        else {
                            this.layerElement.setAttribute(
                                "font-family",
                                n.fFamily
                            );
                            var a = r.fWeight,
                                i = r.fStyle;
                            this.layerElement.setAttribute("font-style", i),
                                this.layerElement.setAttribute(
                                    "font-weight",
                                    a
                                );
                        }
                        this.layerElement.setAttribute("aria-label", r.t);
                        var o = r.l || [],
                            s = !!this.globalData.fontManager.chars;
                        t = o.length;
                        var l,
                            c,
                            u = this.mHelper,
                            d = "",
                            p = this.data.singleShape,
                            h = 0,
                            f = 0,
                            m = !0,
                            y = (r.tr / 1e3) * r.finalSize;
                        if (!p || s || r.sz) {
                            var g,
                                v,
                                b = this.textSpans.length;
                            for (e = 0; e < t; e += 1)
                                (s && p && 0 !== e) ||
                                    ((l =
                                        b > e
                                            ? this.textSpans[e]
                                            : createNS(s ? "path" : "text")),
                                    b <= e &&
                                        (l.setAttribute(
                                            "stroke-linecap",
                                            "butt"
                                        ),
                                        l.setAttribute(
                                            "stroke-linejoin",
                                            "round"
                                        ),
                                        l.setAttribute(
                                            "stroke-miterlimit",
                                            "4"
                                        ),
                                        (this.textSpans[e] = l),
                                        this.layerElement.appendChild(l)),
                                    (l.style.display = "inherit")),
                                    u.reset(),
                                    u.scale(
                                        r.finalSize / 100,
                                        r.finalSize / 100
                                    ),
                                    p &&
                                        (o[e].n &&
                                            ((h = -y),
                                            (f += r.yOffset),
                                            (f += m ? 1 : 0),
                                            (m = !1)),
                                        this.applyTextPropertiesToMatrix(
                                            r,
                                            u,
                                            o[e].line,
                                            h,
                                            f
                                        ),
                                        (h += o[e].l || 0),
                                        (h += y)),
                                    s
                                        ? ((c = (g =
                                              ((v = this.globalData.fontManager.getCharData(
                                                  r.finalText[e],
                                                  n.fStyle,
                                                  this.globalData.fontManager.getFontByName(
                                                      r.f
                                                  ).fFamily
                                              )) &&
                                                  v.data) ||
                                              {}).shapes
                                              ? g.shapes[0].it
                                              : []),
                                          p
                                              ? (d += this.createPathShape(
                                                    u,
                                                    c
                                                ))
                                              : l.setAttribute(
                                                    "d",
                                                    this.createPathShape(u, c)
                                                ))
                                        : (p &&
                                              l.setAttribute(
                                                  "transform",
                                                  "translate(" +
                                                      u.props[12] +
                                                      "," +
                                                      u.props[13] +
                                                      ")"
                                              ),
                                          (l.textContent = o[e].val),
                                          l.setAttributeNS(
                                              "http://www.w3.org/XML/1998/namespace",
                                              "xml:space",
                                              "preserve"
                                          ));
                            p && l && l.setAttribute("d", d);
                        } else {
                            var w = this.textContainer,
                                _ = "start";
                            switch (r.j) {
                                case 1:
                                    _ = "end";
                                    break;
                                case 2:
                                    _ = "middle";
                            }
                            w.setAttribute("text-anchor", _),
                                w.setAttribute("letter-spacing", y);
                            var E = this.buildTextContents(r.finalText);
                            for (
                                t = E.length,
                                    f = r.ps ? r.ps[1] + r.ascent : 0,
                                    e = 0;
                                e < t;
                                e += 1
                            )
                                ((l =
                                    this.textSpans[e] ||
                                    createNS("tspan")).textContent = E[e]),
                                    l.setAttribute("x", 0),
                                    l.setAttribute("y", f),
                                    (l.style.display = "inherit"),
                                    w.appendChild(l),
                                    (this.textSpans[e] = l),
                                    (f += r.finalLineHeight);
                            this.layerElement.appendChild(w);
                        }
                        for (; e < this.textSpans.length; )
                            (this.textSpans[e].style.display = "none"),
                                (e += 1);
                        this._sizeChanged = !0;
                    }),
                    (SVGTextElement.prototype.sourceRectAtTime = function (e) {
                        if (
                            (this.prepareFrame(
                                this.comp.renderedFrame - this.data.st
                            ),
                            this.renderInnerContent(),
                            this._sizeChanged)
                        ) {
                            this._sizeChanged = !1;
                            var t = this.layerElement.getBBox();
                            this.bbox = {
                                top: t.y,
                                left: t.x,
                                width: t.width,
                                height: t.height,
                            };
                        }
                        return this.bbox;
                    }),
                    (SVGTextElement.prototype.renderInnerContent = function () {
                        if (
                            !this.data.singleShape &&
                            (this.textAnimator.getMeasures(
                                this.textProperty.currentData,
                                this.lettersChangedFlag
                            ),
                            this.lettersChangedFlag ||
                                this.textAnimator.lettersChangedFlag)
                        ) {
                            this._sizeChanged = !0;
                            var e,
                                t,
                                r = this.textAnimator.renderedLetters,
                                n = this.textProperty.currentData.l;
                            t = n.length;
                            var a, i;
                            for (e = 0; e < t; e += 1)
                                n[e].n ||
                                    ((a = r[e]),
                                    (i = this.textSpans[e]),
                                    a._mdf.m &&
                                        i.setAttribute("transform", a.m),
                                    a._mdf.o && i.setAttribute("opacity", a.o),
                                    a._mdf.sw &&
                                        i.setAttribute("stroke-width", a.sw),
                                    a._mdf.sc && i.setAttribute("stroke", a.sc),
                                    a._mdf.fc && i.setAttribute("fill", a.fc));
                        }
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            SVGBaseElement,
                            IShapeElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                        ],
                        SVGShapeElement
                    ),
                    (SVGShapeElement.prototype.initSecondaryElement = function () {}),
                    (SVGShapeElement.prototype.identityMatrix = new Matrix()),
                    (SVGShapeElement.prototype.buildExpressionInterface = function () {}),
                    (SVGShapeElement.prototype.createContent = function () {
                        this.searchShapes(
                            this.shapesData,
                            this.itemsData,
                            this.prevViewData,
                            this.layerElement,
                            0,
                            [],
                            !0
                        ),
                            this.filterUniqueShapes();
                    }),
                    (SVGShapeElement.prototype.filterUniqueShapes = function () {
                        var e,
                            t,
                            r,
                            n,
                            a = this.shapes.length,
                            i = this.stylesList.length,
                            o = [],
                            s = !1;
                        for (r = 0; r < i; r += 1) {
                            for (
                                n = this.stylesList[r],
                                    s = !1,
                                    o.length = 0,
                                    e = 0;
                                e < a;
                                e += 1
                            )
                                -1 !== (t = this.shapes[e]).styles.indexOf(n) &&
                                    (o.push(t), (s = t._isAnimated || s));
                            o.length > 1 && s && this.setShapesAsAnimated(o);
                        }
                    }),
                    (SVGShapeElement.prototype.setShapesAsAnimated = function (
                        e
                    ) {
                        var t,
                            r = e.length;
                        for (t = 0; t < r; t += 1) e[t].setAsAnimated();
                    }),
                    (SVGShapeElement.prototype.createStyleElement = function (
                        e,
                        t
                    ) {
                        var r,
                            n = new SVGStyleData(e, t),
                            a = n.pElem;
                        if ("st" === e.ty)
                            r = new SVGStrokeStyleData(this, e, n);
                        else if ("fl" === e.ty)
                            r = new SVGFillStyleData(this, e, n);
                        else if ("gf" === e.ty || "gs" === e.ty) {
                            (r = new ("gf" === e.ty
                                ? SVGGradientFillStyleData
                                : SVGGradientStrokeStyleData)(this, e, n)),
                                this.globalData.defs.appendChild(r.gf),
                                r.maskId &&
                                    (this.globalData.defs.appendChild(r.ms),
                                    this.globalData.defs.appendChild(r.of),
                                    a.setAttribute(
                                        "mask",
                                        "url(" +
                                            locationHref +
                                            "#" +
                                            r.maskId +
                                            ")"
                                    ));
                        }
                        return (
                            ("st" !== e.ty && "gs" !== e.ty) ||
                                (a.setAttribute(
                                    "stroke-linecap",
                                    this.lcEnum[e.lc] || "round"
                                ),
                                a.setAttribute(
                                    "stroke-linejoin",
                                    this.ljEnum[e.lj] || "round"
                                ),
                                a.setAttribute("fill-opacity", "0"),
                                1 === e.lj &&
                                    a.setAttribute("stroke-miterlimit", e.ml)),
                            2 === e.r && a.setAttribute("fill-rule", "evenodd"),
                            e.ln && a.setAttribute("id", e.ln),
                            e.cl && a.setAttribute("class", e.cl),
                            e.bm &&
                                (a.style["mix-blend-mode"] = getBlendMode(
                                    e.bm
                                )),
                            this.stylesList.push(n),
                            this.addToAnimatedContents(e, r),
                            r
                        );
                    }),
                    (SVGShapeElement.prototype.createGroupElement = function (
                        e
                    ) {
                        var t = new ShapeGroupData();
                        return (
                            e.ln && t.gr.setAttribute("id", e.ln),
                            e.cl && t.gr.setAttribute("class", e.cl),
                            e.bm &&
                                (t.gr.style["mix-blend-mode"] = getBlendMode(
                                    e.bm
                                )),
                            t
                        );
                    }),
                    (SVGShapeElement.prototype.createTransformElement = function (
                        e,
                        t
                    ) {
                        var r = TransformPropertyFactory.getTransformProperty(
                                this,
                                e,
                                this
                            ),
                            n = new SVGTransformData(r, r.o, t);
                        return this.addToAnimatedContents(e, n), n;
                    }),
                    (SVGShapeElement.prototype.createShapeElement = function (
                        e,
                        t,
                        r
                    ) {
                        var n = 4;
                        "rc" === e.ty
                            ? (n = 5)
                            : "el" === e.ty
                            ? (n = 6)
                            : "sr" === e.ty && (n = 7);
                        var a = new SVGShapeData(
                            t,
                            r,
                            ShapePropertyFactory.getShapeProp(this, e, n, this)
                        );
                        return (
                            this.shapes.push(a),
                            this.addShapeToModifiers(a),
                            this.addToAnimatedContents(e, a),
                            a
                        );
                    }),
                    (SVGShapeElement.prototype.addToAnimatedContents = function (
                        e,
                        t
                    ) {
                        for (
                            var r = 0, n = this.animatedContents.length;
                            r < n;

                        ) {
                            if (this.animatedContents[r].element === t) return;
                            r += 1;
                        }
                        this.animatedContents.push({
                            fn: SVGElementsRenderer.createRenderFunction(e),
                            element: t,
                            data: e,
                        });
                    }),
                    (SVGShapeElement.prototype.setElementStyles = function (e) {
                        var t,
                            r = e.styles,
                            n = this.stylesList.length;
                        for (t = 0; t < n; t += 1)
                            this.stylesList[t].closed ||
                                r.push(this.stylesList[t]);
                    }),
                    (SVGShapeElement.prototype.reloadShapes = function () {
                        this._isFirstFrame = !0;
                        var e,
                            t = this.itemsData.length;
                        for (e = 0; e < t; e += 1)
                            this.prevViewData[e] = this.itemsData[e];
                        for (
                            this.searchShapes(
                                this.shapesData,
                                this.itemsData,
                                this.prevViewData,
                                this.layerElement,
                                0,
                                [],
                                !0
                            ),
                                this.filterUniqueShapes(),
                                t = this.dynamicProperties.length,
                                e = 0;
                            e < t;
                            e += 1
                        )
                            this.dynamicProperties[e].getValue();
                        this.renderModifiers();
                    }),
                    (SVGShapeElement.prototype.searchShapes = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i,
                        o
                    ) {
                        var s,
                            l,
                            c,
                            u,
                            d,
                            p,
                            h = [].concat(i),
                            f = e.length - 1,
                            m = [],
                            y = [];
                        for (s = f; s >= 0; s -= 1) {
                            if (
                                ((p = this.searchProcessedElement(e[s]))
                                    ? (t[s] = r[p - 1])
                                    : (e[s]._render = o),
                                "fl" == e[s].ty ||
                                    "st" == e[s].ty ||
                                    "gf" == e[s].ty ||
                                    "gs" == e[s].ty)
                            )
                                p
                                    ? (t[s].style.closed = !1)
                                    : (t[s] = this.createStyleElement(e[s], a)),
                                    e[s]._render &&
                                        n.appendChild(t[s].style.pElem),
                                    m.push(t[s].style);
                            else if ("gr" == e[s].ty) {
                                if (p)
                                    for (
                                        c = t[s].it.length, l = 0;
                                        l < c;
                                        l += 1
                                    )
                                        t[s].prevViewData[l] = t[s].it[l];
                                else t[s] = this.createGroupElement(e[s]);
                                this.searchShapes(
                                    e[s].it,
                                    t[s].it,
                                    t[s].prevViewData,
                                    t[s].gr,
                                    a + 1,
                                    h,
                                    o
                                ),
                                    e[s]._render && n.appendChild(t[s].gr);
                            } else
                                "tr" == e[s].ty
                                    ? (p ||
                                          (t[s] = this.createTransformElement(
                                              e[s],
                                              n
                                          )),
                                      (u = t[s].transform),
                                      h.push(u))
                                    : "sh" == e[s].ty ||
                                      "rc" == e[s].ty ||
                                      "el" == e[s].ty ||
                                      "sr" == e[s].ty
                                    ? (p ||
                                          (t[s] = this.createShapeElement(
                                              e[s],
                                              h,
                                              a
                                          )),
                                      this.setElementStyles(t[s]))
                                    : "tm" == e[s].ty ||
                                      "rd" == e[s].ty ||
                                      "ms" == e[s].ty ||
                                      "pb" == e[s].ty
                                    ? (p
                                          ? ((d = t[s]).closed = !1)
                                          : ((d = ShapeModifiers.getModifier(
                                                e[s].ty
                                            )).init(this, e[s]),
                                            (t[s] = d),
                                            this.shapeModifiers.push(d)),
                                      y.push(d))
                                    : "rp" == e[s].ty &&
                                      (p
                                          ? ((d = t[s]).closed = !0)
                                          : ((d = ShapeModifiers.getModifier(
                                                e[s].ty
                                            )),
                                            (t[s] = d),
                                            d.init(this, e, s, t),
                                            this.shapeModifiers.push(d),
                                            (o = !1)),
                                      y.push(d));
                            this.addProcessedElement(e[s], s + 1);
                        }
                        for (f = m.length, s = 0; s < f; s += 1)
                            m[s].closed = !0;
                        for (f = y.length, s = 0; s < f; s += 1)
                            y[s].closed = !0;
                    }),
                    (SVGShapeElement.prototype.renderInnerContent = function () {
                        this.renderModifiers();
                        var e,
                            t = this.stylesList.length;
                        for (e = 0; e < t; e += 1) this.stylesList[e].reset();
                        for (this.renderShape(), e = 0; e < t; e += 1)
                            (this.stylesList[e]._mdf || this._isFirstFrame) &&
                                (this.stylesList[e].msElem &&
                                    (this.stylesList[e].msElem.setAttribute(
                                        "d",
                                        this.stylesList[e].d
                                    ),
                                    (this.stylesList[e].d =
                                        "M0 0" + this.stylesList[e].d)),
                                this.stylesList[e].pElem.setAttribute(
                                    "d",
                                    this.stylesList[e].d || "M0 0"
                                ));
                    }),
                    (SVGShapeElement.prototype.renderShape = function () {
                        var e,
                            t,
                            r = this.animatedContents.length;
                        for (e = 0; e < r; e += 1)
                            (t = this.animatedContents[e]),
                                (this._isFirstFrame || t.element._isAnimated) &&
                                    !0 !== t.data &&
                                    t.fn(t.data, t.element, this._isFirstFrame);
                    }),
                    (SVGShapeElement.prototype.destroy = function () {
                        this.destroyBaseElement(),
                            (this.shapesData = null),
                            (this.itemsData = null);
                    }),
                    (SVGTintFilter.prototype.renderFrame = function (e) {
                        if (e || this.filterManager._mdf) {
                            var t = this.filterManager.effectElements[0].p.v,
                                r = this.filterManager.effectElements[1].p.v,
                                n =
                                    this.filterManager.effectElements[2].p.v /
                                    100;
                            this.matrixFilter.setAttribute(
                                "values",
                                r[0] -
                                    t[0] +
                                    " 0 0 0 " +
                                    t[0] +
                                    " " +
                                    (r[1] - t[1]) +
                                    " 0 0 0 " +
                                    t[1] +
                                    " " +
                                    (r[2] - t[2]) +
                                    " 0 0 0 " +
                                    t[2] +
                                    " 0 0 0 " +
                                    n +
                                    " 0"
                            );
                        }
                    }),
                    (SVGFillFilter.prototype.renderFrame = function (e) {
                        if (e || this.filterManager._mdf) {
                            var t = this.filterManager.effectElements[2].p.v,
                                r = this.filterManager.effectElements[6].p.v;
                            this.matrixFilter.setAttribute(
                                "values",
                                "0 0 0 0 " +
                                    t[0] +
                                    " 0 0 0 0 " +
                                    t[1] +
                                    " 0 0 0 0 " +
                                    t[2] +
                                    " 0 0 0 " +
                                    r +
                                    " 0"
                            );
                        }
                    }),
                    (SVGGaussianBlurEffect.prototype.renderFrame = function (
                        e
                    ) {
                        if (e || this.filterManager._mdf) {
                            var t =
                                    0.3 *
                                    this.filterManager.effectElements[0].p.v,
                                r = this.filterManager.effectElements[1].p.v,
                                n = 3 == r ? 0 : t,
                                a = 2 == r ? 0 : t;
                            this.feGaussianBlur.setAttribute(
                                "stdDeviation",
                                n + " " + a
                            );
                            var i =
                                1 == this.filterManager.effectElements[2].p.v
                                    ? "wrap"
                                    : "duplicate";
                            this.feGaussianBlur.setAttribute("edgeMode", i);
                        }
                    }),
                    (SVGStrokeEffect.prototype.initialize = function () {
                        var e,
                            t,
                            r,
                            n,
                            a =
                                this.elem.layerElement.children ||
                                this.elem.layerElement.childNodes;
                        for (
                            1 === this.filterManager.effectElements[1].p.v
                                ? ((n = this.elem.maskManager.masksProperties
                                      .length),
                                  (r = 0))
                                : (n =
                                      (r =
                                          this.filterManager.effectElements[0].p
                                              .v - 1) + 1),
                                (t = createNS("g")).setAttribute(
                                    "fill",
                                    "none"
                                ),
                                t.setAttribute("stroke-linecap", "round"),
                                t.setAttribute("stroke-dashoffset", 1);
                            r < n;
                            r += 1
                        )
                            (e = createNS("path")),
                                t.appendChild(e),
                                this.paths.push({ p: e, m: r });
                        if (3 === this.filterManager.effectElements[10].p.v) {
                            var i = createNS("mask"),
                                o = createElementID();
                            i.setAttribute("id", o),
                                i.setAttribute("mask-type", "alpha"),
                                i.appendChild(t),
                                this.elem.globalData.defs.appendChild(i);
                            var s = createNS("g");
                            for (
                                s.setAttribute(
                                    "mask",
                                    "url(" + locationHref + "#" + o + ")"
                                );
                                a[0];

                            )
                                s.appendChild(a[0]);
                            this.elem.layerElement.appendChild(s),
                                (this.masker = i),
                                t.setAttribute("stroke", "#fff");
                        } else if (
                            1 === this.filterManager.effectElements[10].p.v ||
                            2 === this.filterManager.effectElements[10].p.v
                        ) {
                            if (2 === this.filterManager.effectElements[10].p.v)
                                for (
                                    a =
                                        this.elem.layerElement.children ||
                                        this.elem.layerElement.childNodes;
                                    a.length;

                                )
                                    this.elem.layerElement.removeChild(a[0]);
                            this.elem.layerElement.appendChild(t),
                                this.elem.layerElement.removeAttribute("mask"),
                                t.setAttribute("stroke", "#fff");
                        }
                        (this.initialized = !0), (this.pathMasker = t);
                    }),
                    (SVGStrokeEffect.prototype.renderFrame = function (e) {
                        this.initialized || this.initialize();
                        var t,
                            r,
                            n,
                            a = this.paths.length;
                        for (t = 0; t < a; t += 1)
                            if (
                                -1 !== this.paths[t].m &&
                                ((r = this.elem.maskManager.viewData[
                                    this.paths[t].m
                                ]),
                                (n = this.paths[t].p),
                                (e || this.filterManager._mdf || r.prop._mdf) &&
                                    n.setAttribute("d", r.lastPath),
                                e ||
                                    this.filterManager.effectElements[9].p
                                        ._mdf ||
                                    this.filterManager.effectElements[4].p
                                        ._mdf ||
                                    this.filterManager.effectElements[7].p
                                        ._mdf ||
                                    this.filterManager.effectElements[8].p
                                        ._mdf ||
                                    r.prop._mdf)
                            ) {
                                var i;
                                if (
                                    0 !==
                                        this.filterManager.effectElements[7].p
                                            .v ||
                                    100 !==
                                        this.filterManager.effectElements[8].p.v
                                ) {
                                    var o =
                                            Math.min(
                                                this.filterManager
                                                    .effectElements[7].p.v,
                                                this.filterManager
                                                    .effectElements[8].p.v
                                            ) / 100,
                                        s =
                                            Math.max(
                                                this.filterManager
                                                    .effectElements[7].p.v,
                                                this.filterManager
                                                    .effectElements[8].p.v
                                            ) / 100,
                                        l = n.getTotalLength();
                                    i = "0 0 0 " + l * o + " ";
                                    var c,
                                        u = l * (s - o),
                                        d =
                                            1 +
                                            (2 *
                                                this.filterManager
                                                    .effectElements[4].p.v *
                                                this.filterManager
                                                    .effectElements[9].p.v) /
                                                100,
                                        p = Math.floor(u / d);
                                    for (c = 0; c < p; c += 1)
                                        i +=
                                            "1 " +
                                            (2 *
                                                this.filterManager
                                                    .effectElements[4].p.v *
                                                this.filterManager
                                                    .effectElements[9].p.v) /
                                                100 +
                                            " ";
                                    i += "0 " + 10 * l + " 0 0";
                                } else
                                    i =
                                        "1 " +
                                        (2 *
                                            this.filterManager.effectElements[4]
                                                .p.v *
                                            this.filterManager.effectElements[9]
                                                .p.v) /
                                            100;
                                n.setAttribute("stroke-dasharray", i);
                            }
                        if (
                            ((e ||
                                this.filterManager.effectElements[4].p._mdf) &&
                                this.pathMasker.setAttribute(
                                    "stroke-width",
                                    2 * this.filterManager.effectElements[4].p.v
                                ),
                            (e ||
                                this.filterManager.effectElements[6].p._mdf) &&
                                this.pathMasker.setAttribute(
                                    "opacity",
                                    this.filterManager.effectElements[6].p.v
                                ),
                            (1 === this.filterManager.effectElements[10].p.v ||
                                2 ===
                                    this.filterManager.effectElements[10].p
                                        .v) &&
                                (e ||
                                    this.filterManager.effectElements[3].p
                                        ._mdf))
                        ) {
                            var h = this.filterManager.effectElements[3].p.v;
                            this.pathMasker.setAttribute(
                                "stroke",
                                "rgb(" +
                                    bm_floor(255 * h[0]) +
                                    "," +
                                    bm_floor(255 * h[1]) +
                                    "," +
                                    bm_floor(255 * h[2]) +
                                    ")"
                            );
                        }
                    }),
                    (SVGTritoneFilter.prototype.renderFrame = function (e) {
                        if (e || this.filterManager._mdf) {
                            var t = this.filterManager.effectElements[0].p.v,
                                r = this.filterManager.effectElements[1].p.v,
                                n = this.filterManager.effectElements[2].p.v,
                                a = n[0] + " " + r[0] + " " + t[0],
                                i = n[1] + " " + r[1] + " " + t[1],
                                o = n[2] + " " + r[2] + " " + t[2];
                            this.feFuncR.setAttribute("tableValues", a),
                                this.feFuncG.setAttribute("tableValues", i),
                                this.feFuncB.setAttribute("tableValues", o);
                        }
                    }),
                    (SVGProLevelsFilter.prototype.createFeFunc = function (
                        e,
                        t
                    ) {
                        var r = createNS(e);
                        return (
                            r.setAttribute("type", "table"), t.appendChild(r), r
                        );
                    }),
                    (SVGProLevelsFilter.prototype.getTableValue = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        for (
                            var i,
                                o,
                                s = 0,
                                l = Math.min(e, t),
                                c = Math.max(e, t),
                                u = Array.call(null, { length: 256 }),
                                d = 0,
                                p = a - n,
                                h = t - e;
                            s <= 256;

                        )
                            (o =
                                (i = s / 256) <= l
                                    ? h < 0
                                        ? a
                                        : n
                                    : i >= c
                                    ? h < 0
                                        ? n
                                        : a
                                    : n + p * Math.pow((i - e) / h, 1 / r)),
                                (u[d++] = o),
                                (s += 256 / 255);
                        return u.join(" ");
                    }),
                    (SVGProLevelsFilter.prototype.renderFrame = function (e) {
                        if (e || this.filterManager._mdf) {
                            var t,
                                r = this.filterManager.effectElements;
                            this.feFuncRComposed &&
                                (e ||
                                    r[3].p._mdf ||
                                    r[4].p._mdf ||
                                    r[5].p._mdf ||
                                    r[6].p._mdf ||
                                    r[7].p._mdf) &&
                                ((t = this.getTableValue(
                                    r[3].p.v,
                                    r[4].p.v,
                                    r[5].p.v,
                                    r[6].p.v,
                                    r[7].p.v
                                )),
                                this.feFuncRComposed.setAttribute(
                                    "tableValues",
                                    t
                                ),
                                this.feFuncGComposed.setAttribute(
                                    "tableValues",
                                    t
                                ),
                                this.feFuncBComposed.setAttribute(
                                    "tableValues",
                                    t
                                )),
                                this.feFuncR &&
                                    (e ||
                                        r[10].p._mdf ||
                                        r[11].p._mdf ||
                                        r[12].p._mdf ||
                                        r[13].p._mdf ||
                                        r[14].p._mdf) &&
                                    ((t = this.getTableValue(
                                        r[10].p.v,
                                        r[11].p.v,
                                        r[12].p.v,
                                        r[13].p.v,
                                        r[14].p.v
                                    )),
                                    this.feFuncR.setAttribute(
                                        "tableValues",
                                        t
                                    )),
                                this.feFuncG &&
                                    (e ||
                                        r[17].p._mdf ||
                                        r[18].p._mdf ||
                                        r[19].p._mdf ||
                                        r[20].p._mdf ||
                                        r[21].p._mdf) &&
                                    ((t = this.getTableValue(
                                        r[17].p.v,
                                        r[18].p.v,
                                        r[19].p.v,
                                        r[20].p.v,
                                        r[21].p.v
                                    )),
                                    this.feFuncG.setAttribute(
                                        "tableValues",
                                        t
                                    )),
                                this.feFuncB &&
                                    (e ||
                                        r[24].p._mdf ||
                                        r[25].p._mdf ||
                                        r[26].p._mdf ||
                                        r[27].p._mdf ||
                                        r[28].p._mdf) &&
                                    ((t = this.getTableValue(
                                        r[24].p.v,
                                        r[25].p.v,
                                        r[26].p.v,
                                        r[27].p.v,
                                        r[28].p.v
                                    )),
                                    this.feFuncB.setAttribute(
                                        "tableValues",
                                        t
                                    )),
                                this.feFuncA &&
                                    (e ||
                                        r[31].p._mdf ||
                                        r[32].p._mdf ||
                                        r[33].p._mdf ||
                                        r[34].p._mdf ||
                                        r[35].p._mdf) &&
                                    ((t = this.getTableValue(
                                        r[31].p.v,
                                        r[32].p.v,
                                        r[33].p.v,
                                        r[34].p.v,
                                        r[35].p.v
                                    )),
                                    this.feFuncA.setAttribute(
                                        "tableValues",
                                        t
                                    ));
                        }
                    }),
                    (SVGDropShadowEffect.prototype.renderFrame = function (e) {
                        if (e || this.filterManager._mdf) {
                            if (
                                ((e ||
                                    this.filterManager.effectElements[4].p
                                        ._mdf) &&
                                    this.feGaussianBlur.setAttribute(
                                        "stdDeviation",
                                        this.filterManager.effectElements[4].p
                                            .v / 4
                                    ),
                                e ||
                                    this.filterManager.effectElements[0].p._mdf)
                            ) {
                                var t = this.filterManager.effectElements[0].p
                                    .v;
                                this.feFlood.setAttribute(
                                    "flood-color",
                                    rgbToHex(
                                        Math.round(255 * t[0]),
                                        Math.round(255 * t[1]),
                                        Math.round(255 * t[2])
                                    )
                                );
                            }
                            if (
                                ((e ||
                                    this.filterManager.effectElements[1].p
                                        ._mdf) &&
                                    this.feFlood.setAttribute(
                                        "flood-opacity",
                                        this.filterManager.effectElements[1].p
                                            .v / 255
                                    ),
                                e ||
                                    this.filterManager.effectElements[2].p
                                        ._mdf ||
                                    this.filterManager.effectElements[3].p._mdf)
                            ) {
                                var r = this.filterManager.effectElements[3].p
                                        .v,
                                    n =
                                        (this.filterManager.effectElements[2].p
                                            .v -
                                            90) *
                                        degToRads,
                                    a = r * Math.cos(n),
                                    i = r * Math.sin(n);
                                this.feOffset.setAttribute("dx", a),
                                    this.feOffset.setAttribute("dy", i);
                            }
                        }
                    });
                var _svgMatteSymbols = [];
                (SVGMatte3Effect.prototype.findSymbol = function (e) {
                    for (var t = 0, r = _svgMatteSymbols.length; t < r; ) {
                        if (_svgMatteSymbols[t] === e)
                            return _svgMatteSymbols[t];
                        t += 1;
                    }
                    return null;
                }),
                    (SVGMatte3Effect.prototype.replaceInParent = function (
                        e,
                        t
                    ) {
                        var r = e.layerElement.parentNode;
                        if (r) {
                            for (
                                var n = r.children, a = 0, i = n.length;
                                a < i && n[a] !== e.layerElement;

                            )
                                a += 1;
                            var o;
                            a <= i - 2 && (o = n[a + 1]);
                            var s = createNS("use");
                            s.setAttribute("href", "#" + t),
                                o ? r.insertBefore(s, o) : r.appendChild(s);
                        }
                    }),
                    (SVGMatte3Effect.prototype.setElementAsMask = function (
                        e,
                        t
                    ) {
                        if (!this.findSymbol(t)) {
                            var r = createElementID(),
                                n = createNS("mask");
                            n.setAttribute("id", t.layerId),
                                n.setAttribute("mask-type", "alpha"),
                                _svgMatteSymbols.push(t);
                            var a = e.globalData.defs;
                            a.appendChild(n);
                            var i = createNS("symbol");
                            i.setAttribute("id", r),
                                this.replaceInParent(t, r),
                                i.appendChild(t.layerElement),
                                a.appendChild(i);
                            var o = createNS("use");
                            o.setAttribute("href", "#" + r),
                                n.appendChild(o),
                                (t.data.hd = !1),
                                t.show();
                        }
                        e.setMatte(t.layerId);
                    }),
                    (SVGMatte3Effect.prototype.initialize = function () {
                        for (
                            var e = this.filterManager.effectElements[0].p.v,
                                t = this.elem.comp.elements,
                                r = 0,
                                n = t.length;
                            r < n;

                        )
                            t[r] &&
                                t[r].data.ind === e &&
                                this.setElementAsMask(this.elem, t[r]),
                                (r += 1);
                        this.initialized = !0;
                    }),
                    (SVGMatte3Effect.prototype.renderFrame = function () {
                        this.initialized || this.initialize();
                    }),
                    (SVGEffects.prototype.renderFrame = function (e) {
                        var t,
                            r = this.filters.length;
                        for (t = 0; t < r; t += 1)
                            this.filters[t].renderFrame(e);
                    }),
                    (CVContextData.prototype.duplicate = function () {
                        var e = 2 * this._length,
                            t = this.savedOp;
                        (this.savedOp = createTypedArray("float32", e)),
                            this.savedOp.set(t);
                        var r = 0;
                        for (r = this._length; r < e; r += 1)
                            this.saved[r] = createTypedArray("float32", 16);
                        this._length = e;
                    }),
                    (CVContextData.prototype.reset = function () {
                        (this.cArrPos = 0), this.cTr.reset(), (this.cO = 1);
                    }),
                    (CVBaseElement.prototype = {
                        createElements: function () {},
                        initRendererElement: function () {},
                        createContainerElements: function () {
                            (this.canvasContext = this.globalData.canvasContext),
                                (this.renderableEffectsManager = new CVEffects(
                                    this
                                ));
                        },
                        createContent: function () {},
                        setBlendMode: function () {
                            var e = this.globalData;
                            if (e.blendMode !== this.data.bm) {
                                e.blendMode = this.data.bm;
                                var t = getBlendMode(this.data.bm);
                                e.canvasContext.globalCompositeOperation = t;
                            }
                        },
                        createRenderableComponents: function () {
                            this.maskManager = new CVMaskElement(
                                this.data,
                                this
                            );
                        },
                        hideElement: function () {
                            this.hidden ||
                                (this.isInRange && !this.isTransparent) ||
                                (this.hidden = !0);
                        },
                        showElement: function () {
                            this.isInRange &&
                                !this.isTransparent &&
                                ((this.hidden = !1),
                                (this._isFirstFrame = !0),
                                (this.maskManager._isFirstFrame = !0));
                        },
                        renderFrame: function () {
                            if (!this.hidden && !this.data.hd) {
                                this.renderTransform(),
                                    this.renderRenderable(),
                                    this.setBlendMode();
                                var e = 0 === this.data.ty;
                                this.globalData.renderer.save(e),
                                    this.globalData.renderer.ctxTransform(
                                        this.finalTransform.mat.props
                                    ),
                                    this.globalData.renderer.ctxOpacity(
                                        this.finalTransform.mProp.o.v
                                    ),
                                    this.renderInnerContent(),
                                    this.globalData.renderer.restore(e),
                                    this.maskManager.hasMasks &&
                                        this.globalData.renderer.restore(!0),
                                    this._isFirstFrame &&
                                        (this._isFirstFrame = !1);
                            }
                        },
                        destroy: function () {
                            (this.canvasContext = null),
                                (this.data = null),
                                (this.globalData = null),
                                this.maskManager.destroy();
                        },
                        mHelper: new Matrix(),
                    }),
                    (CVBaseElement.prototype.hide =
                        CVBaseElement.prototype.hideElement),
                    (CVBaseElement.prototype.show =
                        CVBaseElement.prototype.showElement),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            CVBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                        ],
                        CVImageElement
                    ),
                    (CVImageElement.prototype.initElement =
                        SVGShapeElement.prototype.initElement),
                    (CVImageElement.prototype.prepareFrame =
                        IImageElement.prototype.prepareFrame),
                    (CVImageElement.prototype.createContent = function () {
                        if (
                            this.img.width &&
                            (this.assetData.w !== this.img.width ||
                                this.assetData.h !== this.img.height)
                        ) {
                            var e = createTag("canvas");
                            (e.width = this.assetData.w),
                                (e.height = this.assetData.h);
                            var t,
                                r,
                                n = e.getContext("2d"),
                                a = this.img.width,
                                i = this.img.height,
                                o = a / i,
                                s = this.assetData.w / this.assetData.h,
                                l =
                                    this.assetData.pr ||
                                    this.globalData.renderConfig
                                        .imagePreserveAspectRatio;
                            (o > s && "xMidYMid slice" === l) ||
                            (o < s && "xMidYMid slice" !== l)
                                ? (t = (r = i) * s)
                                : (r = (t = a) / s),
                                n.drawImage(
                                    this.img,
                                    (a - t) / 2,
                                    (i - r) / 2,
                                    t,
                                    r,
                                    0,
                                    0,
                                    this.assetData.w,
                                    this.assetData.h
                                ),
                                (this.img = e);
                        }
                    }),
                    (CVImageElement.prototype.renderInnerContent = function (
                        e
                    ) {
                        this.canvasContext.drawImage(this.img, 0, 0);
                    }),
                    (CVImageElement.prototype.destroy = function () {
                        this.img = null;
                    }),
                    extendPrototype(
                        [CanvasRenderer, ICompElement, CVBaseElement],
                        CVCompElement
                    ),
                    (CVCompElement.prototype.renderInnerContent = function () {
                        var e = this.canvasContext;
                        e.beginPath(),
                            e.moveTo(0, 0),
                            e.lineTo(this.data.w, 0),
                            e.lineTo(this.data.w, this.data.h),
                            e.lineTo(0, this.data.h),
                            e.lineTo(0, 0),
                            e.clip();
                        var t;
                        for (t = this.layers.length - 1; t >= 0; t -= 1)
                            (this.completeLayers || this.elements[t]) &&
                                this.elements[t].renderFrame();
                    }),
                    (CVCompElement.prototype.destroy = function () {
                        var e;
                        for (e = this.layers.length - 1; e >= 0; e -= 1)
                            this.elements[e] && this.elements[e].destroy();
                        (this.layers = null), (this.elements = null);
                    }),
                    (CVMaskElement.prototype.renderFrame = function () {
                        if (this.hasMasks) {
                            var e,
                                t,
                                r,
                                n,
                                a = this.element.finalTransform.mat,
                                i = this.element.canvasContext,
                                o = this.masksProperties.length;
                            for (i.beginPath(), e = 0; e < o; e++)
                                if ("n" !== this.masksProperties[e].mode) {
                                    this.masksProperties[e].inv &&
                                        (i.moveTo(0, 0),
                                        i.lineTo(
                                            this.element.globalData.compSize.w,
                                            0
                                        ),
                                        i.lineTo(
                                            this.element.globalData.compSize.w,
                                            this.element.globalData.compSize.h
                                        ),
                                        i.lineTo(
                                            0,
                                            this.element.globalData.compSize.h
                                        ),
                                        i.lineTo(0, 0)),
                                        (n = this.viewData[e].v),
                                        (t = a.applyToPointArray(
                                            n.v[0][0],
                                            n.v[0][1],
                                            0
                                        )),
                                        i.moveTo(t[0], t[1]);
                                    var s,
                                        l = n._length;
                                    for (s = 1; s < l; s++)
                                        (r = a.applyToTriplePoints(
                                            n.o[s - 1],
                                            n.i[s],
                                            n.v[s]
                                        )),
                                            i.bezierCurveTo(
                                                r[0],
                                                r[1],
                                                r[2],
                                                r[3],
                                                r[4],
                                                r[5]
                                            );
                                    (r = a.applyToTriplePoints(
                                        n.o[s - 1],
                                        n.i[0],
                                        n.v[0]
                                    )),
                                        i.bezierCurveTo(
                                            r[0],
                                            r[1],
                                            r[2],
                                            r[3],
                                            r[4],
                                            r[5]
                                        );
                                }
                            this.element.globalData.renderer.save(!0), i.clip();
                        }
                    }),
                    (CVMaskElement.prototype.getMaskProperty =
                        MaskElement.prototype.getMaskProperty),
                    (CVMaskElement.prototype.destroy = function () {
                        this.element = null;
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            CVBaseElement,
                            IShapeElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                        ],
                        CVShapeElement
                    ),
                    (CVShapeElement.prototype.initElement =
                        RenderableDOMElement.prototype.initElement),
                    (CVShapeElement.prototype.transformHelper = {
                        opacity: 1,
                        _opMdf: !1,
                    }),
                    (CVShapeElement.prototype.dashResetter = []),
                    (CVShapeElement.prototype.createContent = function () {
                        this.searchShapes(
                            this.shapesData,
                            this.itemsData,
                            this.prevViewData,
                            !0,
                            []
                        );
                    }),
                    (CVShapeElement.prototype.createStyleElement = function (
                        e,
                        t
                    ) {
                        var r = {
                                data: e,
                                type: e.ty,
                                preTransforms: this.transformsManager.addTransformSequence(
                                    t
                                ),
                                transforms: [],
                                elements: [],
                                closed: !0 === e.hd,
                            },
                            n = {};
                        if (
                            ("fl" == e.ty || "st" == e.ty
                                ? ((n.c = PropertyFactory.getProp(
                                      this,
                                      e.c,
                                      1,
                                      255,
                                      this
                                  )),
                                  n.c.k ||
                                      (r.co =
                                          "rgb(" +
                                          bm_floor(n.c.v[0]) +
                                          "," +
                                          bm_floor(n.c.v[1]) +
                                          "," +
                                          bm_floor(n.c.v[2]) +
                                          ")"))
                                : ("gf" !== e.ty && "gs" !== e.ty) ||
                                  ((n.s = PropertyFactory.getProp(
                                      this,
                                      e.s,
                                      1,
                                      null,
                                      this
                                  )),
                                  (n.e = PropertyFactory.getProp(
                                      this,
                                      e.e,
                                      1,
                                      null,
                                      this
                                  )),
                                  (n.h = PropertyFactory.getProp(
                                      this,
                                      e.h || { k: 0 },
                                      0,
                                      0.01,
                                      this
                                  )),
                                  (n.a = PropertyFactory.getProp(
                                      this,
                                      e.a || { k: 0 },
                                      0,
                                      degToRads,
                                      this
                                  )),
                                  (n.g = new GradientProperty(
                                      this,
                                      e.g,
                                      this
                                  ))),
                            (n.o = PropertyFactory.getProp(
                                this,
                                e.o,
                                0,
                                0.01,
                                this
                            )),
                            "st" == e.ty || "gs" == e.ty)
                        ) {
                            if (
                                ((r.lc = this.lcEnum[e.lc] || "round"),
                                (r.lj = this.ljEnum[e.lj] || "round"),
                                1 == e.lj && (r.ml = e.ml),
                                (n.w = PropertyFactory.getProp(
                                    this,
                                    e.w,
                                    0,
                                    null,
                                    this
                                )),
                                n.w.k || (r.wi = n.w.v),
                                e.d)
                            ) {
                                var a = new DashProperty(
                                    this,
                                    e.d,
                                    "canvas",
                                    this
                                );
                                (n.d = a),
                                    n.d.k ||
                                        ((r.da = n.d.dashArray),
                                        (r.do = n.d.dashoffset[0]));
                            }
                        } else r.r = 2 === e.r ? "evenodd" : "nonzero";
                        return this.stylesList.push(r), (n.style = r), n;
                    }),
                    (CVShapeElement.prototype.createGroupElement = function (
                        e
                    ) {
                        return { it: [], prevViewData: [] };
                    }),
                    (CVShapeElement.prototype.createTransformElement = function (
                        e
                    ) {
                        return {
                            transform: {
                                opacity: 1,
                                _opMdf: !1,
                                key: this.transformsManager.getNewKey(),
                                op: PropertyFactory.getProp(
                                    this,
                                    e.o,
                                    0,
                                    0.01,
                                    this
                                ),
                                mProps: TransformPropertyFactory.getTransformProperty(
                                    this,
                                    e,
                                    this
                                ),
                            },
                        };
                    }),
                    (CVShapeElement.prototype.createShapeElement = function (
                        e
                    ) {
                        var t = new CVShapeData(
                            this,
                            e,
                            this.stylesList,
                            this.transformsManager
                        );
                        return (
                            this.shapes.push(t), this.addShapeToModifiers(t), t
                        );
                    }),
                    (CVShapeElement.prototype.reloadShapes = function () {
                        this._isFirstFrame = !0;
                        var e,
                            t = this.itemsData.length;
                        for (e = 0; e < t; e += 1)
                            this.prevViewData[e] = this.itemsData[e];
                        for (
                            this.searchShapes(
                                this.shapesData,
                                this.itemsData,
                                this.prevViewData,
                                !0,
                                []
                            ),
                                t = this.dynamicProperties.length,
                                e = 0;
                            e < t;
                            e += 1
                        )
                            this.dynamicProperties[e].getValue();
                        this.renderModifiers(),
                            this.transformsManager.processSequences(
                                this._isFirstFrame
                            );
                    }),
                    (CVShapeElement.prototype.addTransformToStyleList = function (
                        e
                    ) {
                        var t,
                            r = this.stylesList.length;
                        for (t = 0; t < r; t += 1)
                            this.stylesList[t].closed ||
                                this.stylesList[t].transforms.push(e);
                    }),
                    (CVShapeElement.prototype.removeTransformFromStyleList = function () {
                        var e,
                            t = this.stylesList.length;
                        for (e = 0; e < t; e += 1)
                            this.stylesList[e].closed ||
                                this.stylesList[e].transforms.pop();
                    }),
                    (CVShapeElement.prototype.closeStyles = function (e) {
                        var t,
                            r = e.length;
                        for (t = 0; t < r; t += 1) e[t].closed = !0;
                    }),
                    (CVShapeElement.prototype.searchShapes = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        var i,
                            o,
                            s,
                            l,
                            c,
                            u,
                            d = e.length - 1,
                            p = [],
                            h = [],
                            f = [].concat(a);
                        for (i = d; i >= 0; i -= 1) {
                            if (
                                ((l = this.searchProcessedElement(e[i]))
                                    ? (t[i] = r[l - 1])
                                    : (e[i]._shouldRender = n),
                                "fl" == e[i].ty ||
                                    "st" == e[i].ty ||
                                    "gf" == e[i].ty ||
                                    "gs" == e[i].ty)
                            )
                                l
                                    ? (t[i].style.closed = !1)
                                    : (t[i] = this.createStyleElement(e[i], f)),
                                    p.push(t[i].style);
                            else if ("gr" == e[i].ty) {
                                if (l)
                                    for (
                                        s = t[i].it.length, o = 0;
                                        o < s;
                                        o += 1
                                    )
                                        t[i].prevViewData[o] = t[i].it[o];
                                else t[i] = this.createGroupElement(e[i]);
                                this.searchShapes(
                                    e[i].it,
                                    t[i].it,
                                    t[i].prevViewData,
                                    n,
                                    f
                                );
                            } else
                                "tr" == e[i].ty
                                    ? (l ||
                                          ((u = this.createTransformElement(
                                              e[i]
                                          )),
                                          (t[i] = u)),
                                      f.push(t[i]),
                                      this.addTransformToStyleList(t[i]))
                                    : "sh" == e[i].ty ||
                                      "rc" == e[i].ty ||
                                      "el" == e[i].ty ||
                                      "sr" == e[i].ty
                                    ? l ||
                                      (t[i] = this.createShapeElement(e[i]))
                                    : "tm" == e[i].ty ||
                                      "rd" == e[i].ty ||
                                      "pb" == e[i].ty
                                    ? (l
                                          ? ((c = t[i]).closed = !1)
                                          : ((c = ShapeModifiers.getModifier(
                                                e[i].ty
                                            )).init(this, e[i]),
                                            (t[i] = c),
                                            this.shapeModifiers.push(c)),
                                      h.push(c))
                                    : "rp" == e[i].ty &&
                                      (l
                                          ? ((c = t[i]).closed = !0)
                                          : ((c = ShapeModifiers.getModifier(
                                                e[i].ty
                                            )),
                                            (t[i] = c),
                                            c.init(this, e, i, t),
                                            this.shapeModifiers.push(c),
                                            (n = !1)),
                                      h.push(c));
                            this.addProcessedElement(e[i], i + 1);
                        }
                        for (
                            this.removeTransformFromStyleList(),
                                this.closeStyles(p),
                                d = h.length,
                                i = 0;
                            i < d;
                            i += 1
                        )
                            h[i].closed = !0;
                    }),
                    (CVShapeElement.prototype.renderInnerContent = function () {
                        (this.transformHelper.opacity = 1),
                            (this.transformHelper._opMdf = !1),
                            this.renderModifiers(),
                            this.transformsManager.processSequences(
                                this._isFirstFrame
                            ),
                            this.renderShape(
                                this.transformHelper,
                                this.shapesData,
                                this.itemsData,
                                !0
                            );
                    }),
                    (CVShapeElement.prototype.renderShapeTransform = function (
                        e,
                        t
                    ) {
                        (e._opMdf || t.op._mdf || this._isFirstFrame) &&
                            ((t.opacity = e.opacity),
                            (t.opacity *= t.op.v),
                            (t._opMdf = !0));
                    }),
                    (CVShapeElement.prototype.drawLayer = function () {
                        var e,
                            t,
                            r,
                            n,
                            a,
                            i,
                            o,
                            s,
                            l,
                            c = this.stylesList.length,
                            u = this.globalData.renderer,
                            d = this.globalData.canvasContext;
                        for (e = 0; e < c; e += 1)
                            if (
                                ((l = this.stylesList[e]),
                                (("st" !== (s = l.type) && "gs" !== s) ||
                                    0 !== l.wi) &&
                                    l.data._shouldRender &&
                                    0 !== l.coOp &&
                                    0 !== this.globalData.currentGlobalAlpha)
                            ) {
                                for (
                                    u.save(),
                                        i = l.elements,
                                        "st" === s || "gs" === s
                                            ? ((d.strokeStyle =
                                                  "st" === s ? l.co : l.grd),
                                              (d.lineWidth = l.wi),
                                              (d.lineCap = l.lc),
                                              (d.lineJoin = l.lj),
                                              (d.miterLimit = l.ml || 0))
                                            : (d.fillStyle =
                                                  "fl" === s ? l.co : l.grd),
                                        u.ctxOpacity(l.coOp),
                                        "st" !== s &&
                                            "gs" !== s &&
                                            d.beginPath(),
                                        u.ctxTransform(
                                            l.preTransforms.finalTransform.props
                                        ),
                                        r = i.length,
                                        t = 0;
                                    t < r;
                                    t += 1
                                ) {
                                    for (
                                        ("st" !== s && "gs" !== s) ||
                                            (d.beginPath(),
                                            l.da &&
                                                (d.setLineDash(l.da),
                                                (d.lineDashOffset = l.do))),
                                            a = (o = i[t].trNodes).length,
                                            n = 0;
                                        n < a;
                                        n += 1
                                    )
                                        "m" == o[n].t
                                            ? d.moveTo(o[n].p[0], o[n].p[1])
                                            : "c" == o[n].t
                                            ? d.bezierCurveTo(
                                                  o[n].pts[0],
                                                  o[n].pts[1],
                                                  o[n].pts[2],
                                                  o[n].pts[3],
                                                  o[n].pts[4],
                                                  o[n].pts[5]
                                              )
                                            : d.closePath();
                                    ("st" !== s && "gs" !== s) ||
                                        (d.stroke(),
                                        l.da &&
                                            d.setLineDash(this.dashResetter));
                                }
                                "st" !== s && "gs" !== s && d.fill(l.r),
                                    u.restore();
                            }
                    }),
                    (CVShapeElement.prototype.renderShape = function (
                        e,
                        t,
                        r,
                        n
                    ) {
                        var a, i;
                        for (i = e, a = t.length - 1; a >= 0; a -= 1)
                            "tr" == t[a].ty
                                ? ((i = r[a].transform),
                                  this.renderShapeTransform(e, i))
                                : "sh" == t[a].ty ||
                                  "el" == t[a].ty ||
                                  "rc" == t[a].ty ||
                                  "sr" == t[a].ty
                                ? this.renderPath(t[a], r[a])
                                : "fl" == t[a].ty
                                ? this.renderFill(t[a], r[a], i)
                                : "st" == t[a].ty
                                ? this.renderStroke(t[a], r[a], i)
                                : "gf" == t[a].ty || "gs" == t[a].ty
                                ? this.renderGradientFill(t[a], r[a], i)
                                : "gr" == t[a].ty
                                ? this.renderShape(i, t[a].it, r[a].it)
                                : t[a].ty;
                        n && this.drawLayer();
                    }),
                    (CVShapeElement.prototype.renderStyledShape = function (
                        e,
                        t
                    ) {
                        if (this._isFirstFrame || t._mdf || e.transforms._mdf) {
                            var r,
                                n,
                                a,
                                i = e.trNodes,
                                o = t.paths,
                                s = o._length;
                            i.length = 0;
                            var l = e.transforms.finalTransform;
                            for (a = 0; a < s; a += 1) {
                                var c = o.shapes[a];
                                if (c && c.v) {
                                    for (n = c._length, r = 1; r < n; r += 1)
                                        1 === r &&
                                            i.push({
                                                t: "m",
                                                p: l.applyToPointArray(
                                                    c.v[0][0],
                                                    c.v[0][1],
                                                    0
                                                ),
                                            }),
                                            i.push({
                                                t: "c",
                                                pts: l.applyToTriplePoints(
                                                    c.o[r - 1],
                                                    c.i[r],
                                                    c.v[r]
                                                ),
                                            });
                                    1 === n &&
                                        i.push({
                                            t: "m",
                                            p: l.applyToPointArray(
                                                c.v[0][0],
                                                c.v[0][1],
                                                0
                                            ),
                                        }),
                                        c.c &&
                                            n &&
                                            (i.push({
                                                t: "c",
                                                pts: l.applyToTriplePoints(
                                                    c.o[r - 1],
                                                    c.i[0],
                                                    c.v[0]
                                                ),
                                            }),
                                            i.push({ t: "z" }));
                                }
                            }
                            e.trNodes = i;
                        }
                    }),
                    (CVShapeElement.prototype.renderPath = function (e, t) {
                        if (!0 !== e.hd && e._shouldRender) {
                            var r,
                                n = t.styledShapes.length;
                            for (r = 0; r < n; r += 1)
                                this.renderStyledShape(t.styledShapes[r], t.sh);
                        }
                    }),
                    (CVShapeElement.prototype.renderFill = function (e, t, r) {
                        var n = t.style;
                        (t.c._mdf || this._isFirstFrame) &&
                            (n.co =
                                "rgb(" +
                                bm_floor(t.c.v[0]) +
                                "," +
                                bm_floor(t.c.v[1]) +
                                "," +
                                bm_floor(t.c.v[2]) +
                                ")"),
                            (t.o._mdf || r._opMdf || this._isFirstFrame) &&
                                (n.coOp = t.o.v * r.opacity);
                    }),
                    (CVShapeElement.prototype.renderGradientFill = function (
                        e,
                        t,
                        r
                    ) {
                        var n = t.style;
                        if (
                            !n.grd ||
                            t.g._mdf ||
                            t.s._mdf ||
                            t.e._mdf ||
                            (1 !== e.t && (t.h._mdf || t.a._mdf))
                        ) {
                            var a = this.globalData.canvasContext,
                                i = t.s.v,
                                o = t.e.v;
                            if (1 === e.t)
                                p = a.createLinearGradient(
                                    i[0],
                                    i[1],
                                    o[0],
                                    o[1]
                                );
                            else
                                var s = Math.sqrt(
                                        Math.pow(i[0] - o[0], 2) +
                                            Math.pow(i[1] - o[1], 2)
                                    ),
                                    l = Math.atan2(o[1] - i[1], o[0] - i[0]),
                                    c =
                                        s *
                                        (t.h.v >= 1
                                            ? 0.99
                                            : t.h.v <= -1
                                            ? -0.99
                                            : t.h.v),
                                    u = Math.cos(l + t.a.v) * c + i[0],
                                    d = Math.sin(l + t.a.v) * c + i[1],
                                    p = a.createRadialGradient(
                                        u,
                                        d,
                                        0,
                                        i[0],
                                        i[1],
                                        s
                                    );
                            var h,
                                f = e.g.p,
                                m = t.g.c,
                                y = 1;
                            for (h = 0; h < f; h += 1)
                                t.g._hasOpacity &&
                                    t.g._collapsable &&
                                    (y = t.g.o[2 * h + 1]),
                                    p.addColorStop(
                                        m[4 * h] / 100,
                                        "rgba(" +
                                            m[4 * h + 1] +
                                            "," +
                                            m[4 * h + 2] +
                                            "," +
                                            m[4 * h + 3] +
                                            "," +
                                            y +
                                            ")"
                                    );
                            n.grd = p;
                        }
                        n.coOp = t.o.v * r.opacity;
                    }),
                    (CVShapeElement.prototype.renderStroke = function (
                        e,
                        t,
                        r
                    ) {
                        var n = t.style,
                            a = t.d;
                        a &&
                            (a._mdf || this._isFirstFrame) &&
                            ((n.da = a.dashArray), (n.do = a.dashoffset[0])),
                            (t.c._mdf || this._isFirstFrame) &&
                                (n.co =
                                    "rgb(" +
                                    bm_floor(t.c.v[0]) +
                                    "," +
                                    bm_floor(t.c.v[1]) +
                                    "," +
                                    bm_floor(t.c.v[2]) +
                                    ")"),
                            (t.o._mdf || r._opMdf || this._isFirstFrame) &&
                                (n.coOp = t.o.v * r.opacity),
                            (t.w._mdf || this._isFirstFrame) && (n.wi = t.w.v);
                    }),
                    (CVShapeElement.prototype.destroy = function () {
                        (this.shapesData = null),
                            (this.globalData = null),
                            (this.canvasContext = null),
                            (this.stylesList.length = 0),
                            (this.itemsData.length = 0);
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            CVBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                        ],
                        CVSolidElement
                    ),
                    (CVSolidElement.prototype.initElement =
                        SVGShapeElement.prototype.initElement),
                    (CVSolidElement.prototype.prepareFrame =
                        IImageElement.prototype.prepareFrame),
                    (CVSolidElement.prototype.renderInnerContent = function () {
                        var e = this.canvasContext;
                        (e.fillStyle = this.data.sc),
                            e.fillRect(0, 0, this.data.sw, this.data.sh);
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            CVBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                            ITextElement,
                        ],
                        CVTextElement
                    ),
                    (CVTextElement.prototype.tHelper = createTag(
                        "canvas"
                    ).getContext("2d")),
                    (CVTextElement.prototype.buildNewText = function () {
                        var e = this.textProperty.currentData;
                        this.renderedLetters = createSizedArray(
                            e.l ? e.l.length : 0
                        );
                        var t = !1;
                        e.fc
                            ? ((t = !0),
                              (this.values.fill = this.buildColor(e.fc)))
                            : (this.values.fill = "rgba(0,0,0,0)"),
                            (this.fill = t);
                        var r = !1;
                        e.sc &&
                            ((r = !0),
                            (this.values.stroke = this.buildColor(e.sc)),
                            (this.values.sWidth = e.sw));
                        var n,
                            a,
                            i = this.globalData.fontManager.getFontByName(e.f),
                            o = e.l,
                            s = this.mHelper;
                        (this.stroke = r),
                            (this.values.fValue =
                                e.finalSize +
                                "px " +
                                this.globalData.fontManager.getFontByName(e.f)
                                    .fFamily),
                            (a = e.finalText.length);
                        var l,
                            c,
                            u,
                            d,
                            p,
                            h,
                            f,
                            m,
                            y,
                            g,
                            v = this.data.singleShape,
                            b = (e.tr / 1e3) * e.finalSize,
                            w = 0,
                            _ = 0,
                            E = !0,
                            S = 0;
                        for (n = 0; n < a; n += 1) {
                            for (
                                c =
                                    ((l = this.globalData.fontManager.getCharData(
                                        e.finalText[n],
                                        i.fStyle,
                                        this.globalData.fontManager.getFontByName(
                                            e.f
                                        ).fFamily
                                    )) &&
                                        l.data) ||
                                    {},
                                    s.reset(),
                                    v &&
                                        o[n].n &&
                                        ((w = -b),
                                        (_ += e.yOffset),
                                        (_ += E ? 1 : 0),
                                        (E = !1)),
                                    f = (p = c.shapes ? c.shapes[0].it : [])
                                        .length,
                                    s.scale(
                                        e.finalSize / 100,
                                        e.finalSize / 100
                                    ),
                                    v &&
                                        this.applyTextPropertiesToMatrix(
                                            e,
                                            s,
                                            o[n].line,
                                            w,
                                            _
                                        ),
                                    y = createSizedArray(f),
                                    h = 0;
                                h < f;
                                h += 1
                            ) {
                                for (
                                    d = p[h].ks.k.i.length,
                                        m = p[h].ks.k,
                                        g = [],
                                        u = 1;
                                    u < d;
                                    u += 1
                                )
                                    1 == u &&
                                        g.push(
                                            s.applyToX(m.v[0][0], m.v[0][1], 0),
                                            s.applyToY(m.v[0][0], m.v[0][1], 0)
                                        ),
                                        g.push(
                                            s.applyToX(
                                                m.o[u - 1][0],
                                                m.o[u - 1][1],
                                                0
                                            ),
                                            s.applyToY(
                                                m.o[u - 1][0],
                                                m.o[u - 1][1],
                                                0
                                            ),
                                            s.applyToX(m.i[u][0], m.i[u][1], 0),
                                            s.applyToY(m.i[u][0], m.i[u][1], 0),
                                            s.applyToX(m.v[u][0], m.v[u][1], 0),
                                            s.applyToY(m.v[u][0], m.v[u][1], 0)
                                        );
                                g.push(
                                    s.applyToX(m.o[u - 1][0], m.o[u - 1][1], 0),
                                    s.applyToY(m.o[u - 1][0], m.o[u - 1][1], 0),
                                    s.applyToX(m.i[0][0], m.i[0][1], 0),
                                    s.applyToY(m.i[0][0], m.i[0][1], 0),
                                    s.applyToX(m.v[0][0], m.v[0][1], 0),
                                    s.applyToY(m.v[0][0], m.v[0][1], 0)
                                ),
                                    (y[h] = g);
                            }
                            v && ((w += o[n].l), (w += b)),
                                this.textSpans[S]
                                    ? (this.textSpans[S].elem = y)
                                    : (this.textSpans[S] = { elem: y }),
                                (S += 1);
                        }
                    }),
                    (CVTextElement.prototype.renderInnerContent = function () {
                        var e = this.canvasContext;
                        this.finalTransform.mat.props;
                        (e.font = this.values.fValue),
                            (e.lineCap = "butt"),
                            (e.lineJoin = "miter"),
                            (e.miterLimit = 4),
                            this.data.singleShape ||
                                this.textAnimator.getMeasures(
                                    this.textProperty.currentData,
                                    this.lettersChangedFlag
                                );
                        var t,
                            r,
                            n,
                            a,
                            i,
                            o,
                            s = this.textAnimator.renderedLetters,
                            l = this.textProperty.currentData.l;
                        r = l.length;
                        var c,
                            u,
                            d,
                            p = null,
                            h = null,
                            f = null;
                        for (t = 0; t < r; t += 1)
                            if (!l[t].n) {
                                if (
                                    ((c = s[t]) &&
                                        (this.globalData.renderer.save(),
                                        this.globalData.renderer.ctxTransform(
                                            c.p
                                        ),
                                        this.globalData.renderer.ctxOpacity(
                                            c.o
                                        )),
                                    this.fill)
                                ) {
                                    for (
                                        c && c.fc
                                            ? p !== c.fc &&
                                              ((p = c.fc), (e.fillStyle = c.fc))
                                            : p !== this.values.fill &&
                                              ((p = this.values.fill),
                                              (e.fillStyle = this.values.fill)),
                                            a = (u = this.textSpans[t].elem)
                                                .length,
                                            this.globalData.canvasContext.beginPath(),
                                            n = 0;
                                        n < a;
                                        n += 1
                                    )
                                        for (
                                            o = (d = u[n]).length,
                                                this.globalData.canvasContext.moveTo(
                                                    d[0],
                                                    d[1]
                                                ),
                                                i = 2;
                                            i < o;
                                            i += 6
                                        )
                                            this.globalData.canvasContext.bezierCurveTo(
                                                d[i],
                                                d[i + 1],
                                                d[i + 2],
                                                d[i + 3],
                                                d[i + 4],
                                                d[i + 5]
                                            );
                                    this.globalData.canvasContext.closePath(),
                                        this.globalData.canvasContext.fill();
                                }
                                if (this.stroke) {
                                    for (
                                        c && c.sw
                                            ? f !== c.sw &&
                                              ((f = c.sw), (e.lineWidth = c.sw))
                                            : f !== this.values.sWidth &&
                                              ((f = this.values.sWidth),
                                              (e.lineWidth = this.values.sWidth)),
                                            c && c.sc
                                                ? h !== c.sc &&
                                                  ((h = c.sc),
                                                  (e.strokeStyle = c.sc))
                                                : h !== this.values.stroke &&
                                                  ((h = this.values.stroke),
                                                  (e.strokeStyle = this.values.stroke)),
                                            a = (u = this.textSpans[t].elem)
                                                .length,
                                            this.globalData.canvasContext.beginPath(),
                                            n = 0;
                                        n < a;
                                        n += 1
                                    )
                                        for (
                                            o = (d = u[n]).length,
                                                this.globalData.canvasContext.moveTo(
                                                    d[0],
                                                    d[1]
                                                ),
                                                i = 2;
                                            i < o;
                                            i += 6
                                        )
                                            this.globalData.canvasContext.bezierCurveTo(
                                                d[i],
                                                d[i + 1],
                                                d[i + 2],
                                                d[i + 3],
                                                d[i + 4],
                                                d[i + 5]
                                            );
                                    this.globalData.canvasContext.closePath(),
                                        this.globalData.canvasContext.stroke();
                                }
                                c && this.globalData.renderer.restore();
                            }
                    }),
                    (CVEffects.prototype.renderFrame = function () {}),
                    (HBaseElement.prototype = {
                        checkBlendMode: function () {},
                        initRendererElement: function () {
                            (this.baseElement = createTag(
                                this.data.tg || "div"
                            )),
                                this.data.hasMask
                                    ? ((this.svgElement = createNS("svg")),
                                      (this.layerElement = createNS("g")),
                                      (this.maskedElement = this.layerElement),
                                      this.svgElement.appendChild(
                                          this.layerElement
                                      ),
                                      this.baseElement.appendChild(
                                          this.svgElement
                                      ))
                                    : (this.layerElement = this.baseElement),
                                styleDiv(this.baseElement);
                        },
                        createContainerElements: function () {
                            (this.renderableEffectsManager = new CVEffects(
                                this
                            )),
                                (this.transformedElement = this.baseElement),
                                (this.maskedElement = this.layerElement),
                                this.data.ln &&
                                    this.layerElement.setAttribute(
                                        "id",
                                        this.data.ln
                                    ),
                                this.data.cl &&
                                    this.layerElement.setAttribute(
                                        "class",
                                        this.data.cl
                                    ),
                                0 !== this.data.bm && this.setBlendMode();
                        },
                        renderElement: function () {
                            this.finalTransform._matMdf &&
                                (this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS()),
                                this.finalTransform._opMdf &&
                                    (this.transformedElement.style.opacity = this.finalTransform.mProp.o.v);
                        },
                        renderFrame: function () {
                            this.data.hd ||
                                this.hidden ||
                                (this.renderTransform(),
                                this.renderRenderable(),
                                this.renderElement(),
                                this.renderInnerContent(),
                                this._isFirstFrame &&
                                    (this._isFirstFrame = !1));
                        },
                        destroy: function () {
                            (this.layerElement = null),
                                (this.transformedElement = null),
                                this.matteElement && (this.matteElement = null),
                                this.maskManager &&
                                    (this.maskManager.destroy(),
                                    (this.maskManager = null));
                        },
                        createRenderableComponents: function () {
                            this.maskManager = new MaskElement(
                                this.data,
                                this,
                                this.globalData
                            );
                        },
                        addEffects: function () {},
                        setMatte: function () {},
                    }),
                    (HBaseElement.prototype.getBaseElement =
                        SVGBaseElement.prototype.getBaseElement),
                    (HBaseElement.prototype.destroyBaseElement =
                        HBaseElement.prototype.destroy),
                    (HBaseElement.prototype.buildElementParenting =
                        HybridRenderer.prototype.buildElementParenting),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                        ],
                        HSolidElement
                    ),
                    (HSolidElement.prototype.createContent = function () {
                        var e;
                        this.data.hasMask
                            ? ((e = createNS("rect")).setAttribute(
                                  "width",
                                  this.data.sw
                              ),
                              e.setAttribute("height", this.data.sh),
                              e.setAttribute("fill", this.data.sc),
                              this.svgElement.setAttribute(
                                  "width",
                                  this.data.sw
                              ),
                              this.svgElement.setAttribute(
                                  "height",
                                  this.data.sh
                              ))
                            : (((e = createTag("div")).style.width =
                                  this.data.sw + "px"),
                              (e.style.height = this.data.sh + "px"),
                              (e.style.backgroundColor = this.data.sc)),
                            this.layerElement.appendChild(e);
                    }),
                    extendPrototype(
                        [HybridRenderer, ICompElement, HBaseElement],
                        HCompElement
                    ),
                    (HCompElement.prototype._createBaseContainerElements =
                        HCompElement.prototype.createContainerElements),
                    (HCompElement.prototype.createContainerElements = function () {
                        this._createBaseContainerElements(),
                            this.data.hasMask
                                ? (this.svgElement.setAttribute(
                                      "width",
                                      this.data.w
                                  ),
                                  this.svgElement.setAttribute(
                                      "height",
                                      this.data.h
                                  ),
                                  (this.transformedElement = this.baseElement))
                                : (this.transformedElement = this.layerElement);
                    }),
                    (HCompElement.prototype.addTo3dContainer = function (e, t) {
                        for (var r, n = 0; n < t; )
                            this.elements[n] &&
                                this.elements[n].getBaseElement &&
                                (r = this.elements[n].getBaseElement()),
                                (n += 1);
                        r
                            ? this.layerElement.insertBefore(e, r)
                            : this.layerElement.appendChild(e);
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HSolidElement,
                            SVGShapeElement,
                            HBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                        ],
                        HShapeElement
                    ),
                    (HShapeElement.prototype._renderShapeFrame =
                        HShapeElement.prototype.renderInnerContent),
                    (HShapeElement.prototype.createContent = function () {
                        var e;
                        if (
                            ((this.baseElement.style.fontSize = 0),
                            this.data.hasMask)
                        )
                            this.layerElement.appendChild(this.shapesContainer),
                                (e = this.svgElement);
                        else {
                            e = createNS("svg");
                            var t = this.comp.data
                                ? this.comp.data
                                : this.globalData.compSize;
                            e.setAttribute("width", t.w),
                                e.setAttribute("height", t.h),
                                e.appendChild(this.shapesContainer),
                                this.layerElement.appendChild(e);
                        }
                        this.searchShapes(
                            this.shapesData,
                            this.itemsData,
                            this.prevViewData,
                            this.shapesContainer,
                            0,
                            [],
                            !0
                        ),
                            this.filterUniqueShapes(),
                            (this.shapeCont = e);
                    }),
                    (HShapeElement.prototype.getTransformedPoint = function (
                        e,
                        t
                    ) {
                        var r,
                            n = e.length;
                        for (r = 0; r < n; r += 1)
                            t = e[r].mProps.v.applyToPointArray(t[0], t[1], 0);
                        return t;
                    }),
                    (HShapeElement.prototype.calculateShapeBoundingBox = function (
                        e,
                        t
                    ) {
                        var r,
                            n,
                            a,
                            i,
                            o,
                            s = e.sh.v,
                            l = e.transformers,
                            c = s._length;
                        if (!(c <= 1)) {
                            for (r = 0; r < c - 1; r += 1)
                                (n = this.getTransformedPoint(l, s.v[r])),
                                    (a = this.getTransformedPoint(l, s.o[r])),
                                    (i = this.getTransformedPoint(
                                        l,
                                        s.i[r + 1]
                                    )),
                                    (o = this.getTransformedPoint(
                                        l,
                                        s.v[r + 1]
                                    )),
                                    this.checkBounds(n, a, i, o, t);
                            s.c &&
                                ((n = this.getTransformedPoint(l, s.v[r])),
                                (a = this.getTransformedPoint(l, s.o[r])),
                                (i = this.getTransformedPoint(l, s.i[0])),
                                (o = this.getTransformedPoint(l, s.v[0])),
                                this.checkBounds(n, a, i, o, t));
                        }
                    }),
                    (HShapeElement.prototype.checkBounds = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        this.getBoundsOfCurve(e, t, r, n);
                        var i = this.shapeBoundingBox;
                        (a.x = bm_min(i.left, a.x)),
                            (a.xMax = bm_max(i.right, a.xMax)),
                            (a.y = bm_min(i.top, a.y)),
                            (a.yMax = bm_max(i.bottom, a.yMax));
                    }),
                    (HShapeElement.prototype.shapeBoundingBox = {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                    }),
                    (HShapeElement.prototype.tempBoundingBox = {
                        x: 0,
                        xMax: 0,
                        y: 0,
                        yMax: 0,
                        width: 0,
                        height: 0,
                    }),
                    (HShapeElement.prototype.getBoundsOfCurve = function (
                        e,
                        t,
                        r,
                        n
                    ) {
                        for (
                            var a,
                                i,
                                o,
                                s,
                                l,
                                c,
                                u,
                                d = [
                                    [e[0], n[0]],
                                    [e[1], n[1]],
                                ],
                                p = 0;
                            p < 2;
                            ++p
                        )
                            if (
                                ((i = 6 * e[p] - 12 * t[p] + 6 * r[p]),
                                (a =
                                    -3 * e[p] + 9 * t[p] - 9 * r[p] + 3 * n[p]),
                                (o = 3 * t[p] - 3 * e[p]),
                                (i |= 0),
                                (a |= 0),
                                (o |= 0),
                                0 !== a)
                            )
                                (l = i * i - 4 * o * a) < 0 ||
                                    (0 < (c = (-i + bm_sqrt(l)) / (2 * a)) &&
                                        c < 1 &&
                                        d[p].push(
                                            this.calculateF(c, e, t, r, n, p)
                                        ),
                                    0 < (u = (-i - bm_sqrt(l)) / (2 * a)) &&
                                        u < 1 &&
                                        d[p].push(
                                            this.calculateF(u, e, t, r, n, p)
                                        ));
                            else {
                                if (0 === i) continue;
                                0 < (s = -o / i) &&
                                    s < 1 &&
                                    d[p].push(
                                        this.calculateF(s, e, t, r, n, p)
                                    );
                            }
                        (this.shapeBoundingBox.left = bm_min.apply(null, d[0])),
                            (this.shapeBoundingBox.top = bm_min.apply(
                                null,
                                d[1]
                            )),
                            (this.shapeBoundingBox.right = bm_max.apply(
                                null,
                                d[0]
                            )),
                            (this.shapeBoundingBox.bottom = bm_max.apply(
                                null,
                                d[1]
                            ));
                    }),
                    (HShapeElement.prototype.calculateF = function (
                        e,
                        t,
                        r,
                        n,
                        a,
                        i
                    ) {
                        return (
                            bm_pow(1 - e, 3) * t[i] +
                            3 * bm_pow(1 - e, 2) * e * r[i] +
                            3 * (1 - e) * bm_pow(e, 2) * n[i] +
                            bm_pow(e, 3) * a[i]
                        );
                    }),
                    (HShapeElement.prototype.calculateBoundingBox = function (
                        e,
                        t
                    ) {
                        var r,
                            n = e.length;
                        for (r = 0; r < n; r += 1)
                            e[r] && e[r].sh
                                ? this.calculateShapeBoundingBox(e[r], t)
                                : e[r] &&
                                  e[r].it &&
                                  this.calculateBoundingBox(e[r].it, t);
                    }),
                    (HShapeElement.prototype.currentBoxContains = function (e) {
                        return (
                            this.currentBBox.x <= e.x &&
                            this.currentBBox.y <= e.y &&
                            this.currentBBox.width + this.currentBBox.x >=
                                e.x + e.width &&
                            this.currentBBox.height + this.currentBBox.y >=
                                e.y + e.height
                        );
                    }),
                    (HShapeElement.prototype.renderInnerContent = function () {
                        if (
                            (this._renderShapeFrame(),
                            !this.hidden && (this._isFirstFrame || this._mdf))
                        ) {
                            var e = this.tempBoundingBox;
                            if (
                                ((e.x = 999999),
                                (e.xMax = -999999),
                                (e.y = 999999),
                                (e.yMax = -999999),
                                this.calculateBoundingBox(this.itemsData, e),
                                (e.width = e.xMax < e.x ? 0 : e.xMax - e.x),
                                (e.height = e.yMax < e.y ? 0 : e.yMax - e.y),
                                this.currentBoxContains(e))
                            )
                                return;
                            var t = !1;
                            this.currentBBox.w !== e.width &&
                                ((this.currentBBox.w = e.width),
                                this.shapeCont.setAttribute("width", e.width),
                                (t = !0)),
                                this.currentBBox.h !== e.height &&
                                    ((this.currentBBox.h = e.height),
                                    this.shapeCont.setAttribute(
                                        "height",
                                        e.height
                                    ),
                                    (t = !0)),
                                (t ||
                                    this.currentBBox.x !== e.x ||
                                    this.currentBBox.y !== e.y) &&
                                    ((this.currentBBox.w = e.width),
                                    (this.currentBBox.h = e.height),
                                    (this.currentBBox.x = e.x),
                                    (this.currentBBox.y = e.y),
                                    this.shapeCont.setAttribute(
                                        "viewBox",
                                        this.currentBBox.x +
                                            " " +
                                            this.currentBBox.y +
                                            " " +
                                            this.currentBBox.w +
                                            " " +
                                            this.currentBBox.h
                                    ),
                                    (this.shapeCont.style.transform = this.shapeCont.style.webkitTransform =
                                        "translate(" +
                                        this.currentBBox.x +
                                        "px," +
                                        this.currentBBox.y +
                                        "px)"));
                        }
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HBaseElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableDOMElement,
                            ITextElement,
                        ],
                        HTextElement
                    ),
                    (HTextElement.prototype.createContent = function () {
                        if (
                            ((this.isMasked = this.checkMasks()), this.isMasked)
                        ) {
                            (this.renderType = "svg"),
                                (this.compW = this.comp.data.w),
                                (this.compH = this.comp.data.h),
                                this.svgElement.setAttribute(
                                    "width",
                                    this.compW
                                ),
                                this.svgElement.setAttribute(
                                    "height",
                                    this.compH
                                );
                            var e = createNS("g");
                            this.maskedElement.appendChild(e),
                                (this.innerElem = e);
                        } else
                            (this.renderType = "html"),
                                (this.innerElem = this.layerElement);
                        this.checkParenting();
                    }),
                    (HTextElement.prototype.buildNewText = function () {
                        var e = this.textProperty.currentData;
                        this.renderedLetters = createSizedArray(
                            e.l ? e.l.length : 0
                        );
                        var t = this.innerElem.style;
                        (t.color = t.fill = e.fc
                            ? this.buildColor(e.fc)
                            : "rgba(0,0,0,0)"),
                            e.sc &&
                                ((t.stroke = this.buildColor(e.sc)),
                                (t.strokeWidth = e.sw + "px"));
                        var r = this.globalData.fontManager.getFontByName(e.f);
                        if (!this.globalData.fontManager.chars)
                            if (
                                ((t.fontSize = e.finalSize + "px"),
                                (t.lineHeight = e.finalSize + "px"),
                                r.fClass)
                            )
                                this.innerElem.className = r.fClass;
                            else {
                                t.fontFamily = r.fFamily;
                                var n = e.fWeight,
                                    a = e.fStyle;
                                (t.fontStyle = a), (t.fontWeight = n);
                            }
                        var i,
                            o,
                            s = e.l;
                        o = s.length;
                        var l,
                            c,
                            u,
                            d,
                            p = this.mHelper,
                            h = "",
                            f = 0;
                        for (i = 0; i < o; i += 1) {
                            if (
                                (this.globalData.fontManager.chars
                                    ? (this.textPaths[f]
                                          ? (l = this.textPaths[f])
                                          : ((l = createNS(
                                                "path"
                                            )).setAttribute(
                                                "stroke-linecap",
                                                "butt"
                                            ),
                                            l.setAttribute(
                                                "stroke-linejoin",
                                                "round"
                                            ),
                                            l.setAttribute(
                                                "stroke-miterlimit",
                                                "4"
                                            )),
                                      this.isMasked ||
                                          (this.textSpans[f]
                                              ? (u = (c = this.textSpans[f])
                                                    .children[0])
                                              : (((c = createTag(
                                                    "div"
                                                )).style.lineHeight = 0),
                                                (u = createNS(
                                                    "svg"
                                                )).appendChild(l),
                                                styleDiv(c))))
                                    : this.isMasked
                                    ? (l = this.textPaths[f]
                                          ? this.textPaths[f]
                                          : createNS("text"))
                                    : this.textSpans[f]
                                    ? ((c = this.textSpans[f]),
                                      (l = this.textPaths[f]))
                                    : (styleDiv((c = createTag("span"))),
                                      styleDiv((l = createTag("span"))),
                                      c.appendChild(l)),
                                this.globalData.fontManager.chars)
                            ) {
                                var m,
                                    y = this.globalData.fontManager.getCharData(
                                        e.finalText[i],
                                        r.fStyle,
                                        this.globalData.fontManager.getFontByName(
                                            e.f
                                        ).fFamily
                                    );
                                if (
                                    ((m = y ? y.data : null),
                                    p.reset(),
                                    m &&
                                        m.shapes &&
                                        ((d = m.shapes[0].it),
                                        p.scale(
                                            e.finalSize / 100,
                                            e.finalSize / 100
                                        ),
                                        (h = this.createPathShape(p, d)),
                                        l.setAttribute("d", h)),
                                    this.isMasked)
                                )
                                    this.innerElem.appendChild(l);
                                else {
                                    if (
                                        (this.innerElem.appendChild(c),
                                        m && m.shapes)
                                    ) {
                                        document.body.appendChild(u);
                                        var g = u.getBBox();
                                        u.setAttribute("width", g.width + 2),
                                            u.setAttribute(
                                                "height",
                                                g.height + 2
                                            ),
                                            u.setAttribute(
                                                "viewBox",
                                                g.x -
                                                    1 +
                                                    " " +
                                                    (g.y - 1) +
                                                    " " +
                                                    (g.width + 2) +
                                                    " " +
                                                    (g.height + 2)
                                            ),
                                            (u.style.transform = u.style.webkitTransform =
                                                "translate(" +
                                                (g.x - 1) +
                                                "px," +
                                                (g.y - 1) +
                                                "px)"),
                                            (s[i].yOffset = g.y - 1);
                                    } else
                                        u.setAttribute("width", 1),
                                            u.setAttribute("height", 1);
                                    c.appendChild(u);
                                }
                            } else
                                (l.textContent = s[i].val),
                                    l.setAttributeNS(
                                        "http://www.w3.org/XML/1998/namespace",
                                        "xml:space",
                                        "preserve"
                                    ),
                                    this.isMasked
                                        ? this.innerElem.appendChild(l)
                                        : (this.innerElem.appendChild(c),
                                          (l.style.transform = l.style.webkitTransform =
                                              "translate3d(0," +
                                              -e.finalSize / 1.2 +
                                              "px,0)"));
                            this.isMasked
                                ? (this.textSpans[f] = l)
                                : (this.textSpans[f] = c),
                                (this.textSpans[f].style.display = "block"),
                                (this.textPaths[f] = l),
                                (f += 1);
                        }
                        for (; f < this.textSpans.length; )
                            (this.textSpans[f].style.display = "none"),
                                (f += 1);
                    }),
                    (HTextElement.prototype.renderInnerContent = function () {
                        if (this.data.singleShape) {
                            if (!this._isFirstFrame && !this.lettersChangedFlag)
                                return;
                            this.isMasked &&
                                this.finalTransform._matMdf &&
                                (this.svgElement.setAttribute(
                                    "viewBox",
                                    -this.finalTransform.mProp.p.v[0] +
                                        " " +
                                        -this.finalTransform.mProp.p.v[1] +
                                        " " +
                                        this.compW +
                                        " " +
                                        this.compH
                                ),
                                (this.svgElement.style.transform = this.svgElement.style.webkitTransform =
                                    "translate(" +
                                    -this.finalTransform.mProp.p.v[0] +
                                    "px," +
                                    -this.finalTransform.mProp.p.v[1] +
                                    "px)"));
                        }
                        if (
                            (this.textAnimator.getMeasures(
                                this.textProperty.currentData,
                                this.lettersChangedFlag
                            ),
                            this.lettersChangedFlag ||
                                this.textAnimator.lettersChangedFlag)
                        ) {
                            var e,
                                t,
                                r = 0,
                                n = this.textAnimator.renderedLetters,
                                a = this.textProperty.currentData.l;
                            t = a.length;
                            var i, o, s;
                            for (e = 0; e < t; e += 1)
                                a[e].n
                                    ? (r += 1)
                                    : ((o = this.textSpans[e]),
                                      (s = this.textPaths[e]),
                                      (i = n[r]),
                                      (r += 1),
                                      i._mdf.m &&
                                          (this.isMasked
                                              ? o.setAttribute("transform", i.m)
                                              : (o.style.transform = o.style.webkitTransform =
                                                    i.m)),
                                      (o.style.opacity = i.o),
                                      i.sw &&
                                          i._mdf.sw &&
                                          s.setAttribute("stroke-width", i.sw),
                                      i.sc &&
                                          i._mdf.sc &&
                                          s.setAttribute("stroke", i.sc),
                                      i.fc &&
                                          i._mdf.fc &&
                                          (s.setAttribute("fill", i.fc),
                                          (s.style.color = i.fc)));
                            if (
                                this.innerElem.getBBox &&
                                !this.hidden &&
                                (this._isFirstFrame || this._mdf)
                            ) {
                                var l = this.innerElem.getBBox();
                                this.currentBBox.w !== l.width &&
                                    ((this.currentBBox.w = l.width),
                                    this.svgElement.setAttribute(
                                        "width",
                                        l.width
                                    )),
                                    this.currentBBox.h !== l.height &&
                                        ((this.currentBBox.h = l.height),
                                        this.svgElement.setAttribute(
                                            "height",
                                            l.height
                                        ));
                                (this.currentBBox.w === l.width + 2 &&
                                    this.currentBBox.h === l.height + 2 &&
                                    this.currentBBox.x === l.x - 1 &&
                                    this.currentBBox.y === l.y - 1) ||
                                    ((this.currentBBox.w = l.width + 2),
                                    (this.currentBBox.h = l.height + 2),
                                    (this.currentBBox.x = l.x - 1),
                                    (this.currentBBox.y = l.y - 1),
                                    this.svgElement.setAttribute(
                                        "viewBox",
                                        this.currentBBox.x +
                                            " " +
                                            this.currentBBox.y +
                                            " " +
                                            this.currentBBox.w +
                                            " " +
                                            this.currentBBox.h
                                    ),
                                    (this.svgElement.style.transform = this.svgElement.style.webkitTransform =
                                        "translate(" +
                                        this.currentBBox.x +
                                        "px," +
                                        this.currentBBox.y +
                                        "px)"));
                            }
                        }
                    }),
                    extendPrototype(
                        [
                            BaseElement,
                            TransformElement,
                            HBaseElement,
                            HSolidElement,
                            HierarchyElement,
                            FrameElement,
                            RenderableElement,
                        ],
                        HImageElement
                    ),
                    (HImageElement.prototype.createContent = function () {
                        var e = this.globalData.getAssetsPath(this.assetData),
                            t = new Image();
                        this.data.hasMask
                            ? ((this.imageElem = createNS("image")),
                              this.imageElem.setAttribute(
                                  "width",
                                  this.assetData.w + "px"
                              ),
                              this.imageElem.setAttribute(
                                  "height",
                                  this.assetData.h + "px"
                              ),
                              this.imageElem.setAttributeNS(
                                  "http://www.w3.org/1999/xlink",
                                  "href",
                                  e
                              ),
                              this.layerElement.appendChild(this.imageElem),
                              this.baseElement.setAttribute(
                                  "width",
                                  this.assetData.w
                              ),
                              this.baseElement.setAttribute(
                                  "height",
                                  this.assetData.h
                              ))
                            : this.layerElement.appendChild(t),
                            (t.src = e),
                            this.data.ln &&
                                this.baseElement.setAttribute(
                                    "id",
                                    this.data.ln
                                );
                    }),
                    extendPrototype(
                        [BaseElement, FrameElement, HierarchyElement],
                        HCameraElement
                    ),
                    (HCameraElement.prototype.setup = function () {
                        var e,
                            t,
                            r = this.comp.threeDElements.length;
                        for (e = 0; e < r; e += 1)
                            "3d" === (t = this.comp.threeDElements[e]).type &&
                                ((t.perspectiveElem.style.perspective = t.perspectiveElem.style.webkitPerspective =
                                    this.pe.v + "px"),
                                (t.container.style.transformOrigin = t.container.style.mozTransformOrigin = t.container.style.webkitTransformOrigin =
                                    "0px 0px 0px"),
                                (t.perspectiveElem.style.transform = t.perspectiveElem.style.webkitTransform =
                                    "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"));
                    }),
                    (HCameraElement.prototype.createElements = function () {}),
                    (HCameraElement.prototype.hide = function () {}),
                    (HCameraElement.prototype.renderFrame = function () {
                        var e,
                            t,
                            r = this._isFirstFrame;
                        if (this.hierarchy)
                            for (
                                t = this.hierarchy.length, e = 0;
                                e < t;
                                e += 1
                            )
                                r =
                                    this.hierarchy[e].finalTransform.mProp
                                        ._mdf || r;
                        if (
                            r ||
                            this.pe._mdf ||
                            (this.p && this.p._mdf) ||
                            (this.px &&
                                (this.px._mdf ||
                                    this.py._mdf ||
                                    this.pz._mdf)) ||
                            this.rx._mdf ||
                            this.ry._mdf ||
                            this.rz._mdf ||
                            this.or._mdf ||
                            (this.a && this.a._mdf)
                        ) {
                            if ((this.mat.reset(), this.hierarchy)) {
                                for (
                                    e = t = this.hierarchy.length - 1;
                                    e >= 0;
                                    e -= 1
                                ) {
                                    var n = this.hierarchy[e].finalTransform
                                        .mProp;
                                    this.mat.translate(
                                        -n.p.v[0],
                                        -n.p.v[1],
                                        n.p.v[2]
                                    ),
                                        this.mat
                                            .rotateX(-n.or.v[0])
                                            .rotateY(-n.or.v[1])
                                            .rotateZ(n.or.v[2]),
                                        this.mat
                                            .rotateX(-n.rx.v)
                                            .rotateY(-n.ry.v)
                                            .rotateZ(n.rz.v),
                                        this.mat.scale(
                                            1 / n.s.v[0],
                                            1 / n.s.v[1],
                                            1 / n.s.v[2]
                                        ),
                                        this.mat.translate(
                                            n.a.v[0],
                                            n.a.v[1],
                                            n.a.v[2]
                                        );
                                }
                            }
                            if (
                                (this.p
                                    ? this.mat.translate(
                                          -this.p.v[0],
                                          -this.p.v[1],
                                          this.p.v[2]
                                      )
                                    : this.mat.translate(
                                          -this.px.v,
                                          -this.py.v,
                                          this.pz.v
                                      ),
                                this.a)
                            ) {
                                var a;
                                a = this.p
                                    ? [
                                          this.p.v[0] - this.a.v[0],
                                          this.p.v[1] - this.a.v[1],
                                          this.p.v[2] - this.a.v[2],
                                      ]
                                    : [
                                          this.px.v - this.a.v[0],
                                          this.py.v - this.a.v[1],
                                          this.pz.v - this.a.v[2],
                                      ];
                                var i = Math.sqrt(
                                        Math.pow(a[0], 2) +
                                            Math.pow(a[1], 2) +
                                            Math.pow(a[2], 2)
                                    ),
                                    o = [a[0] / i, a[1] / i, a[2] / i],
                                    s = Math.sqrt(o[2] * o[2] + o[0] * o[0]),
                                    l = Math.atan2(o[1], s),
                                    c = Math.atan2(o[0], -o[2]);
                                this.mat.rotateY(c).rotateX(-l);
                            }
                            this.mat
                                .rotateX(-this.rx.v)
                                .rotateY(-this.ry.v)
                                .rotateZ(this.rz.v),
                                this.mat
                                    .rotateX(-this.or.v[0])
                                    .rotateY(-this.or.v[1])
                                    .rotateZ(this.or.v[2]),
                                this.mat.translate(
                                    this.globalData.compSize.w / 2,
                                    this.globalData.compSize.h / 2,
                                    0
                                ),
                                this.mat.translate(0, 0, this.pe.v);
                            var u = !this._prevMat.equals(this.mat);
                            if (
                                (u || this.pe._mdf) &&
                                this.comp.threeDElements
                            ) {
                                t = this.comp.threeDElements.length;
                                var d;
                                for (e = 0; e < t; e += 1)
                                    "3d" ===
                                        (d = this.comp.threeDElements[e])
                                            .type &&
                                        (u &&
                                            (d.container.style.transform = d.container.style.webkitTransform = this.mat.toCSS()),
                                        this.pe._mdf &&
                                            (d.perspectiveElem.style.perspective = d.perspectiveElem.style.webkitPerspective =
                                                this.pe.v + "px"));
                                this.mat.clone(this._prevMat);
                            }
                        }
                        this._isFirstFrame = !1;
                    }),
                    (HCameraElement.prototype.prepareFrame = function (e) {
                        this.prepareProperties(e, !0);
                    }),
                    (HCameraElement.prototype.destroy = function () {}),
                    (HCameraElement.prototype.getBaseElement = function () {
                        return null;
                    }),
                    (HEffects.prototype.renderFrame = function () {});
                var animationManager = (function () {
                        function e(e) {
                            for (var t = 0, r = e.target; t < d; )
                                c[t].animation === r &&
                                    (c.splice(t, 1),
                                    (t -= 1),
                                    (d -= 1),
                                    r.isPaused || n()),
                                    (t += 1);
                        }
                        function t(e, t) {
                            if (!e) return null;
                            for (var r = 0; r < d; ) {
                                if (c[r].elem == e && null !== c[r].elem)
                                    return c[r].animation;
                                r += 1;
                            }
                            var n = new AnimationItem();
                            return a(n, e), n.setData(e, t), n;
                        }
                        function r() {
                            (p += 1), s();
                        }
                        function n() {
                            p -= 1;
                        }
                        function a(t, a) {
                            t.addEventListener("destroy", e),
                                t.addEventListener("_active", r),
                                t.addEventListener("_idle", n),
                                c.push({ elem: a, animation: t }),
                                (d += 1);
                        }
                        function i(e) {
                            var t,
                                r = e - u;
                            for (t = 0; t < d; t += 1)
                                c[t].animation.advanceTime(r);
                            (u = e),
                                p && !f
                                    ? window.requestAnimationFrame(i)
                                    : (h = !0);
                        }
                        function o(e) {
                            (u = e), window.requestAnimationFrame(i);
                        }
                        function s() {
                            !f &&
                                p &&
                                h &&
                                (window.requestAnimationFrame(o), (h = !1));
                        }
                        var l = {},
                            c = [],
                            u = 0,
                            d = 0,
                            p = 0,
                            h = !0,
                            f = !1;
                        return (
                            (l.registerAnimation = t),
                            (l.loadAnimation = function (e) {
                                var t = new AnimationItem();
                                return a(t, null), t.setParams(e), t;
                            }),
                            (l.setSpeed = function (e, t) {
                                var r;
                                for (r = 0; r < d; r += 1)
                                    c[r].animation.setSpeed(e, t);
                            }),
                            (l.setDirection = function (e, t) {
                                var r;
                                for (r = 0; r < d; r += 1)
                                    c[r].animation.setDirection(e, t);
                            }),
                            (l.play = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.play(e);
                            }),
                            (l.pause = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.pause(e);
                            }),
                            (l.stop = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.stop(e);
                            }),
                            (l.togglePause = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.togglePause(e);
                            }),
                            (l.searchAnimations = function (e, r, n) {
                                var a,
                                    i = [].concat(
                                        [].slice.call(
                                            document.getElementsByClassName(
                                                "lottie"
                                            )
                                        ),
                                        [].slice.call(
                                            document.getElementsByClassName(
                                                "bodymovin"
                                            )
                                        )
                                    ),
                                    o = i.length;
                                for (a = 0; a < o; a += 1)
                                    n && i[a].setAttribute("data-bm-type", n),
                                        t(i[a], e);
                                if (r && 0 === o) {
                                    n || (n = "svg");
                                    var s = document.getElementsByTagName(
                                        "body"
                                    )[0];
                                    s.innerText = "";
                                    var l = createTag("div");
                                    (l.style.width = "100%"),
                                        (l.style.height = "100%"),
                                        l.setAttribute("data-bm-type", n),
                                        s.appendChild(l),
                                        t(l, e);
                                }
                            }),
                            (l.resize = function () {
                                var e;
                                for (e = 0; e < d; e += 1)
                                    c[e].animation.resize();
                            }),
                            (l.goToAndStop = function (e, t, r) {
                                var n;
                                for (n = 0; n < d; n += 1)
                                    c[n].animation.goToAndStop(e, t, r);
                            }),
                            (l.destroy = function (e) {
                                var t;
                                for (t = d - 1; t >= 0; t -= 1)
                                    c[t].animation.destroy(e);
                            }),
                            (l.freeze = function () {
                                f = !0;
                            }),
                            (l.unfreeze = function () {
                                (f = !1), s();
                            }),
                            (l.setVolume = function (e, t) {
                                var r;
                                for (r = 0; r < d; r += 1)
                                    c[r].animation.setVolume(e, t);
                            }),
                            (l.mute = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.mute(e);
                            }),
                            (l.unmute = function (e) {
                                var t;
                                for (t = 0; t < d; t += 1)
                                    c[t].animation.unmute(e);
                            }),
                            (l.getRegisteredAnimations = function () {
                                var e,
                                    t = c.length,
                                    r = [];
                                for (e = 0; e < t; e += 1)
                                    r.push(c[e].animation);
                                return r;
                            }),
                            l
                        );
                    })(),
                    AnimationItem = function () {
                        (this._cbs = []),
                            (this.name = ""),
                            (this.path = ""),
                            (this.isLoaded = !1),
                            (this.currentFrame = 0),
                            (this.currentRawFrame = 0),
                            (this.firstFrame = 0),
                            (this.totalFrames = 0),
                            (this.frameRate = 0),
                            (this.frameMult = 0),
                            (this.playSpeed = 1),
                            (this.playDirection = 1),
                            (this.playCount = 0),
                            (this.animationData = {}),
                            (this.assets = []),
                            (this.isPaused = !0),
                            (this.autoplay = !1),
                            (this.loop = !0),
                            (this.renderer = null),
                            (this.animationID = createElementID()),
                            (this.assetsPath = ""),
                            (this.timeCompleted = 0),
                            (this.segmentPos = 0),
                            (this.isSubframeEnabled = subframeEnabled),
                            (this.segments = []),
                            (this._idle = !0),
                            (this._completedLoop = !1),
                            (this.projectInterface = ProjectInterface()),
                            (this.imagePreloader = new ImagePreloader()),
                            (this.audioController = audioControllerFactory());
                    };
                extendPrototype([BaseEvent], AnimationItem),
                    (AnimationItem.prototype.setParams = function (e) {
                        (e.wrapper || e.container) &&
                            (this.wrapper = e.wrapper || e.container);
                        var t = e.animType
                            ? e.animType
                            : e.renderer
                            ? e.renderer
                            : "svg";
                        switch (t) {
                            case "canvas":
                                this.renderer = new CanvasRenderer(
                                    this,
                                    e.rendererSettings
                                );
                                break;
                            case "svg":
                                this.renderer = new SVGRenderer(
                                    this,
                                    e.rendererSettings
                                );
                                break;
                            default:
                                this.renderer = new HybridRenderer(
                                    this,
                                    e.rendererSettings
                                );
                        }
                        this.imagePreloader.setCacheType(t),
                            this.renderer.setProjectInterface(
                                this.projectInterface
                            ),
                            (this.animType = t),
                            "" === e.loop ||
                            null === e.loop ||
                            void 0 === e.loop ||
                            !0 === e.loop
                                ? (this.loop = !0)
                                : !1 === e.loop
                                ? (this.loop = !1)
                                : (this.loop = parseInt(e.loop)),
                            (this.autoplay = !("autoplay" in e) || e.autoplay),
                            (this.name = e.name ? e.name : ""),
                            (this.autoloadSegments =
                                !e.hasOwnProperty("autoloadSegments") ||
                                e.autoloadSegments),
                            (this.assetsPath = e.assetsPath),
                            (this.initialSegment = e.initialSegment),
                            e.audioFactory &&
                                this.audioController.setAudioFactory(
                                    e.audioFactory
                                ),
                            e.animationData
                                ? this.configAnimation(e.animationData)
                                : e.path &&
                                  (-1 !== e.path.lastIndexOf("\\")
                                      ? (this.path = e.path.substr(
                                            0,
                                            e.path.lastIndexOf("\\") + 1
                                        ))
                                      : (this.path = e.path.substr(
                                            0,
                                            e.path.lastIndexOf("/") + 1
                                        )),
                                  (this.fileName = e.path.substr(
                                      e.path.lastIndexOf("/") + 1
                                  )),
                                  (this.fileName = this.fileName.substr(
                                      0,
                                      this.fileName.lastIndexOf(".json")
                                  )),
                                  assetLoader.load(
                                      e.path,
                                      this.configAnimation.bind(this),
                                      function () {
                                          this.trigger("data_failed");
                                      }.bind(this)
                                  ));
                    }),
                    (AnimationItem.prototype.setData = function (e, t) {
                        var r = {
                                wrapper: e,
                                animationData: t
                                    ? "object" == typeof t
                                        ? t
                                        : JSON.parse(t)
                                    : null,
                            },
                            n = e.attributes;
                        (r.path = n.getNamedItem("data-animation-path")
                            ? n.getNamedItem("data-animation-path").value
                            : n.getNamedItem("data-bm-path")
                            ? n.getNamedItem("data-bm-path").value
                            : n.getNamedItem("bm-path")
                            ? n.getNamedItem("bm-path").value
                            : ""),
                            (r.animType = n.getNamedItem("data-anim-type")
                                ? n.getNamedItem("data-anim-type").value
                                : n.getNamedItem("data-bm-type")
                                ? n.getNamedItem("data-bm-type").value
                                : n.getNamedItem("bm-type")
                                ? n.getNamedItem("bm-type").value
                                : n.getNamedItem("data-bm-renderer")
                                ? n.getNamedItem("data-bm-renderer").value
                                : n.getNamedItem("bm-renderer")
                                ? n.getNamedItem("bm-renderer").value
                                : "canvas");
                        var a = n.getNamedItem("data-anim-loop")
                            ? n.getNamedItem("data-anim-loop").value
                            : n.getNamedItem("data-bm-loop")
                            ? n.getNamedItem("data-bm-loop").value
                            : n.getNamedItem("bm-loop")
                            ? n.getNamedItem("bm-loop").value
                            : "";
                        "" === a ||
                            (r.loop =
                                "false" !== a && ("true" === a || parseInt(a)));
                        var i = n.getNamedItem("data-anim-autoplay")
                            ? n.getNamedItem("data-anim-autoplay").value
                            : n.getNamedItem("data-bm-autoplay")
                            ? n.getNamedItem("data-bm-autoplay").value
                            : !n.getNamedItem("bm-autoplay") ||
                              n.getNamedItem("bm-autoplay").value;
                        (r.autoplay = "false" !== i),
                            (r.name = n.getNamedItem("data-name")
                                ? n.getNamedItem("data-name").value
                                : n.getNamedItem("data-bm-name")
                                ? n.getNamedItem("data-bm-name").value
                                : n.getNamedItem("bm-name")
                                ? n.getNamedItem("bm-name").value
                                : "");
                        "false" ===
                            (n.getNamedItem("data-anim-prerender")
                                ? n.getNamedItem("data-anim-prerender").value
                                : n.getNamedItem("data-bm-prerender")
                                ? n.getNamedItem("data-bm-prerender").value
                                : n.getNamedItem("bm-prerender")
                                ? n.getNamedItem("bm-prerender").value
                                : "") && (r.prerender = !1),
                            this.setParams(r);
                    }),
                    (AnimationItem.prototype.includeLayers = function (e) {
                        e.op > this.animationData.op &&
                            ((this.animationData.op = e.op),
                            (this.totalFrames = Math.floor(
                                e.op - this.animationData.ip
                            )));
                        var t,
                            r,
                            n = this.animationData.layers,
                            a = n.length,
                            i = e.layers,
                            o = i.length;
                        for (r = 0; r < o; r += 1)
                            for (t = 0; t < a; ) {
                                if (n[t].id == i[r].id) {
                                    n[t] = i[r];
                                    break;
                                }
                                t += 1;
                            }
                        if (
                            ((e.chars || e.fonts) &&
                                (this.renderer.globalData.fontManager.addChars(
                                    e.chars
                                ),
                                this.renderer.globalData.fontManager.addFonts(
                                    e.fonts,
                                    this.renderer.globalData.defs
                                )),
                            e.assets)
                        )
                            for (a = e.assets.length, t = 0; t < a; t += 1)
                                this.animationData.assets.push(e.assets[t]);
                        (this.animationData.__complete = !1),
                            dataManager.completeData(
                                this.animationData,
                                this.renderer.globalData.fontManager
                            ),
                            this.renderer.includeLayers(e.layers),
                            expressionsPlugin &&
                                expressionsPlugin.initExpressions(this),
                            this.loadNextSegment();
                    }),
                    (AnimationItem.prototype.loadNextSegment = function () {
                        var e = this.animationData.segments;
                        if (!e || 0 === e.length || !this.autoloadSegments)
                            return (
                                this.trigger("data_ready"),
                                void (this.timeCompleted = this.totalFrames)
                            );
                        var t = e.shift();
                        this.timeCompleted = t.time * this.frameRate;
                        var r =
                            this.path +
                            this.fileName +
                            "_" +
                            this.segmentPos +
                            ".json";
                        (this.segmentPos += 1),
                            assetLoader.load(
                                r,
                                this.includeLayers.bind(this),
                                function () {
                                    this.trigger("data_failed");
                                }.bind(this)
                            );
                    }),
                    (AnimationItem.prototype.loadSegments = function () {
                        this.animationData.segments ||
                            (this.timeCompleted = this.totalFrames),
                            this.loadNextSegment();
                    }),
                    (AnimationItem.prototype.imagesLoaded = function () {
                        this.trigger("loaded_images"), this.checkLoaded();
                    }),
                    (AnimationItem.prototype.preloadImages = function () {
                        this.imagePreloader.setAssetsPath(this.assetsPath),
                            this.imagePreloader.setPath(this.path),
                            this.imagePreloader.loadAssets(
                                this.animationData.assets,
                                this.imagesLoaded.bind(this)
                            );
                    }),
                    (AnimationItem.prototype.configAnimation = function (e) {
                        if (this.renderer)
                            try {
                                (this.animationData = e),
                                    this.initialSegment
                                        ? ((this.totalFrames = Math.floor(
                                              this.initialSegment[1] -
                                                  this.initialSegment[0]
                                          )),
                                          (this.firstFrame = Math.round(
                                              this.initialSegment[0]
                                          )))
                                        : ((this.totalFrames = Math.floor(
                                              this.animationData.op -
                                                  this.animationData.ip
                                          )),
                                          (this.firstFrame = Math.round(
                                              this.animationData.ip
                                          ))),
                                    this.renderer.configAnimation(e),
                                    e.assets || (e.assets = []),
                                    (this.assets = this.animationData.assets),
                                    (this.frameRate = this.animationData.fr),
                                    (this.frameMult =
                                        this.animationData.fr / 1e3),
                                    this.renderer.searchExtraCompositions(
                                        e.assets
                                    ),
                                    this.trigger("config_ready"),
                                    this.preloadImages(),
                                    this.loadSegments(),
                                    this.updaFrameModifier(),
                                    this.waitForFontsLoaded(),
                                    this.isPaused &&
                                        this.audioController.pause();
                            } catch (e) {
                                this.triggerConfigError(e);
                            }
                    }),
                    (AnimationItem.prototype.waitForFontsLoaded = function () {
                        this.renderer &&
                            (this.renderer.globalData.fontManager.isLoaded
                                ? this.checkLoaded()
                                : setTimeout(
                                      this.waitForFontsLoaded.bind(this),
                                      20
                                  ));
                    }),
                    (AnimationItem.prototype.checkLoaded = function () {
                        this.isLoaded ||
                            !this.renderer.globalData.fontManager.isLoaded ||
                            (!this.imagePreloader.loaded() &&
                                "canvas" === this.renderer.rendererType) ||
                            ((this.isLoaded = !0),
                            dataManager.completeData(
                                this.animationData,
                                this.renderer.globalData.fontManager
                            ),
                            expressionsPlugin &&
                                expressionsPlugin.initExpressions(this),
                            this.renderer.initItems(),
                            setTimeout(
                                function () {
                                    this.trigger("DOMLoaded");
                                }.bind(this),
                                0
                            ),
                            this.gotoFrame(),
                            this.autoplay && this.play());
                    }),
                    (AnimationItem.prototype.resize = function () {
                        this.renderer.updateContainerSize();
                    }),
                    (AnimationItem.prototype.setSubframe = function (e) {
                        this.isSubframeEnabled = !!e;
                    }),
                    (AnimationItem.prototype.gotoFrame = function () {
                        (this.currentFrame = this.isSubframeEnabled
                            ? this.currentRawFrame
                            : ~~this.currentRawFrame),
                            this.timeCompleted !== this.totalFrames &&
                                this.currentFrame > this.timeCompleted &&
                                (this.currentFrame = this.timeCompleted),
                            this.trigger("enterFrame"),
                            this.renderFrame();
                    }),
                    (AnimationItem.prototype.renderFrame = function () {
                        if (!1 !== this.isLoaded)
                            try {
                                this.renderer.renderFrame(
                                    this.currentFrame + this.firstFrame
                                );
                            } catch (e) {
                                this.triggerRenderFrameError(e);
                            }
                    }),
                    (AnimationItem.prototype.play = function (e) {
                        (e && this.name != e) ||
                            (!0 === this.isPaused &&
                                ((this.isPaused = !1),
                                this.audioController.resume(),
                                this._idle &&
                                    ((this._idle = !1),
                                    this.trigger("_active"))));
                    }),
                    (AnimationItem.prototype.pause = function (e) {
                        (e && this.name != e) ||
                            (!1 === this.isPaused &&
                                ((this.isPaused = !0),
                                (this._idle = !0),
                                this.trigger("_idle"),
                                this.audioController.pause()));
                    }),
                    (AnimationItem.prototype.togglePause = function (e) {
                        (e && this.name != e) ||
                            (!0 === this.isPaused ? this.play() : this.pause());
                    }),
                    (AnimationItem.prototype.stop = function (e) {
                        (e && this.name != e) ||
                            (this.pause(),
                            (this.playCount = 0),
                            (this._completedLoop = !1),
                            this.setCurrentRawFrameValue(0));
                    }),
                    (AnimationItem.prototype.goToAndStop = function (e, t, r) {
                        (r && this.name != r) ||
                            (t
                                ? this.setCurrentRawFrameValue(e)
                                : this.setCurrentRawFrameValue(
                                      e * this.frameModifier
                                  ),
                            this.pause());
                    }),
                    (AnimationItem.prototype.goToAndPlay = function (e, t, r) {
                        this.goToAndStop(e, t, r), this.play();
                    }),
                    (AnimationItem.prototype.advanceTime = function (e) {
                        if (!0 !== this.isPaused && !1 !== this.isLoaded) {
                            var t =
                                    this.currentRawFrame +
                                    e * this.frameModifier,
                                r = !1;
                            t >= this.totalFrames - 1 && this.frameModifier > 0
                                ? this.loop && this.playCount !== this.loop
                                    ? t >= this.totalFrames
                                        ? ((this.playCount += 1),
                                          this.checkSegments(
                                              t % this.totalFrames
                                          ) ||
                                              (this.setCurrentRawFrameValue(
                                                  t % this.totalFrames
                                              ),
                                              (this._completedLoop = !0),
                                              this.trigger("loopComplete")))
                                        : this.setCurrentRawFrameValue(t)
                                    : this.checkSegments(
                                          t > this.totalFrames
                                              ? t % this.totalFrames
                                              : 0
                                      ) ||
                                      ((r = !0), (t = this.totalFrames - 1))
                                : t < 0
                                ? this.checkSegments(t % this.totalFrames) ||
                                  (!this.loop ||
                                  (this.playCount-- <= 0 && !0 !== this.loop)
                                      ? ((r = !0), (t = 0))
                                      : (this.setCurrentRawFrameValue(
                                            this.totalFrames +
                                                (t % this.totalFrames)
                                        ),
                                        this._completedLoop
                                            ? this.trigger("loopComplete")
                                            : (this._completedLoop = !0)))
                                : this.setCurrentRawFrameValue(t),
                                r &&
                                    (this.setCurrentRawFrameValue(t),
                                    this.pause(),
                                    this.trigger("complete"));
                        }
                    }),
                    (AnimationItem.prototype.adjustSegment = function (e, t) {
                        (this.playCount = 0),
                            e[1] < e[0]
                                ? (this.frameModifier > 0 &&
                                      (this.playSpeed < 0
                                          ? this.setSpeed(-this.playSpeed)
                                          : this.setDirection(-1)),
                                  (this.timeCompleted = this.totalFrames =
                                      e[0] - e[1]),
                                  (this.firstFrame = e[1]),
                                  this.setCurrentRawFrameValue(
                                      this.totalFrames - 0.001 - t
                                  ))
                                : e[1] > e[0] &&
                                  (this.frameModifier < 0 &&
                                      (this.playSpeed < 0
                                          ? this.setSpeed(-this.playSpeed)
                                          : this.setDirection(1)),
                                  (this.timeCompleted = this.totalFrames =
                                      e[1] - e[0]),
                                  (this.firstFrame = e[0]),
                                  this.setCurrentRawFrameValue(0.001 + t)),
                            this.trigger("segmentStart");
                    }),
                    (AnimationItem.prototype.setSegment = function (e, t) {
                        var r = -1;
                        this.isPaused &&
                            (this.currentRawFrame + this.firstFrame < e
                                ? (r = e)
                                : this.currentRawFrame + this.firstFrame > t &&
                                  (r = t - e)),
                            (this.firstFrame = e),
                            (this.timeCompleted = this.totalFrames = t - e),
                            -1 !== r && this.goToAndStop(r, !0);
                    }),
                    (AnimationItem.prototype.playSegments = function (e, t) {
                        if (
                            (t && (this.segments.length = 0),
                            "object" == typeof e[0])
                        ) {
                            var r,
                                n = e.length;
                            for (r = 0; r < n; r += 1) this.segments.push(e[r]);
                        } else this.segments.push(e);
                        this.segments.length &&
                            t &&
                            this.adjustSegment(this.segments.shift(), 0),
                            this.isPaused && this.play();
                    }),
                    (AnimationItem.prototype.resetSegments = function (e) {
                        (this.segments.length = 0),
                            this.segments.push([
                                this.animationData.ip,
                                this.animationData.op,
                            ]),
                            e && this.checkSegments(0);
                    }),
                    (AnimationItem.prototype.checkSegments = function (e) {
                        return (
                            !!this.segments.length &&
                            (this.adjustSegment(this.segments.shift(), e), !0)
                        );
                    }),
                    (AnimationItem.prototype.destroy = function (e) {
                        (e && this.name != e) ||
                            !this.renderer ||
                            (this.renderer.destroy(),
                            this.imagePreloader.destroy(),
                            this.trigger("destroy"),
                            (this._cbs = null),
                            (this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null),
                            (this.renderer = null));
                    }),
                    (AnimationItem.prototype.setCurrentRawFrameValue = function (
                        e
                    ) {
                        (this.currentRawFrame = e), this.gotoFrame();
                    }),
                    (AnimationItem.prototype.setSpeed = function (e) {
                        (this.playSpeed = e), this.updaFrameModifier();
                    }),
                    (AnimationItem.prototype.setDirection = function (e) {
                        (this.playDirection = e < 0 ? -1 : 1),
                            this.updaFrameModifier();
                    }),
                    (AnimationItem.prototype.setVolume = function (e, t) {
                        (t && this.name !== t) ||
                            this.audioController.setVolume(e);
                    }),
                    (AnimationItem.prototype.getVolume = function () {
                        return this.audioController.getVolume();
                    }),
                    (AnimationItem.prototype.mute = function (e) {
                        (e && this.name !== e) || this.audioController.mute();
                    }),
                    (AnimationItem.prototype.unmute = function (e) {
                        (e && this.name !== e) || this.audioController.unmute();
                    }),
                    (AnimationItem.prototype.updaFrameModifier = function () {
                        (this.frameModifier =
                            this.frameMult *
                            this.playSpeed *
                            this.playDirection),
                            this.audioController.setRate(
                                this.playSpeed * this.playDirection
                            );
                    }),
                    (AnimationItem.prototype.getPath = function () {
                        return this.path;
                    }),
                    (AnimationItem.prototype.getAssetsPath = function (e) {
                        var t = "";
                        if (e.e) t = e.p;
                        else if (this.assetsPath) {
                            var r = e.p;
                            -1 !== r.indexOf("images/") &&
                                (r = r.split("/")[1]),
                                (t = this.assetsPath + r);
                        } else
                            (t = this.path), (t += e.u ? e.u : ""), (t += e.p);
                        return t;
                    }),
                    (AnimationItem.prototype.getAssetData = function (e) {
                        for (var t = 0, r = this.assets.length; t < r; ) {
                            if (e == this.assets[t].id) return this.assets[t];
                            t += 1;
                        }
                    }),
                    (AnimationItem.prototype.hide = function () {
                        this.renderer.hide();
                    }),
                    (AnimationItem.prototype.show = function () {
                        this.renderer.show();
                    }),
                    (AnimationItem.prototype.getDuration = function (e) {
                        return e
                            ? this.totalFrames
                            : this.totalFrames / this.frameRate;
                    }),
                    (AnimationItem.prototype.trigger = function (e) {
                        if (this._cbs && this._cbs[e])
                            switch (e) {
                                case "enterFrame":
                                    this.triggerEvent(
                                        e,
                                        new BMEnterFrameEvent(
                                            e,
                                            this.currentFrame,
                                            this.totalFrames,
                                            this.frameModifier
                                        )
                                    );
                                    break;
                                case "loopComplete":
                                    this.triggerEvent(
                                        e,
                                        new BMCompleteLoopEvent(
                                            e,
                                            this.loop,
                                            this.playCount,
                                            this.frameMult
                                        )
                                    );
                                    break;
                                case "complete":
                                    this.triggerEvent(
                                        e,
                                        new BMCompleteEvent(e, this.frameMult)
                                    );
                                    break;
                                case "segmentStart":
                                    this.triggerEvent(
                                        e,
                                        new BMSegmentStartEvent(
                                            e,
                                            this.firstFrame,
                                            this.totalFrames
                                        )
                                    );
                                    break;
                                case "destroy":
                                    this.triggerEvent(
                                        e,
                                        new BMDestroyEvent(e, this)
                                    );
                                    break;
                                default:
                                    this.triggerEvent(e);
                            }
                        "enterFrame" === e &&
                            this.onEnterFrame &&
                            this.onEnterFrame.call(
                                this,
                                new BMEnterFrameEvent(
                                    e,
                                    this.currentFrame,
                                    this.totalFrames,
                                    this.frameMult
                                )
                            ),
                            "loopComplete" === e &&
                                this.onLoopComplete &&
                                this.onLoopComplete.call(
                                    this,
                                    new BMCompleteLoopEvent(
                                        e,
                                        this.loop,
                                        this.playCount,
                                        this.frameMult
                                    )
                                ),
                            "complete" === e &&
                                this.onComplete &&
                                this.onComplete.call(
                                    this,
                                    new BMCompleteEvent(e, this.frameMult)
                                ),
                            "segmentStart" === e &&
                                this.onSegmentStart &&
                                this.onSegmentStart.call(
                                    this,
                                    new BMSegmentStartEvent(
                                        e,
                                        this.firstFrame,
                                        this.totalFrames
                                    )
                                ),
                            "destroy" === e &&
                                this.onDestroy &&
                                this.onDestroy.call(
                                    this,
                                    new BMDestroyEvent(e, this)
                                );
                    }),
                    (AnimationItem.prototype.triggerRenderFrameError = function (
                        e
                    ) {
                        var t = new BMRenderFrameErrorEvent(
                            e,
                            this.currentFrame
                        );
                        this.triggerEvent("error", t),
                            this.onError && this.onError.call(this, t);
                    }),
                    (AnimationItem.prototype.triggerConfigError = function (e) {
                        var t = new BMConfigErrorEvent(e, this.currentFrame);
                        this.triggerEvent("error", t),
                            this.onError && this.onError.call(this, t);
                    });
                var Expressions = (function () {
                    var e = {};
                    return (
                        (e.initExpressions = function (e) {
                            var t = 0,
                                r = [];
                            (e.renderer.compInterface = CompExpressionInterface(
                                e.renderer
                            )),
                                e.renderer.globalData.projectInterface.registerComposition(
                                    e.renderer
                                ),
                                (e.renderer.globalData.pushExpression = function () {
                                    t += 1;
                                }),
                                (e.renderer.globalData.popExpression = function () {
                                    0 == (t -= 1) &&
                                        (function () {
                                            var e,
                                                t = r.length;
                                            for (e = 0; e < t; e += 1)
                                                r[e].release();
                                            r.length = 0;
                                        })();
                                }),
                                (e.renderer.globalData.registerExpressionProperty = function (
                                    e
                                ) {
                                    -1 === r.indexOf(e) && r.push(e);
                                });
                        }),
                        e
                    );
                })();
                expressionsPlugin = Expressions;
                var ExpressionManager = (function () {
                        function $bm_isInstanceOfArray(e) {
                            return (
                                e.constructor === Array ||
                                e.constructor === Float32Array
                            );
                        }
                        function isNumerable(e, t) {
                            return (
                                "number" === e ||
                                "boolean" === e ||
                                "string" === e ||
                                t instanceof Number
                            );
                        }
                        function $bm_neg(e) {
                            var t = typeof e;
                            if (
                                "number" === t ||
                                "boolean" === t ||
                                e instanceof Number
                            )
                                return -e;
                            if ($bm_isInstanceOfArray(e)) {
                                var r,
                                    n = e.length,
                                    a = [];
                                for (r = 0; r < n; r += 1) a[r] = -e[r];
                                return a;
                            }
                            return e.propType ? e.v : void 0;
                        }
                        function sum(e, t) {
                            var r = typeof e,
                                n = typeof t;
                            if ("string" === r || "string" === n) return e + t;
                            if (isNumerable(r, e) && isNumerable(n, t))
                                return e + t;
                            if ($bm_isInstanceOfArray(e) && isNumerable(n, t))
                                return (e = e.slice(0)), (e[0] = e[0] + t), e;
                            if (isNumerable(r, e) && $bm_isInstanceOfArray(t))
                                return (t = t.slice(0)), (t[0] = e + t[0]), t;
                            if (
                                $bm_isInstanceOfArray(e) &&
                                $bm_isInstanceOfArray(t)
                            ) {
                                for (
                                    var a = 0,
                                        i = e.length,
                                        o = t.length,
                                        s = [];
                                    a < i || a < o;

                                )
                                    ("number" == typeof e[a] ||
                                        e[a] instanceof Number) &&
                                    ("number" == typeof t[a] ||
                                        t[a] instanceof Number)
                                        ? (s[a] = e[a] + t[a])
                                        : (s[a] =
                                              void 0 === t[a]
                                                  ? e[a]
                                                  : e[a] || t[a]),
                                        (a += 1);
                                return s;
                            }
                            return 0;
                        }
                        function sub(e, t) {
                            var r = typeof e,
                                n = typeof t;
                            if (isNumerable(r, e) && isNumerable(n, t))
                                return (
                                    "string" === r && (e = parseInt(e)),
                                    "string" === n && (t = parseInt(t)),
                                    e - t
                                );
                            if ($bm_isInstanceOfArray(e) && isNumerable(n, t))
                                return (e = e.slice(0)), (e[0] = e[0] - t), e;
                            if (isNumerable(r, e) && $bm_isInstanceOfArray(t))
                                return (t = t.slice(0)), (t[0] = e - t[0]), t;
                            if (
                                $bm_isInstanceOfArray(e) &&
                                $bm_isInstanceOfArray(t)
                            ) {
                                for (
                                    var a = 0,
                                        i = e.length,
                                        o = t.length,
                                        s = [];
                                    a < i || a < o;

                                )
                                    ("number" == typeof e[a] ||
                                        e[a] instanceof Number) &&
                                    ("number" == typeof t[a] ||
                                        t[a] instanceof Number)
                                        ? (s[a] = e[a] - t[a])
                                        : (s[a] =
                                              void 0 === t[a]
                                                  ? e[a]
                                                  : e[a] || t[a]),
                                        (a += 1);
                                return s;
                            }
                            return 0;
                        }
                        function mul(e, t) {
                            var r,
                                n = typeof e,
                                a = typeof t;
                            if (isNumerable(n, e) && isNumerable(a, t))
                                return e * t;
                            var i, o;
                            if ($bm_isInstanceOfArray(e) && isNumerable(a, t)) {
                                for (
                                    o = e.length,
                                        r = createTypedArray("float32", o),
                                        i = 0;
                                    i < o;
                                    i += 1
                                )
                                    r[i] = e[i] * t;
                                return r;
                            }
                            if (isNumerable(n, e) && $bm_isInstanceOfArray(t)) {
                                for (
                                    o = t.length,
                                        r = createTypedArray("float32", o),
                                        i = 0;
                                    i < o;
                                    i += 1
                                )
                                    r[i] = e * t[i];
                                return r;
                            }
                            return 0;
                        }
                        function div(e, t) {
                            var r,
                                n = typeof e,
                                a = typeof t;
                            if (isNumerable(n, e) && isNumerable(a, t))
                                return e / t;
                            var i, o;
                            if ($bm_isInstanceOfArray(e) && isNumerable(a, t)) {
                                for (
                                    o = e.length,
                                        r = createTypedArray("float32", o),
                                        i = 0;
                                    i < o;
                                    i += 1
                                )
                                    r[i] = e[i] / t;
                                return r;
                            }
                            if (isNumerable(n, e) && $bm_isInstanceOfArray(t)) {
                                for (
                                    o = t.length,
                                        r = createTypedArray("float32", o),
                                        i = 0;
                                    i < o;
                                    i += 1
                                )
                                    r[i] = e / t[i];
                                return r;
                            }
                            return 0;
                        }
                        function mod(e, t) {
                            return (
                                "string" == typeof e && (e = parseInt(e)),
                                "string" == typeof t && (t = parseInt(t)),
                                e % t
                            );
                        }
                        function clamp(e, t, r) {
                            if (t > r) {
                                var n = r;
                                (r = t), (t = n);
                            }
                            return Math.min(Math.max(e, t), r);
                        }
                        function radiansToDegrees(e) {
                            return e / degToRads;
                        }
                        function degreesToRadians(e) {
                            return e * degToRads;
                        }
                        function length(e, t) {
                            if ("number" == typeof e || e instanceof Number)
                                return (t = t || 0), Math.abs(e - t);
                            t || (t = helperLengthArray);
                            var r,
                                n = Math.min(e.length, t.length),
                                a = 0;
                            for (r = 0; r < n; r += 1)
                                a += Math.pow(t[r] - e[r], 2);
                            return Math.sqrt(a);
                        }
                        function normalize(e) {
                            return div(e, length(e));
                        }
                        function rgbToHsl(e) {
                            var t,
                                r,
                                n = e[0],
                                a = e[1],
                                i = e[2],
                                o = Math.max(n, a, i),
                                s = Math.min(n, a, i),
                                l = (o + s) / 2;
                            if (o == s) t = r = 0;
                            else {
                                var c = o - s;
                                switch (
                                    ((r =
                                        l > 0.5
                                            ? c / (2 - o - s)
                                            : c / (o + s)),
                                    o)
                                ) {
                                    case n:
                                        t = (a - i) / c + (a < i ? 6 : 0);
                                        break;
                                    case a:
                                        t = (i - n) / c + 2;
                                        break;
                                    case i:
                                        t = (n - a) / c + 4;
                                }
                                t /= 6;
                            }
                            return [t, r, l, e[3]];
                        }
                        function hue2rgb(e, t, r) {
                            return (
                                r < 0 && (r += 1),
                                r > 1 && (r -= 1),
                                r < 1 / 6
                                    ? e + 6 * (t - e) * r
                                    : r < 0.5
                                    ? t
                                    : r < 2 / 3
                                    ? e + (t - e) * (2 / 3 - r) * 6
                                    : e
                            );
                        }
                        function hslToRgb(e) {
                            var t,
                                r,
                                n,
                                a = e[0],
                                i = e[1],
                                o = e[2];
                            if (0 === i) t = r = n = o;
                            else {
                                var s = o < 0.5 ? o * (1 + i) : o + i - o * i,
                                    l = 2 * o - s;
                                (t = hue2rgb(l, s, a + 1 / 3)),
                                    (r = hue2rgb(l, s, a)),
                                    (n = hue2rgb(l, s, a - 1 / 3));
                            }
                            return [t, r, n, e[3]];
                        }
                        function linear(e, t, r, n, a) {
                            if (
                                ((void 0 !== n && void 0 !== a) ||
                                    ((n = t), (a = r), (t = 0), (r = 1)),
                                r < t)
                            ) {
                                var i = r;
                                (r = t), (t = i);
                            }
                            if (e <= t) return n;
                            if (e >= r) return a;
                            var o = r === t ? 0 : (e - t) / (r - t);
                            if (!n.length) return n + (a - n) * o;
                            var s,
                                l = n.length,
                                c = createTypedArray("float32", l);
                            for (s = 0; s < l; s += 1)
                                c[s] = n[s] + (a[s] - n[s]) * o;
                            return c;
                        }
                        function random(e, t) {
                            if (
                                (void 0 === t &&
                                    (void 0 === e
                                        ? ((e = 0), (t = 1))
                                        : ((t = e), (e = void 0))),
                                t.length)
                            ) {
                                var r,
                                    n = t.length;
                                e || (e = createTypedArray("float32", n));
                                var a = createTypedArray("float32", n),
                                    i = BMMath.random();
                                for (r = 0; r < n; r += 1)
                                    a[r] = e[r] + i * (t[r] - e[r]);
                                return a;
                            }
                            void 0 === e && (e = 0);
                            return e + BMMath.random() * (t - e);
                        }
                        function createPath(e, t, r, n) {
                            var a,
                                i = e.length,
                                o = shape_pool.newElement();
                            o.setPathData(!!n, i);
                            var s,
                                l,
                                c = [0, 0];
                            for (a = 0; a < i; a += 1)
                                (s = t && t[a] ? t[a] : c),
                                    (l = r && r[a] ? r[a] : c),
                                    o.setTripleAt(
                                        e[a][0],
                                        e[a][1],
                                        l[0] + e[a][0],
                                        l[1] + e[a][1],
                                        s[0] + e[a][0],
                                        s[1] + e[a][1],
                                        a,
                                        !0
                                    );
                            return o;
                        }
                        function initiateExpression(elem, data, property) {
                            function loopInDuration(e, t) {
                                return loopIn(e, t, !0);
                            }
                            function loopOutDuration(e, t) {
                                return loopOut(e, t, !0);
                            }
                            function lookAt(e, t) {
                                var r = [t[0] - e[0], t[1] - e[1], t[2] - e[2]],
                                    n =
                                        Math.atan2(
                                            r[0],
                                            Math.sqrt(r[1] * r[1] + r[2] * r[2])
                                        ) / degToRads;
                                return [
                                    -Math.atan2(r[1], r[2]) / degToRads,
                                    n,
                                    0,
                                ];
                            }
                            function easeOut(e, t, r, n, a) {
                                return applyEase(easeOutBez, e, t, r, n, a);
                            }
                            function easeIn(e, t, r, n, a) {
                                return applyEase(easeInBez, e, t, r, n, a);
                            }
                            function ease(e, t, r, n, a) {
                                return applyEase(easeInOutBez, e, t, r, n, a);
                            }
                            function applyEase(e, t, r, n, a, i) {
                                void 0 === a
                                    ? ((a = r), (i = n))
                                    : (t = (t - r) / (n - r));
                                var o = e((t = t > 1 ? 1 : t < 0 ? 0 : t));
                                if ($bm_isInstanceOfArray(a)) {
                                    var s,
                                        l = a.length,
                                        c = createTypedArray("float32", l);
                                    for (s = 0; s < l; s += 1)
                                        c[s] = (i[s] - a[s]) * o + a[s];
                                    return c;
                                }
                                return (i - a) * o + a;
                            }
                            function nearestKey(e) {
                                var t,
                                    r,
                                    n,
                                    a = data.k.length;
                                if (
                                    data.k.length &&
                                    "number" != typeof data.k[0]
                                )
                                    if (
                                        ((r = -1),
                                        (e *= elem.comp.globalData.frameRate) <
                                            data.k[0].t)
                                    )
                                        (r = 1), (n = data.k[0].t);
                                    else {
                                        for (t = 0; t < a - 1; t += 1) {
                                            if (e === data.k[t].t) {
                                                (r = t + 1), (n = data.k[t].t);
                                                break;
                                            }
                                            if (
                                                e > data.k[t].t &&
                                                e < data.k[t + 1].t
                                            ) {
                                                e - data.k[t].t >
                                                data.k[t + 1].t - e
                                                    ? ((r = t + 2),
                                                      (n = data.k[t + 1].t))
                                                    : ((r = t + 1),
                                                      (n = data.k[t].t));
                                                break;
                                            }
                                        }
                                        -1 === r &&
                                            ((r = t + 1), (n = data.k[t].t));
                                    }
                                else (r = 0), (n = 0);
                                var i = {};
                                return (
                                    (i.index = r),
                                    (i.time =
                                        n / elem.comp.globalData.frameRate),
                                    i
                                );
                            }
                            function key(e) {
                                var t, r, n;
                                if (
                                    !data.k.length ||
                                    "number" == typeof data.k[0]
                                )
                                    throw new Error(
                                        "The property has no keyframe at index " +
                                            e
                                    );
                                (e -= 1),
                                    (t = {
                                        time:
                                            data.k[e].t /
                                            elem.comp.globalData.frameRate,
                                        value: [],
                                    });
                                var a = data.k[e].hasOwnProperty("s")
                                    ? data.k[e].s
                                    : data.k[e - 1].e;
                                for (n = a.length, r = 0; r < n; r += 1)
                                    (t[r] = a[r]), (t.value[r] = a[r]);
                                return t;
                            }
                            function framesToTime(e, t) {
                                return (
                                    t || (t = elem.comp.globalData.frameRate),
                                    e / t
                                );
                            }
                            function timeToFrames(e, t) {
                                return (
                                    e || 0 === e || (e = time),
                                    t || (t = elem.comp.globalData.frameRate),
                                    e * t
                                );
                            }
                            function seedRandom(e) {
                                BMMath.seedrandom(randSeed + e);
                            }
                            function sourceRectAtTime() {
                                return elem.sourceRectAtTime();
                            }
                            function substring(e, t) {
                                return "string" == typeof value
                                    ? void 0 === t
                                        ? value.substring(e)
                                        : value.substring(e, t)
                                    : "";
                            }
                            function substr(e, t) {
                                return "string" == typeof value
                                    ? void 0 === t
                                        ? value.substr(e)
                                        : value.substr(e, t)
                                    : "";
                            }
                            function posterizeTime(e) {
                                (time = 0 === e ? 0 : Math.floor(time * e) / e),
                                    (value = valueAtTime(time));
                            }
                            function executeExpression(e) {
                                return (
                                    (value = e),
                                    _needsRandom && seedRandom(randSeed),
                                    this.frameExpressionId ===
                                        elem.globalData.frameId &&
                                    "textSelector" !== this.propType
                                        ? value
                                        : ("textSelector" === this.propType &&
                                              ((textIndex = this.textIndex),
                                              (textTotal = this.textTotal),
                                              (selectorValue = this
                                                  .selectorValue)),
                                          thisLayer ||
                                              ((text =
                                                  elem.layerInterface.text),
                                              (thisLayer = elem.layerInterface),
                                              (thisComp =
                                                  elem.comp.compInterface),
                                              (toWorld = thisLayer.toWorld.bind(
                                                  thisLayer
                                              )),
                                              (fromWorld = thisLayer.fromWorld.bind(
                                                  thisLayer
                                              )),
                                              (fromComp = thisLayer.fromComp.bind(
                                                  thisLayer
                                              )),
                                              (toComp = thisLayer.toComp.bind(
                                                  thisLayer
                                              )),
                                              (mask = thisLayer.mask
                                                  ? thisLayer.mask.bind(
                                                        thisLayer
                                                    )
                                                  : null),
                                              (fromCompToSurface = fromComp)),
                                          transform ||
                                              ((transform = elem.layerInterface(
                                                  "ADBE Transform Group"
                                              )),
                                              ($bm_transform = transform),
                                              transform &&
                                                  (anchorPoint =
                                                      transform.anchorPoint)),
                                          4 !== elemType ||
                                              content ||
                                              (content = thisLayer(
                                                  "ADBE Root Vectors Group"
                                              )),
                                          effect || (effect = thisLayer(4)),
                                          (hasParent = !(
                                              !elem.hierarchy ||
                                              !elem.hierarchy.length
                                          )) &&
                                              !parent &&
                                              (parent =
                                                  elem.hierarchy[0]
                                                      .layerInterface),
                                          (time =
                                              this.comp.renderedFrame /
                                              this.comp.globalData.frameRate),
                                          needsVelocity &&
                                              (velocity = velocityAtTime(time)),
                                          expression_function(),
                                          (this.frameExpressionId =
                                              elem.globalData.frameId),
                                          "shape" === scoped_bm_rt.propType &&
                                              (scoped_bm_rt = scoped_bm_rt.v),
                                          scoped_bm_rt)
                                );
                            }
                            var val = data.x,
                                needsVelocity = /velocity(?![\w\d])/.test(val),
                                _needsRandom = -1 !== val.indexOf("random"),
                                elemType = elem.data.ty,
                                transform,
                                $bm_transform,
                                content,
                                effect,
                                thisProperty = property;
                            (thisProperty.valueAtTime =
                                thisProperty.getValueAtTime),
                                Object.defineProperty(thisProperty, "value", {
                                    get: function () {
                                        return thisProperty.v;
                                    },
                                }),
                                (elem.comp.frameDuration =
                                    1 / elem.comp.globalData.frameRate),
                                (elem.comp.displayStartTime = 0);
                            var inPoint =
                                    elem.data.ip /
                                    elem.comp.globalData.frameRate,
                                outPoint =
                                    elem.data.op /
                                    elem.comp.globalData.frameRate,
                                width = elem.data.sw ? elem.data.sw : 0,
                                height = elem.data.sh ? elem.data.sh : 0,
                                name = elem.data.nm,
                                loopIn,
                                loop_in,
                                loopOut,
                                loop_out,
                                smooth,
                                toWorld,
                                fromWorld,
                                fromComp,
                                toComp,
                                fromCompToSurface,
                                position,
                                rotation,
                                anchorPoint,
                                scale,
                                thisLayer,
                                thisComp,
                                mask,
                                valueAtTime,
                                velocityAtTime,
                                __expression_functions = [];
                            if (data.xf) {
                                var i,
                                    len = data.xf.length;
                                for (i = 0; i < len; i += 1)
                                    __expression_functions[i] = eval(
                                        "(function(){ return " +
                                            data.xf[i] +
                                            "}())"
                                    );
                            }
                            var scoped_bm_rt,
                                expression_function = eval(
                                    "[function _expression_function(){" +
                                        val +
                                        ";scoped_bm_rt=$bm_rt}]"
                                )[0],
                                numKeys = property.kf ? data.k.length : 0,
                                active = !this.data || !0 !== this.data.hd,
                                wiggle = function (e, t) {
                                    var r,
                                        n,
                                        a = this.pv.length ? this.pv.length : 1,
                                        i = createTypedArray("float32", a);
                                    e = 5;
                                    var o = Math.floor(time * e);
                                    for (r = 0, n = 0; r < o; ) {
                                        for (n = 0; n < a; n += 1)
                                            i[n] +=
                                                -t + 2 * t * BMMath.random();
                                        r += 1;
                                    }
                                    var s = time * e,
                                        l = s - Math.floor(s),
                                        c = createTypedArray("float32", a);
                                    if (a > 1) {
                                        for (n = 0; n < a; n += 1)
                                            c[n] =
                                                this.pv[n] +
                                                i[n] +
                                                (-t + 2 * t * BMMath.random()) *
                                                    l;
                                        return c;
                                    }
                                    return (
                                        this.pv +
                                        i[0] +
                                        (-t + 2 * t * BMMath.random()) * l
                                    );
                                }.bind(this);
                            thisProperty.loopIn &&
                                ((loopIn = thisProperty.loopIn.bind(
                                    thisProperty
                                )),
                                (loop_in = loopIn)),
                                thisProperty.loopOut &&
                                    ((loopOut = thisProperty.loopOut.bind(
                                        thisProperty
                                    )),
                                    (loop_out = loopOut)),
                                thisProperty.smooth &&
                                    (smooth = thisProperty.smooth.bind(
                                        thisProperty
                                    )),
                                this.getValueAtTime &&
                                    (valueAtTime = this.getValueAtTime.bind(
                                        this
                                    )),
                                this.getVelocityAtTime &&
                                    (velocityAtTime = this.getVelocityAtTime.bind(
                                        this
                                    ));
                            var comp = elem.comp.globalData.projectInterface.bind(
                                    elem.comp.globalData.projectInterface
                                ),
                                time,
                                velocity,
                                value,
                                text,
                                textIndex,
                                textTotal,
                                selectorValue,
                                index = elem.data.ind,
                                hasParent = !(
                                    !elem.hierarchy || !elem.hierarchy.length
                                ),
                                parent,
                                randSeed = Math.floor(1e6 * Math.random()),
                                globalData = elem.globalData;
                            return executeExpression;
                        }
                        var ob = {},
                            Math = BMMath,
                            window = null,
                            document = null,
                            easeInBez = BezierFactory.getBezierEasing(
                                0.333,
                                0,
                                0.833,
                                0.833,
                                "easeIn"
                            ).get,
                            easeOutBez = BezierFactory.getBezierEasing(
                                0.167,
                                0.167,
                                0.667,
                                1,
                                "easeOut"
                            ).get,
                            easeInOutBez = BezierFactory.getBezierEasing(
                                0.33,
                                0,
                                0.667,
                                1,
                                "easeInOut"
                            ).get,
                            add = sum,
                            $bm_sum = sum,
                            $bm_sub = sub,
                            $bm_mul = mul,
                            $bm_div = div,
                            $bm_mod = mod,
                            radians_to_degrees = radiansToDegrees,
                            degrees_to_radians = radiansToDegrees,
                            helperLengthArray = [0, 0, 0, 0, 0, 0];
                        return (ob.initiateExpression = initiateExpression), ob;
                    })(),
                    expressionHelpers = (function () {
                        return {
                            searchExpressions: function (e, t, r) {
                                t.x &&
                                    ((r.k = !0),
                                    (r.x = !0),
                                    (r.initiateExpression =
                                        ExpressionManager.initiateExpression),
                                    r.effectsSequence.push(
                                        r.initiateExpression(e, t, r).bind(r)
                                    ));
                            },
                            getSpeedAtTime: function (e) {
                                var t = this.getValueAtTime(e),
                                    r = this.getValueAtTime(e + -0.01),
                                    n = 0;
                                if (t.length) {
                                    var a;
                                    for (a = 0; a < t.length; a += 1)
                                        n += Math.pow(r[a] - t[a], 2);
                                    n = 100 * Math.sqrt(n);
                                } else n = 0;
                                return n;
                            },
                            getVelocityAtTime: function (e) {
                                if (void 0 !== this.vel) return this.vel;
                                var t,
                                    r = this.getValueAtTime(e),
                                    n = this.getValueAtTime(e + -0.001);
                                if (r.length) {
                                    t = createTypedArray("float32", r.length);
                                    var a;
                                    for (a = 0; a < r.length; a += 1)
                                        t[a] = (n[a] - r[a]) / -0.001;
                                } else t = (n - r) / -0.001;
                                return t;
                            },
                            getValueAtTime: function (e) {
                                return (
                                    (e *= this.elem.globalData.frameRate),
                                    (e -= this.offsetTime) !==
                                        this._cachingAtTime.lastFrame &&
                                        ((this._cachingAtTime.lastIndex =
                                            this._cachingAtTime.lastFrame < e
                                                ? this._cachingAtTime.lastIndex
                                                : 0),
                                        (this._cachingAtTime.value = this.interpolateValue(
                                            e,
                                            this._cachingAtTime
                                        )),
                                        (this._cachingAtTime.lastFrame = e)),
                                    this._cachingAtTime.value
                                );
                            },
                            getStaticValueAtTime: function () {
                                return this.pv;
                            },
                            setGroupProperty: function (e) {
                                this.propertyGroup = e;
                            },
                        };
                    })();
                !(function () {
                    function e(e, t, r) {
                        if (!this.k || !this.keyframes) return this.pv;
                        e = e ? e.toLowerCase() : "";
                        var n = this.comp.renderedFrame,
                            a = this.keyframes,
                            i = a[a.length - 1].t;
                        if (n <= i) return this.pv;
                        var o, s;
                        r
                            ? (s =
                                  i -
                                  (o = t
                                      ? Math.abs(
                                            i -
                                                elem.comp.globalData.frameRate *
                                                    t
                                        )
                                      : Math.max(0, i - this.elem.data.ip)))
                            : ((!t || t > a.length - 1) && (t = a.length - 1),
                              (o = i - (s = a[a.length - 1 - t].t)));
                        var l, c, u;
                        if ("pingpong" === e) {
                            if (Math.floor((n - s) / o) % 2 != 0)
                                return this.getValueAtTime(
                                    (o - ((n - s) % o) + s) /
                                        this.comp.globalData.frameRate,
                                    0
                                );
                        } else {
                            if ("offset" === e) {
                                var d = this.getValueAtTime(
                                        s / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    p = this.getValueAtTime(
                                        i / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    h = this.getValueAtTime(
                                        (((n - s) % o) + s) /
                                            this.comp.globalData.frameRate,
                                        0
                                    ),
                                    f = Math.floor((n - s) / o);
                                if (this.pv.length) {
                                    for (
                                        c = (u = new Array(d.length)).length,
                                            l = 0;
                                        l < c;
                                        l += 1
                                    )
                                        u[l] = (p[l] - d[l]) * f + h[l];
                                    return u;
                                }
                                return (p - d) * f + h;
                            }
                            if ("continue" === e) {
                                var m = this.getValueAtTime(
                                        i / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    y = this.getValueAtTime(
                                        (i - 0.001) /
                                            this.comp.globalData.frameRate,
                                        0
                                    );
                                if (this.pv.length) {
                                    for (
                                        c = (u = new Array(m.length)).length,
                                            l = 0;
                                        l < c;
                                        l += 1
                                    )
                                        u[l] =
                                            m[l] +
                                            ((m[l] - y[l]) *
                                                ((n - i) /
                                                    this.comp.globalData
                                                        .frameRate)) /
                                                5e-4;
                                    return u;
                                }
                                return m + ((n - i) / 0.001) * (m - y);
                            }
                        }
                        return this.getValueAtTime(
                            (((n - s) % o) + s) /
                                this.comp.globalData.frameRate,
                            0
                        );
                    }
                    function t(e, t, r) {
                        if (!this.k) return this.pv;
                        e = e ? e.toLowerCase() : "";
                        var n = this.comp.renderedFrame,
                            a = this.keyframes,
                            i = a[0].t;
                        if (n >= i) return this.pv;
                        var o, s;
                        r
                            ? (s =
                                  i +
                                  (o = t
                                      ? Math.abs(
                                            elem.comp.globalData.frameRate * t
                                        )
                                      : Math.max(0, this.elem.data.op - i)))
                            : ((!t || t > a.length - 1) && (t = a.length - 1),
                              (o = (s = a[t].t) - i));
                        var l, c, u;
                        if ("pingpong" === e) {
                            if (Math.floor((i - n) / o) % 2 == 0)
                                return this.getValueAtTime(
                                    (((i - n) % o) + i) /
                                        this.comp.globalData.frameRate,
                                    0
                                );
                        } else {
                            if ("offset" === e) {
                                var d = this.getValueAtTime(
                                        i / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    p = this.getValueAtTime(
                                        s / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    h = this.getValueAtTime(
                                        (o - ((i - n) % o) + i) /
                                            this.comp.globalData.frameRate,
                                        0
                                    ),
                                    f = Math.floor((i - n) / o) + 1;
                                if (this.pv.length) {
                                    for (
                                        c = (u = new Array(d.length)).length,
                                            l = 0;
                                        l < c;
                                        l += 1
                                    )
                                        u[l] = h[l] - (p[l] - d[l]) * f;
                                    return u;
                                }
                                return h - (p - d) * f;
                            }
                            if ("continue" === e) {
                                var m = this.getValueAtTime(
                                        i / this.comp.globalData.frameRate,
                                        0
                                    ),
                                    y = this.getValueAtTime(
                                        (i + 0.001) /
                                            this.comp.globalData.frameRate,
                                        0
                                    );
                                if (this.pv.length) {
                                    for (
                                        c = (u = new Array(m.length)).length,
                                            l = 0;
                                        l < c;
                                        l += 1
                                    )
                                        u[l] =
                                            m[l] +
                                            ((m[l] - y[l]) * (i - n)) / 0.001;
                                    return u;
                                }
                                return m + ((m - y) * (i - n)) / 0.001;
                            }
                        }
                        return this.getValueAtTime(
                            (o - ((i - n) % o) + i) /
                                this.comp.globalData.frameRate,
                            0
                        );
                    }
                    function r(e, t) {
                        if (!this.k) return this.pv;
                        if (
                            ((e = 0.5 * (e || 0.4)),
                            (t = Math.floor(t || 5)) <= 1)
                        )
                            return this.pv;
                        var r,
                            n =
                                this.comp.renderedFrame /
                                this.comp.globalData.frameRate,
                            a = n - e,
                            i = t > 1 ? (n + e - a) / (t - 1) : 1,
                            o = 0,
                            s = 0;
                        r = this.pv.length
                            ? createTypedArray("float32", this.pv.length)
                            : 0;
                        for (var l; o < t; ) {
                            if (
                                ((l = this.getValueAtTime(a + o * i)),
                                this.pv.length)
                            )
                                for (s = 0; s < this.pv.length; s += 1)
                                    r[s] += l[s];
                            else r += l;
                            o += 1;
                        }
                        if (this.pv.length)
                            for (s = 0; s < this.pv.length; s += 1) r[s] /= t;
                        else r /= t;
                        return r;
                    }
                    function n() {}
                    var a = TransformPropertyFactory.getTransformProperty;
                    TransformPropertyFactory.getTransformProperty = function (
                        e,
                        t,
                        r
                    ) {
                        var n = a(e, t, r);
                        return (
                            n.dynamicProperties.length
                                ? (n.getValueAtTime = function (e) {
                                      this._transformCachingAtTime ||
                                          (this._transformCachingAtTime = {
                                              v: new Matrix(),
                                          });
                                      var t = this._transformCachingAtTime.v;
                                      if (
                                          (t.cloneFromProps(this.pre.props),
                                          this.appliedTransformations < 1)
                                      ) {
                                          var r = this.a.getValueAtTime(e);
                                          t.translate(
                                              -r[0] * this.a.mult,
                                              -r[1] * this.a.mult,
                                              r[2] * this.a.mult
                                          );
                                      }
                                      if (this.appliedTransformations < 2) {
                                          var n = this.s.getValueAtTime(e);
                                          t.scale(
                                              n[0] * this.s.mult,
                                              n[1] * this.s.mult,
                                              n[2] * this.s.mult
                                          );
                                      }
                                      if (
                                          this.sk &&
                                          this.appliedTransformations < 3
                                      ) {
                                          var a = this.sk.getValueAtTime(e),
                                              i = this.sa.getValueAtTime(e);
                                          t.skewFromAxis(
                                              -a * this.sk.mult,
                                              i * this.sa.mult
                                          );
                                      }
                                      if (
                                          this.r &&
                                          this.appliedTransformations < 4
                                      ) {
                                          var o = this.r.getValueAtTime(e);
                                          t.rotate(-o * this.r.mult);
                                      } else if (
                                          !this.r &&
                                          this.appliedTransformations < 4
                                      ) {
                                          var s = this.rz.getValueAtTime(e),
                                              l = this.ry.getValueAtTime(e),
                                              c = this.rx.getValueAtTime(e),
                                              u = this.or.getValueAtTime(e);
                                          t.rotateZ(-s * this.rz.mult)
                                              .rotateY(l * this.ry.mult)
                                              .rotateX(c * this.rx.mult)
                                              .rotateZ(-u[2] * this.or.mult)
                                              .rotateY(u[1] * this.or.mult)
                                              .rotateX(u[0] * this.or.mult);
                                      }
                                      if (this.data.p && this.data.p.s) {
                                          var d = this.px.getValueAtTime(e),
                                              p = this.py.getValueAtTime(e);
                                          if (this.data.p.z) {
                                              var h = this.pz.getValueAtTime(e);
                                              t.translate(
                                                  d * this.px.mult,
                                                  p * this.py.mult,
                                                  -h * this.pz.mult
                                              );
                                          } else
                                              t.translate(
                                                  d * this.px.mult,
                                                  p * this.py.mult,
                                                  0
                                              );
                                      } else {
                                          var f = this.p.getValueAtTime(e);
                                          t.translate(
                                              f[0] * this.p.mult,
                                              f[1] * this.p.mult,
                                              -f[2] * this.p.mult
                                          );
                                      }
                                      return t;
                                  }.bind(n))
                                : (n.getValueAtTime = function (e) {
                                      return this.v.clone(new Matrix());
                                  }.bind(n)),
                            (n.setGroupProperty =
                                expressionHelpers.setGroupProperty),
                            n
                        );
                    };
                    var i = PropertyFactory.getProp;
                    PropertyFactory.getProp = function (n, a, o, s, l) {
                        var c = i(n, a, o, s, l);
                        c.kf
                            ? (c.getValueAtTime = expressionHelpers.getValueAtTime.bind(
                                  c
                              ))
                            : (c.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(
                                  c
                              )),
                            (c.setGroupProperty =
                                expressionHelpers.setGroupProperty),
                            (c.loopOut = e),
                            (c.loopIn = t),
                            (c.smooth = r),
                            (c.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(
                                c
                            )),
                            (c.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(
                                c
                            )),
                            (c.numKeys = 1 === a.a ? a.k.length : 0),
                            (c.propertyIndex = a.ix);
                        var u = 0;
                        return (
                            0 !== o &&
                                (u = createTypedArray(
                                    "float32",
                                    1 === a.a ? a.k[0].s.length : a.k.length
                                )),
                            (c._cachingAtTime = {
                                lastFrame: initialDefaultFrame,
                                lastIndex: 0,
                                value: u,
                            }),
                            expressionHelpers.searchExpressions(n, a, c),
                            c.k && l.addDynamicProperty(c),
                            c
                        );
                    };
                    var o = ShapePropertyFactory.getConstructorFunction(),
                        s = ShapePropertyFactory.getKeyframedConstructorFunction();
                    (n.prototype = {
                        vertices: function (e, t) {
                            this.k && this.getValue();
                            var r = this.v;
                            void 0 !== t && (r = this.getValueAtTime(t, 0));
                            var n,
                                a = r._length,
                                i = r[e],
                                o = r.v,
                                s = createSizedArray(a);
                            for (n = 0; n < a; n += 1)
                                s[n] =
                                    "i" === e || "o" === e
                                        ? [i[n][0] - o[n][0], i[n][1] - o[n][1]]
                                        : [i[n][0], i[n][1]];
                            return s;
                        },
                        points: function (e) {
                            return this.vertices("v", e);
                        },
                        inTangents: function (e) {
                            return this.vertices("i", e);
                        },
                        outTangents: function (e) {
                            return this.vertices("o", e);
                        },
                        isClosed: function () {
                            return this.v.c;
                        },
                        pointOnPath: function (e, t) {
                            var r = this.v;
                            void 0 !== t && (r = this.getValueAtTime(t, 0)),
                                this._segmentsLength ||
                                    (this._segmentsLength = bez.getSegmentsLength(
                                        r
                                    ));
                            for (
                                var n,
                                    a = this._segmentsLength,
                                    i = a.lengths,
                                    o = a.totalLength * e,
                                    s = 0,
                                    l = i.length,
                                    c = 0;
                                s < l;

                            ) {
                                if (c + i[s].addedLength > o) {
                                    var u = s,
                                        d = r.c && s === l - 1 ? 0 : s + 1,
                                        p = (o - c) / i[s].addedLength;
                                    n = bez.getPointInSegment(
                                        r.v[u],
                                        r.v[d],
                                        r.o[u],
                                        r.i[d],
                                        p,
                                        i[s]
                                    );
                                    break;
                                }
                                (c += i[s].addedLength), (s += 1);
                            }
                            return (
                                n ||
                                    (n = r.c
                                        ? [r.v[0][0], r.v[0][1]]
                                        : [
                                              r.v[r._length - 1][0],
                                              r.v[r._length - 1][1],
                                          ]),
                                n
                            );
                        },
                        vectorOnPath: function (e, t, r) {
                            e = 1 == e ? (this.v.c ? 0 : 0.999) : e;
                            var n = this.pointOnPath(e, t),
                                a = this.pointOnPath(e + 0.001, t),
                                i = a[0] - n[0],
                                o = a[1] - n[1],
                                s = Math.sqrt(Math.pow(i, 2) + Math.pow(o, 2));
                            if (0 === s) return [0, 0];
                            return "tangent" === r
                                ? [i / s, o / s]
                                : [-o / s, i / s];
                        },
                        tangentOnPath: function (e, t) {
                            return this.vectorOnPath(e, t, "tangent");
                        },
                        normalOnPath: function (e, t) {
                            return this.vectorOnPath(e, t, "normal");
                        },
                        setGroupProperty: expressionHelpers.setGroupProperty,
                        getValueAtTime: expressionHelpers.getStaticValueAtTime,
                    }),
                        extendPrototype([n], o),
                        extendPrototype([n], s),
                        (s.prototype.getValueAtTime = function (e) {
                            return (
                                this._cachingAtTime ||
                                    (this._cachingAtTime = {
                                        shapeValue: shape_pool.clone(this.pv),
                                        lastIndex: 0,
                                        lastTime: initialDefaultFrame,
                                    }),
                                (e *= this.elem.globalData.frameRate),
                                (e -= this.offsetTime) !==
                                    this._cachingAtTime.lastTime &&
                                    ((this._cachingAtTime.lastIndex =
                                        this._cachingAtTime.lastTime < e
                                            ? this._caching.lastIndex
                                            : 0),
                                    (this._cachingAtTime.lastTime = e),
                                    this.interpolateShape(
                                        e,
                                        this._cachingAtTime.shapeValue,
                                        this._cachingAtTime
                                    )),
                                this._cachingAtTime.shapeValue
                            );
                        }),
                        (s.prototype.initiateExpression =
                            ExpressionManager.initiateExpression);
                    var l = ShapePropertyFactory.getShapeProp;
                    ShapePropertyFactory.getShapeProp = function (
                        e,
                        t,
                        r,
                        n,
                        a
                    ) {
                        var i = l(e, t, r, n, a);
                        return (
                            (i.propertyIndex = t.ix),
                            (i.lock = !1),
                            3 === r
                                ? expressionHelpers.searchExpressions(
                                      e,
                                      t.pt,
                                      i
                                  )
                                : 4 === r &&
                                  expressionHelpers.searchExpressions(
                                      e,
                                      t.ks,
                                      i
                                  ),
                            i.k && e.addDynamicProperty(i),
                            i
                        );
                    };
                })(),
                    (function () {
                        (TextProperty.prototype.getExpressionValue = function (
                            e,
                            t
                        ) {
                            var r = this.calculateExpression(t);
                            if (e.t !== r) {
                                var n = {};
                                return (
                                    this.copyData(n, e),
                                    (n.t = r.toString()),
                                    (n.__complete = !1),
                                    n
                                );
                            }
                            return e;
                        }),
                            (TextProperty.prototype.searchProperty = function () {
                                var e = this.searchKeyframes(),
                                    t = this.searchExpressions();
                                return (this.kf = e || t), this.kf;
                            }),
                            (TextProperty.prototype.searchExpressions = function () {
                                if (this.data.d.x)
                                    return (
                                        (this.calculateExpression = ExpressionManager.initiateExpression.bind(
                                            this
                                        )(this.elem, this.data.d, this)),
                                        this.addEffect(
                                            this.getExpressionValue.bind(this)
                                        ),
                                        !0
                                    );
                            });
                    })();
                var ShapePathInterface = function (e, t, r) {
                        function n(e) {
                            if (
                                "Shape" === e ||
                                "shape" === e ||
                                "Path" === e ||
                                "path" === e ||
                                "ADBE Vector Shape" === e ||
                                2 === e
                            )
                                return n.path;
                        }
                        var a = t.sh,
                            i = propertyGroupFactory(n, r);
                        return (
                            a.setGroupProperty(PropertyInterface("Path", i)),
                            Object.defineProperties(n, {
                                path: {
                                    get: function () {
                                        return a.k && a.getValue(), a;
                                    },
                                },
                                shape: {
                                    get: function () {
                                        return a.k && a.getValue(), a;
                                    },
                                },
                                _name: { value: e.nm },
                                ix: { value: e.ix },
                                propertyIndex: { value: e.ix },
                                mn: { value: e.mn },
                                propertyGroup: { value: r },
                            }),
                            n
                        );
                    },
                    propertyGroupFactory = function (e, t) {
                        return function (r) {
                            return (r = void 0 === r ? 1 : r) <= 0
                                ? e
                                : t(r - 1);
                        };
                    },
                    PropertyInterface = function (e, t) {
                        var r = { _name: e };
                        return function (e) {
                            return (e = void 0 === e ? 1 : e) <= 0 ? r : t(--e);
                        };
                    },
                    ShapeExpressionInterface = (function () {
                        function e(r, n, a) {
                            var i,
                                o = [],
                                s = r ? r.length : 0;
                            for (i = 0; i < s; i += 1)
                                "gr" == r[i].ty
                                    ? o.push(
                                          (function (r, n, a) {
                                              var i = function (e) {
                                                  switch (e) {
                                                      case "ADBE Vectors Group":
                                                      case "Contents":
                                                      case 2:
                                                          return i.content;
                                                      default:
                                                          return i.transform;
                                                  }
                                              };
                                              i.propertyGroup = propertyGroupFactory(
                                                  i,
                                                  a
                                              );
                                              var o = (function (r, n, a) {
                                                      var i,
                                                          o = function (e) {
                                                              for (
                                                                  var t = 0,
                                                                      r =
                                                                          i.length;
                                                                  t < r;

                                                              ) {
                                                                  if (
                                                                      i[t]
                                                                          ._name ===
                                                                          e ||
                                                                      i[t]
                                                                          .mn ===
                                                                          e ||
                                                                      i[t]
                                                                          .propertyIndex ===
                                                                          e ||
                                                                      i[t]
                                                                          .ix ===
                                                                          e ||
                                                                      i[t]
                                                                          .ind ===
                                                                          e
                                                                  )
                                                                      return i[
                                                                          t
                                                                      ];
                                                                  t += 1;
                                                              }
                                                              if (
                                                                  "number" ==
                                                                  typeof e
                                                              )
                                                                  return i[
                                                                      e - 1
                                                                  ];
                                                          };
                                                      (o.propertyGroup = propertyGroupFactory(
                                                          o,
                                                          a
                                                      )),
                                                          (i = e(
                                                              r.it,
                                                              n.it,
                                                              o.propertyGroup
                                                          )),
                                                          (o.numProperties =
                                                              i.length);
                                                      var s = t(
                                                          r.it[r.it.length - 1],
                                                          n.it[n.it.length - 1],
                                                          o.propertyGroup
                                                      );
                                                      return (
                                                          (o.transform = s),
                                                          (o.propertyIndex =
                                                              r.cix),
                                                          (o._name = r.nm),
                                                          o
                                                      );
                                                  })(r, n, i.propertyGroup),
                                                  s = t(
                                                      r.it[r.it.length - 1],
                                                      n.it[n.it.length - 1],
                                                      i.propertyGroup
                                                  );
                                              return (
                                                  (i.content = o),
                                                  (i.transform = s),
                                                  Object.defineProperty(
                                                      i,
                                                      "_name",
                                                      {
                                                          get: function () {
                                                              return r.nm;
                                                          },
                                                      }
                                                  ),
                                                  (i.numProperties = r.np),
                                                  (i.propertyIndex = r.ix),
                                                  (i.nm = r.nm),
                                                  (i.mn = r.mn),
                                                  i
                                              );
                                          })(r[i], n[i], a)
                                      )
                                    : "fl" == r[i].ty
                                    ? o.push(
                                          (function (e, t, r) {
                                              function n(e) {
                                                  return "Color" === e ||
                                                      "color" === e
                                                      ? n.color
                                                      : "Opacity" === e ||
                                                        "opacity" === e
                                                      ? n.opacity
                                                      : void 0;
                                              }
                                              return (
                                                  Object.defineProperties(n, {
                                                      color: {
                                                          get: ExpressionPropertyInterface(
                                                              t.c
                                                          ),
                                                      },
                                                      opacity: {
                                                          get: ExpressionPropertyInterface(
                                                              t.o
                                                          ),
                                                      },
                                                      _name: { value: e.nm },
                                                      mn: { value: e.mn },
                                                  }),
                                                  t.c.setGroupProperty(
                                                      PropertyInterface(
                                                          "Color",
                                                          r
                                                      )
                                                  ),
                                                  t.o.setGroupProperty(
                                                      PropertyInterface(
                                                          "Opacity",
                                                          r
                                                      )
                                                  ),
                                                  n
                                              );
                                          })(r[i], n[i], a)
                                      )
                                    : "st" == r[i].ty
                                    ? o.push(
                                          (function (e, t, r) {
                                              function n(r) {
                                                  Object.defineProperty(
                                                      c,
                                                      e.d[r].nm,
                                                      {
                                                          get: ExpressionPropertyInterface(
                                                              t.d.dataProps[r].p
                                                          ),
                                                      }
                                                  );
                                              }
                                              function a(e) {
                                                  return "Color" === e ||
                                                      "color" === e
                                                      ? a.color
                                                      : "Opacity" === e ||
                                                        "opacity" === e
                                                      ? a.opacity
                                                      : "Stroke Width" === e ||
                                                        "stroke width" === e
                                                      ? a.strokeWidth
                                                      : void 0;
                                              }
                                              var i = propertyGroupFactory(
                                                      a,
                                                      r
                                                  ),
                                                  o = propertyGroupFactory(
                                                      c,
                                                      i
                                                  );
                                              var s,
                                                  l = e.d ? e.d.length : 0,
                                                  c = {};
                                              for (s = 0; s < l; s += 1)
                                                  n(s),
                                                      t.d.dataProps[
                                                          s
                                                      ].p.setGroupProperty(o);
                                              return (
                                                  Object.defineProperties(a, {
                                                      color: {
                                                          get: ExpressionPropertyInterface(
                                                              t.c
                                                          ),
                                                      },
                                                      opacity: {
                                                          get: ExpressionPropertyInterface(
                                                              t.o
                                                          ),
                                                      },
                                                      strokeWidth: {
                                                          get: ExpressionPropertyInterface(
                                                              t.w
                                                          ),
                                                      },
                                                      dash: {
                                                          get: function () {
                                                              return c;
                                                          },
                                                      },
                                                      _name: { value: e.nm },
                                                      mn: { value: e.mn },
                                                  }),
                                                  t.c.setGroupProperty(
                                                      PropertyInterface(
                                                          "Color",
                                                          i
                                                      )
                                                  ),
                                                  t.o.setGroupProperty(
                                                      PropertyInterface(
                                                          "Opacity",
                                                          i
                                                      )
                                                  ),
                                                  t.w.setGroupProperty(
                                                      PropertyInterface(
                                                          "Stroke Width",
                                                          i
                                                      )
                                                  ),
                                                  a
                                              );
                                          })(r[i], n[i], a)
                                      )
                                    : "tm" == r[i].ty
                                    ? o.push(
                                          (function (e, t, r) {
                                              function n(t) {
                                                  return t === e.e.ix ||
                                                      "End" === t ||
                                                      "end" === t
                                                      ? n.end
                                                      : t === e.s.ix
                                                      ? n.start
                                                      : t === e.o.ix
                                                      ? n.offset
                                                      : void 0;
                                              }
                                              var a = propertyGroupFactory(
                                                  n,
                                                  r
                                              );
                                              return (
                                                  (n.propertyIndex = e.ix),
                                                  t.s.setGroupProperty(
                                                      PropertyInterface(
                                                          "Start",
                                                          a
                                                      )
                                                  ),
                                                  t.e.setGroupProperty(
                                                      PropertyInterface(
                                                          "End",
                                                          a
                                                      )
                                                  ),
                                                  t.o.setGroupProperty(
                                                      PropertyInterface(
                                                          "Offset",
                                                          a
                                                      )
                                                  ),
                                                  (n.propertyIndex = e.ix),
                                                  (n.propertyGroup = r),
                                                  Object.defineProperties(n, {
                                                      start: {
                                                          get: ExpressionPropertyInterface(
                                                              t.s
                                                          ),
                                                      },
                                                      end: {
                                                          get: ExpressionPropertyInterface(
                                                              t.e
                                                          ),
                                                      },
                                                      offset: {
                                                          get: ExpressionPropertyInterface(
                                                              t.o
                                                          ),
                                                      },
                                                      _name: { value: e.nm },
                                                  }),
                                                  (n.mn = e.mn),
                                                  n
                                              );
                                          })(r[i], n[i], a)
                                      )
                                    : "tr" == r[i].ty ||
                                      ("el" == r[i].ty
                                          ? o.push(
                                                (function (e, t, r) {
                                                    function n(t) {
                                                        return e.p.ix === t
                                                            ? n.position
                                                            : e.s.ix === t
                                                            ? n.size
                                                            : void 0;
                                                    }
                                                    var a = propertyGroupFactory(
                                                        n,
                                                        r
                                                    );
                                                    n.propertyIndex = e.ix;
                                                    var i =
                                                        "tm" === t.sh.ty
                                                            ? t.sh.prop
                                                            : t.sh;
                                                    return (
                                                        i.s.setGroupProperty(
                                                            PropertyInterface(
                                                                "Size",
                                                                a
                                                            )
                                                        ),
                                                        i.p.setGroupProperty(
                                                            PropertyInterface(
                                                                "Position",
                                                                a
                                                            )
                                                        ),
                                                        Object.defineProperties(
                                                            n,
                                                            {
                                                                size: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.s
                                                                    ),
                                                                },
                                                                position: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.p
                                                                    ),
                                                                },
                                                                _name: {
                                                                    value: e.nm,
                                                                },
                                                            }
                                                        ),
                                                        (n.mn = e.mn),
                                                        n
                                                    );
                                                })(r[i], n[i], a)
                                            )
                                          : "sr" == r[i].ty
                                          ? o.push(
                                                (function (e, t, r) {
                                                    function n(t) {
                                                        return e.p.ix === t
                                                            ? n.position
                                                            : e.r.ix === t
                                                            ? n.rotation
                                                            : e.pt.ix === t
                                                            ? n.points
                                                            : e.or.ix === t ||
                                                              "ADBE Vector Star Outer Radius" ===
                                                                  t
                                                            ? n.outerRadius
                                                            : e.os.ix === t
                                                            ? n.outerRoundness
                                                            : !e.ir ||
                                                              (e.ir.ix !== t &&
                                                                  "ADBE Vector Star Inner Radius" !==
                                                                      t)
                                                            ? e.is &&
                                                              e.is.ix === t
                                                                ? n.innerRoundness
                                                                : void 0
                                                            : n.innerRadius;
                                                    }
                                                    var a = propertyGroupFactory(
                                                            n,
                                                            r
                                                        ),
                                                        i =
                                                            "tm" === t.sh.ty
                                                                ? t.sh.prop
                                                                : t.sh;
                                                    (n.propertyIndex = e.ix),
                                                        i.or.setGroupProperty(
                                                            PropertyInterface(
                                                                "Outer Radius",
                                                                a
                                                            )
                                                        ),
                                                        i.os.setGroupProperty(
                                                            PropertyInterface(
                                                                "Outer Roundness",
                                                                a
                                                            )
                                                        ),
                                                        i.pt.setGroupProperty(
                                                            PropertyInterface(
                                                                "Points",
                                                                a
                                                            )
                                                        ),
                                                        i.p.setGroupProperty(
                                                            PropertyInterface(
                                                                "Position",
                                                                a
                                                            )
                                                        ),
                                                        i.r.setGroupProperty(
                                                            PropertyInterface(
                                                                "Rotation",
                                                                a
                                                            )
                                                        ),
                                                        e.ir &&
                                                            (i.ir.setGroupProperty(
                                                                PropertyInterface(
                                                                    "Inner Radius",
                                                                    a
                                                                )
                                                            ),
                                                            i.is.setGroupProperty(
                                                                PropertyInterface(
                                                                    "Inner Roundness",
                                                                    a
                                                                )
                                                            ));
                                                    return (
                                                        Object.defineProperties(
                                                            n,
                                                            {
                                                                position: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.p
                                                                    ),
                                                                },
                                                                rotation: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.r
                                                                    ),
                                                                },
                                                                points: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.pt
                                                                    ),
                                                                },
                                                                outerRadius: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.or
                                                                    ),
                                                                },
                                                                outerRoundness: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.os
                                                                    ),
                                                                },
                                                                innerRadius: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.ir
                                                                    ),
                                                                },
                                                                innerRoundness: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.is
                                                                    ),
                                                                },
                                                                _name: {
                                                                    value: e.nm,
                                                                },
                                                            }
                                                        ),
                                                        (n.mn = e.mn),
                                                        n
                                                    );
                                                })(r[i], n[i], a)
                                            )
                                          : "sh" == r[i].ty
                                          ? o.push(
                                                ShapePathInterface(
                                                    r[i],
                                                    n[i],
                                                    a
                                                )
                                            )
                                          : "rc" == r[i].ty
                                          ? o.push(
                                                (function (e, t, r) {
                                                    function n(t) {
                                                        return e.p.ix === t
                                                            ? n.position
                                                            : e.r.ix === t
                                                            ? n.roundness
                                                            : e.s.ix === t ||
                                                              "Size" === t ||
                                                              "ADBE Vector Rect Size" ===
                                                                  t
                                                            ? n.size
                                                            : void 0;
                                                    }
                                                    var a = propertyGroupFactory(
                                                            n,
                                                            r
                                                        ),
                                                        i =
                                                            "tm" === t.sh.ty
                                                                ? t.sh.prop
                                                                : t.sh;
                                                    return (
                                                        (n.propertyIndex =
                                                            e.ix),
                                                        i.p.setGroupProperty(
                                                            PropertyInterface(
                                                                "Position",
                                                                a
                                                            )
                                                        ),
                                                        i.s.setGroupProperty(
                                                            PropertyInterface(
                                                                "Size",
                                                                a
                                                            )
                                                        ),
                                                        i.r.setGroupProperty(
                                                            PropertyInterface(
                                                                "Rotation",
                                                                a
                                                            )
                                                        ),
                                                        Object.defineProperties(
                                                            n,
                                                            {
                                                                position: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.p
                                                                    ),
                                                                },
                                                                roundness: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.r
                                                                    ),
                                                                },
                                                                size: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.s
                                                                    ),
                                                                },
                                                                _name: {
                                                                    value: e.nm,
                                                                },
                                                            }
                                                        ),
                                                        (n.mn = e.mn),
                                                        n
                                                    );
                                                })(r[i], n[i], a)
                                            )
                                          : "rd" == r[i].ty
                                          ? o.push(
                                                (function (e, t, r) {
                                                    function n(t) {
                                                        if (
                                                            e.r.ix === t ||
                                                            "Round Corners 1" ===
                                                                t
                                                        )
                                                            return n.radius;
                                                    }
                                                    var a = propertyGroupFactory(
                                                            n,
                                                            r
                                                        ),
                                                        i = t;
                                                    return (
                                                        (n.propertyIndex =
                                                            e.ix),
                                                        i.rd.setGroupProperty(
                                                            PropertyInterface(
                                                                "Radius",
                                                                a
                                                            )
                                                        ),
                                                        Object.defineProperties(
                                                            n,
                                                            {
                                                                radius: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.rd
                                                                    ),
                                                                },
                                                                _name: {
                                                                    value: e.nm,
                                                                },
                                                            }
                                                        ),
                                                        (n.mn = e.mn),
                                                        n
                                                    );
                                                })(r[i], n[i], a)
                                            )
                                          : "rp" == r[i].ty &&
                                            o.push(
                                                (function (e, t, r) {
                                                    function n(t) {
                                                        return e.c.ix === t ||
                                                            "Copies" === t
                                                            ? n.copies
                                                            : e.o.ix === t ||
                                                              "Offset" === t
                                                            ? n.offset
                                                            : void 0;
                                                    }
                                                    var a = propertyGroupFactory(
                                                            n,
                                                            r
                                                        ),
                                                        i = t;
                                                    return (
                                                        (n.propertyIndex =
                                                            e.ix),
                                                        i.c.setGroupProperty(
                                                            PropertyInterface(
                                                                "Copies",
                                                                a
                                                            )
                                                        ),
                                                        i.o.setGroupProperty(
                                                            PropertyInterface(
                                                                "Offset",
                                                                a
                                                            )
                                                        ),
                                                        Object.defineProperties(
                                                            n,
                                                            {
                                                                copies: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.c
                                                                    ),
                                                                },
                                                                offset: {
                                                                    get: ExpressionPropertyInterface(
                                                                        i.o
                                                                    ),
                                                                },
                                                                _name: {
                                                                    value: e.nm,
                                                                },
                                                            }
                                                        ),
                                                        (n.mn = e.mn),
                                                        n
                                                    );
                                                })(r[i], n[i], a)
                                            ));
                            return o;
                        }
                        function t(e, t, r) {
                            function n(t) {
                                return e.a.ix === t || "Anchor Point" === t
                                    ? n.anchorPoint
                                    : e.o.ix === t || "Opacity" === t
                                    ? n.opacity
                                    : e.p.ix === t || "Position" === t
                                    ? n.position
                                    : e.r.ix === t ||
                                      "Rotation" === t ||
                                      "ADBE Vector Rotation" === t
                                    ? n.rotation
                                    : e.s.ix === t || "Scale" === t
                                    ? n.scale
                                    : (e.sk && e.sk.ix === t) || "Skew" === t
                                    ? n.skew
                                    : (e.sa && e.sa.ix === t) ||
                                      "Skew Axis" === t
                                    ? n.skewAxis
                                    : void 0;
                            }
                            var a = propertyGroupFactory(n, r);
                            return (
                                t.transform.mProps.o.setGroupProperty(
                                    PropertyInterface("Opacity", a)
                                ),
                                t.transform.mProps.p.setGroupProperty(
                                    PropertyInterface("Position", a)
                                ),
                                t.transform.mProps.a.setGroupProperty(
                                    PropertyInterface("Anchor Point", a)
                                ),
                                t.transform.mProps.s.setGroupProperty(
                                    PropertyInterface("Scale", a)
                                ),
                                t.transform.mProps.r.setGroupProperty(
                                    PropertyInterface("Rotation", a)
                                ),
                                t.transform.mProps.sk &&
                                    (t.transform.mProps.sk.setGroupProperty(
                                        PropertyInterface("Skew", a)
                                    ),
                                    t.transform.mProps.sa.setGroupProperty(
                                        PropertyInterface("Skew Angle", a)
                                    )),
                                t.transform.op.setGroupProperty(
                                    PropertyInterface("Opacity", a)
                                ),
                                Object.defineProperties(n, {
                                    opacity: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.o
                                        ),
                                    },
                                    position: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.p
                                        ),
                                    },
                                    anchorPoint: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.a
                                        ),
                                    },
                                    scale: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.s
                                        ),
                                    },
                                    rotation: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.r
                                        ),
                                    },
                                    skew: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.sk
                                        ),
                                    },
                                    skewAxis: {
                                        get: ExpressionPropertyInterface(
                                            t.transform.mProps.sa
                                        ),
                                    },
                                    _name: { value: e.nm },
                                }),
                                (n.ty = "tr"),
                                (n.mn = e.mn),
                                (n.propertyGroup = r),
                                n
                            );
                        }
                        return function (t, r, n) {
                            function a(e) {
                                if ("number" == typeof e)
                                    return 0 === (e = void 0 === e ? 1 : e)
                                        ? n
                                        : i[e - 1];
                                for (var t = 0, r = i.length; t < r; ) {
                                    if (i[t]._name === e) return i[t];
                                    t += 1;
                                }
                            }
                            var i;
                            return (
                                (a.propertyGroup = propertyGroupFactory(
                                    a,
                                    function () {
                                        return n;
                                    }
                                )),
                                (i = e(t, r, a.propertyGroup)),
                                (a.numProperties = i.length),
                                (a._name = "Contents"),
                                a
                            );
                        };
                    })(),
                    TextExpressionInterface = function (e) {
                        function t(e) {
                            switch (e) {
                                case "ADBE Text Document":
                                    return t.sourceText;
                            }
                        }
                        var r;
                        return (
                            Object.defineProperty(t, "sourceText", {
                                get: function () {
                                    e.textProperty.getValue();
                                    var t = e.textProperty.currentData.t;
                                    return (
                                        void 0 !== t &&
                                            ((e.textProperty.currentData.t = void 0),
                                            ((r = new String(t)).value =
                                                t || new String(t))),
                                        r
                                    );
                                },
                            }),
                            t
                        );
                    },
                    LayerExpressionInterface = (function () {
                        function e(e) {
                            var t = new Matrix();
                            if (void 0 !== e) {
                                this._elem.finalTransform.mProp
                                    .getValueAtTime(e)
                                    .clone(t);
                            } else {
                                this._elem.finalTransform.mProp.applyToMatrix(
                                    t
                                );
                            }
                            return t;
                        }
                        function t(e, t) {
                            var r = this.getMatrix(t);
                            return (
                                (r.props[12] = r.props[13] = r.props[14] = 0),
                                this.applyPoint(r, e)
                            );
                        }
                        function r(e, t) {
                            var r = this.getMatrix(t);
                            return this.applyPoint(r, e);
                        }
                        function n(e, t) {
                            var r = this.getMatrix(t);
                            return (
                                (r.props[12] = r.props[13] = r.props[14] = 0),
                                this.invertPoint(r, e)
                            );
                        }
                        function a(e, t) {
                            var r = this.getMatrix(t);
                            return this.invertPoint(r, e);
                        }
                        function i(e, t) {
                            if (
                                this._elem.hierarchy &&
                                this._elem.hierarchy.length
                            ) {
                                var r,
                                    n = this._elem.hierarchy.length;
                                for (r = 0; r < n; r += 1)
                                    this._elem.hierarchy[
                                        r
                                    ].finalTransform.mProp.applyToMatrix(e);
                            }
                            return e.applyToPointArray(t[0], t[1], t[2] || 0);
                        }
                        function o(e, t) {
                            if (
                                this._elem.hierarchy &&
                                this._elem.hierarchy.length
                            ) {
                                var r,
                                    n = this._elem.hierarchy.length;
                                for (r = 0; r < n; r += 1)
                                    this._elem.hierarchy[
                                        r
                                    ].finalTransform.mProp.applyToMatrix(e);
                            }
                            return e.inversePoint(t);
                        }
                        function s(e) {
                            var t = new Matrix();
                            if (
                                (t.reset(),
                                this._elem.finalTransform.mProp.applyToMatrix(
                                    t
                                ),
                                this._elem.hierarchy &&
                                    this._elem.hierarchy.length)
                            ) {
                                var r,
                                    n = this._elem.hierarchy.length;
                                for (r = 0; r < n; r += 1)
                                    this._elem.hierarchy[
                                        r
                                    ].finalTransform.mProp.applyToMatrix(t);
                                return t.inversePoint(e);
                            }
                            return t.inversePoint(e);
                        }
                        function l() {
                            return [1, 1, 1, 1];
                        }
                        return function (c) {
                            function u(e) {
                                switch (e) {
                                    case "ADBE Root Vectors Group":
                                    case "Contents":
                                    case 2:
                                        return u.shapeInterface;
                                    case 1:
                                    case 6:
                                    case "Transform":
                                    case "transform":
                                    case "ADBE Transform Group":
                                        return d;
                                    case 4:
                                    case "ADBE Effect Parade":
                                    case "effects":
                                    case "Effects":
                                        return u.effect;
                                    case "ADBE Text Properties":
                                        return u.textInterface;
                                }
                            }
                            var d;
                            (u.getMatrix = e),
                                (u.invertPoint = o),
                                (u.applyPoint = i),
                                (u.toWorld = r),
                                (u.toWorldVec = t),
                                (u.fromWorld = a),
                                (u.fromWorldVec = n),
                                (u.toComp = r),
                                (u.fromComp = s),
                                (u.sampleImage = l),
                                (u.sourceRectAtTime = c.sourceRectAtTime.bind(
                                    c
                                )),
                                (u._elem = c);
                            var p = getDescriptor(
                                (d = TransformExpressionInterface(
                                    c.finalTransform.mProp
                                )),
                                "anchorPoint"
                            );
                            return (
                                Object.defineProperties(u, {
                                    hasParent: {
                                        get: function () {
                                            return c.hierarchy.length;
                                        },
                                    },
                                    parent: {
                                        get: function () {
                                            return c.hierarchy[0]
                                                .layerInterface;
                                        },
                                    },
                                    rotation: getDescriptor(d, "rotation"),
                                    scale: getDescriptor(d, "scale"),
                                    position: getDescriptor(d, "position"),
                                    opacity: getDescriptor(d, "opacity"),
                                    anchorPoint: p,
                                    anchor_point: p,
                                    transform: {
                                        get: function () {
                                            return d;
                                        },
                                    },
                                    active: {
                                        get: function () {
                                            return c.isInRange;
                                        },
                                    },
                                }),
                                (u.startTime = c.data.st),
                                (u.index = c.data.ind),
                                (u.source = c.data.refId),
                                (u.height = 0 === c.data.ty ? c.data.h : 100),
                                (u.width = 0 === c.data.ty ? c.data.w : 100),
                                (u.inPoint =
                                    c.data.ip / c.comp.globalData.frameRate),
                                (u.outPoint =
                                    c.data.op / c.comp.globalData.frameRate),
                                (u._name = c.data.nm),
                                (u.registerMaskInterface = function (e) {
                                    u.mask = new MaskManagerInterface(e, c);
                                }),
                                (u.registerEffectsInterface = function (e) {
                                    u.effect = e;
                                }),
                                u
                            );
                        };
                    })(),
                    CompExpressionInterface = function (e) {
                        function t(t) {
                            for (var r = 0, n = e.layers.length; r < n; ) {
                                if (
                                    e.layers[r].nm === t ||
                                    e.layers[r].ind === t
                                )
                                    return e.elements[r].layerInterface;
                                r += 1;
                            }
                            return null;
                        }
                        return (
                            Object.defineProperty(t, "_name", {
                                value: e.data.nm,
                            }),
                            (t.layer = t),
                            (t.pixelAspect = 1),
                            (t.height = e.data.h || e.globalData.compSize.h),
                            (t.width = e.data.w || e.globalData.compSize.w),
                            (t.pixelAspect = 1),
                            (t.frameDuration = 1 / e.globalData.frameRate),
                            (t.displayStartTime = 0),
                            (t.numLayers = e.layers.length),
                            t
                        );
                    },
                    TransformExpressionInterface = function (e) {
                        function t(e) {
                            switch (e) {
                                case "scale":
                                case "Scale":
                                case "ADBE Scale":
                                case 6:
                                    return t.scale;
                                case "rotation":
                                case "Rotation":
                                case "ADBE Rotation":
                                case "ADBE Rotate Z":
                                case 10:
                                    return t.rotation;
                                case "ADBE Rotate X":
                                    return t.xRotation;
                                case "ADBE Rotate Y":
                                    return t.yRotation;
                                case "position":
                                case "Position":
                                case "ADBE Position":
                                case 2:
                                    return t.position;
                                case "ADBE Position_0":
                                    return t.xPosition;
                                case "ADBE Position_1":
                                    return t.yPosition;
                                case "ADBE Position_2":
                                    return t.zPosition;
                                case "anchorPoint":
                                case "AnchorPoint":
                                case "Anchor Point":
                                case "ADBE AnchorPoint":
                                case 1:
                                    return t.anchorPoint;
                                case "opacity":
                                case "Opacity":
                                case 11:
                                    return t.opacity;
                            }
                        }
                        if (
                            (Object.defineProperty(t, "rotation", {
                                get: ExpressionPropertyInterface(e.r || e.rz),
                            }),
                            Object.defineProperty(t, "zRotation", {
                                get: ExpressionPropertyInterface(e.rz || e.r),
                            }),
                            Object.defineProperty(t, "xRotation", {
                                get: ExpressionPropertyInterface(e.rx),
                            }),
                            Object.defineProperty(t, "yRotation", {
                                get: ExpressionPropertyInterface(e.ry),
                            }),
                            Object.defineProperty(t, "scale", {
                                get: ExpressionPropertyInterface(e.s),
                            }),
                            e.p)
                        )
                            var r = ExpressionPropertyInterface(e.p);
                        else {
                            var n,
                                a = ExpressionPropertyInterface(e.px),
                                i = ExpressionPropertyInterface(e.py);
                            e.pz && (n = ExpressionPropertyInterface(e.pz));
                        }
                        return (
                            Object.defineProperty(t, "position", {
                                get: function () {
                                    return e.p ? r() : [a(), i(), n ? n() : 0];
                                },
                            }),
                            Object.defineProperty(t, "xPosition", {
                                get: ExpressionPropertyInterface(e.px),
                            }),
                            Object.defineProperty(t, "yPosition", {
                                get: ExpressionPropertyInterface(e.py),
                            }),
                            Object.defineProperty(t, "zPosition", {
                                get: ExpressionPropertyInterface(e.pz),
                            }),
                            Object.defineProperty(t, "anchorPoint", {
                                get: ExpressionPropertyInterface(e.a),
                            }),
                            Object.defineProperty(t, "opacity", {
                                get: ExpressionPropertyInterface(e.o),
                            }),
                            Object.defineProperty(t, "skew", {
                                get: ExpressionPropertyInterface(e.sk),
                            }),
                            Object.defineProperty(t, "skewAxis", {
                                get: ExpressionPropertyInterface(e.sa),
                            }),
                            Object.defineProperty(t, "orientation", {
                                get: ExpressionPropertyInterface(e.or),
                            }),
                            t
                        );
                    },
                    ProjectInterface = (function () {
                        function e(e) {
                            this.compositions.push(e);
                        }
                        return function () {
                            function t(e) {
                                for (
                                    var t = 0, r = this.compositions.length;
                                    t < r;

                                ) {
                                    if (
                                        this.compositions[t].data &&
                                        this.compositions[t].data.nm === e
                                    )
                                        return (
                                            this.compositions[t].prepareFrame &&
                                                this.compositions[t].data.xt &&
                                                this.compositions[
                                                    t
                                                ].prepareFrame(
                                                    this.currentFrame
                                                ),
                                            this.compositions[t].compInterface
                                        );
                                    t += 1;
                                }
                            }
                            return (
                                (t.compositions = []),
                                (t.currentFrame = 0),
                                (t.registerComposition = e),
                                t
                            );
                        };
                    })(),
                    EffectsExpressionInterface = (function () {
                        function e(t, r, n, a) {
                            function i(e) {
                                for (
                                    var r = t.ef, n = 0, a = r.length;
                                    n < a;

                                ) {
                                    if (
                                        e === r[n].nm ||
                                        e === r[n].mn ||
                                        e === r[n].ix
                                    )
                                        return 5 === r[n].ty ? l[n] : l[n]();
                                    n += 1;
                                }
                                throw new Error();
                            }
                            var o,
                                s = propertyGroupFactory(i, n),
                                l = [],
                                c = t.ef.length;
                            for (o = 0; o < c; o += 1)
                                5 === t.ef[o].ty
                                    ? l.push(
                                          e(
                                              t.ef[o],
                                              r.effectElements[o],
                                              r.effectElements[o].propertyGroup,
                                              a
                                          )
                                      )
                                    : l.push(
                                          (function (e, t, r, n) {
                                              var a = ExpressionPropertyInterface(
                                                  e.p
                                              );
                                              e.p.setGroupProperty &&
                                                  e.p.setGroupProperty(
                                                      PropertyInterface("", n)
                                                  );
                                              return function () {
                                                  if (10 === t)
                                                      return r.comp.compInterface(
                                                          e.p.v
                                                      );
                                                  return a();
                                              };
                                          })(
                                              r.effectElements[o],
                                              t.ef[o].ty,
                                              a,
                                              s
                                          )
                                      );
                            return (
                                "ADBE Color Control" === t.mn &&
                                    Object.defineProperty(i, "color", {
                                        get: function () {
                                            return l[0]();
                                        },
                                    }),
                                Object.defineProperties(i, {
                                    numProperties: {
                                        get: function () {
                                            return t.np;
                                        },
                                    },
                                    _name: { value: t.nm },
                                    propertyGroup: { value: s },
                                }),
                                (i.active = i.enabled = 0 !== t.en),
                                i
                            );
                        }
                        return {
                            createEffectsInterface: function (t, r) {
                                if (t.effectsManager) {
                                    var n,
                                        a = [],
                                        i = t.data.ef,
                                        o =
                                            t.effectsManager.effectElements
                                                .length;
                                    for (n = 0; n < o; n += 1)
                                        a.push(
                                            e(
                                                i[n],
                                                t.effectsManager.effectElements[
                                                    n
                                                ],
                                                r,
                                                t
                                            )
                                        );
                                    var s = t.data.ef || [],
                                        l = function (e) {
                                            for (n = 0, o = s.length; n < o; ) {
                                                if (
                                                    e === s[n].nm ||
                                                    e === s[n].mn ||
                                                    e === s[n].ix
                                                )
                                                    return a[n];
                                                n += 1;
                                            }
                                        };
                                    return (
                                        Object.defineProperty(
                                            l,
                                            "numProperties",
                                            {
                                                get: function () {
                                                    return s.length;
                                                },
                                            }
                                        ),
                                        l
                                    );
                                }
                            },
                        };
                    })(),
                    MaskManagerInterface = (function () {
                        function e(e, t) {
                            (this._mask = e), (this._data = t);
                        }
                        Object.defineProperty(e.prototype, "maskPath", {
                            get: function () {
                                return (
                                    this._mask.prop.k &&
                                        this._mask.prop.getValue(),
                                    this._mask.prop
                                );
                            },
                        }),
                            Object.defineProperty(e.prototype, "maskOpacity", {
                                get: function () {
                                    return (
                                        this._mask.op.k &&
                                            this._mask.op.getValue(),
                                        100 * this._mask.op.v
                                    );
                                },
                            });
                        return function (t, r) {
                            var n,
                                a = createSizedArray(t.viewData.length),
                                i = t.viewData.length;
                            for (n = 0; n < i; n += 1)
                                a[n] = new e(
                                    t.viewData[n],
                                    t.masksProperties[n]
                                );
                            return function (e) {
                                for (n = 0; n < i; ) {
                                    if (t.masksProperties[n].nm === e)
                                        return a[n];
                                    n += 1;
                                }
                            };
                        };
                    })(),
                    ExpressionPropertyInterface = (function () {
                        function e(e, t, r) {
                            Object.defineProperty(e, "velocity", {
                                get: function () {
                                    return t.getVelocityAtTime(
                                        t.comp.currentFrame
                                    );
                                },
                            }),
                                (e.numKeys = t.keyframes
                                    ? t.keyframes.length
                                    : 0),
                                (e.key = function (n) {
                                    if (e.numKeys) {
                                        var a = "";
                                        a =
                                            "s" in t.keyframes[n - 1]
                                                ? t.keyframes[n - 1].s
                                                : "e" in t.keyframes[n - 2]
                                                ? t.keyframes[n - 2].e
                                                : t.keyframes[n - 2].s;
                                        var i =
                                            "unidimensional" === r
                                                ? new Number(a)
                                                : Object.assign({}, a);
                                        return (
                                            (i.time =
                                                t.keyframes[n - 1].t /
                                                t.elem.comp.globalData
                                                    .frameRate),
                                            (i.value =
                                                "unidimensional" === r
                                                    ? a[0]
                                                    : a),
                                            i
                                        );
                                    }
                                    return 0;
                                }),
                                (e.valueAtTime = t.getValueAtTime),
                                (e.speedAtTime = t.getSpeedAtTime),
                                (e.velocityAtTime = t.getVelocityAtTime),
                                (e.propertyGroup = t.propertyGroup);
                        }
                        function t() {
                            return r;
                        }
                        var r = { pv: 0, v: 0, mult: 1 },
                            n = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };
                        return function (a) {
                            return a
                                ? "unidimensional" === a.propType
                                    ? (function (t) {
                                          (t && "pv" in t) || (t = r);
                                          var n = 1 / t.mult,
                                              a = t.pv * n,
                                              i = new Number(a);
                                          return (
                                              (i.value = a),
                                              e(i, t, "unidimensional"),
                                              function () {
                                                  return (
                                                      t.k && t.getValue(),
                                                      (a = t.v * n),
                                                      i.value !== a &&
                                                          (((i = new Number(
                                                              a
                                                          )).value = a),
                                                          e(
                                                              i,
                                                              t,
                                                              "unidimensional"
                                                          )),
                                                      i
                                                  );
                                              }
                                          );
                                      })(a)
                                    : (function (t) {
                                          (t && "pv" in t) || (t = n);
                                          var r = 1 / t.mult,
                                              a =
                                                  (t.data && t.data.l) ||
                                                  t.pv.length,
                                              i = createTypedArray(
                                                  "float32",
                                                  a
                                              ),
                                              o = createTypedArray(
                                                  "float32",
                                                  a
                                              );
                                          return (
                                              (i.value = o),
                                              e(i, t, "multidimensional"),
                                              function () {
                                                  t.k && t.getValue();
                                                  for (var e = 0; e < a; e += 1)
                                                      i[e] = o[e] = t.v[e] * r;
                                                  return i;
                                              }
                                          );
                                      })(a)
                                : t;
                        };
                    })();
                !(function () {
                    var e = (function () {
                            function e(e, t) {
                                return (
                                    (this.textIndex = e + 1),
                                    (this.textTotal = t),
                                    (this.v = this.getValue() * this.mult),
                                    this.v
                                );
                            }
                            return function (t, r) {
                                (this.pv = 1),
                                    (this.comp = t.comp),
                                    (this.elem = t),
                                    (this.mult = 0.01),
                                    (this.propType = "textSelector"),
                                    (this.textTotal = r.totalChars),
                                    (this.selectorValue = 100),
                                    (this.lastValue = [1, 1, 1]),
                                    (this.k = !0),
                                    (this.x = !0),
                                    (this.getValue = ExpressionManager.initiateExpression.bind(
                                        this
                                    )(t, r, this)),
                                    (this.getMult = e),
                                    (this.getVelocityAtTime =
                                        expressionHelpers.getVelocityAtTime),
                                    this.kf
                                        ? (this.getValueAtTime = expressionHelpers.getValueAtTime.bind(
                                              this
                                          ))
                                        : (this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(
                                              this
                                          )),
                                    (this.setGroupProperty =
                                        expressionHelpers.setGroupProperty);
                            };
                        })(),
                        t = TextSelectorProp.getTextSelectorProp;
                    TextSelectorProp.getTextSelectorProp = function (r, n, a) {
                        return 1 === n.t ? new e(r, n, a) : t(r, n, a);
                    };
                })(),
                    extendPrototype([DynamicPropertyContainer], GroupEffect),
                    (GroupEffect.prototype.getValue =
                        GroupEffect.prototype.iterateDynamicProperties),
                    (GroupEffect.prototype.init = function (e, t) {
                        (this.data = e),
                            (this.effectElements = []),
                            this.initDynamicPropertyContainer(t);
                        var r,
                            n,
                            a = this.data.ef.length,
                            i = this.data.ef;
                        for (r = 0; r < a; r += 1) {
                            switch (((n = null), i[r].ty)) {
                                case 0:
                                    n = new SliderEffect(i[r], t, this);
                                    break;
                                case 1:
                                    n = new AngleEffect(i[r], t, this);
                                    break;
                                case 2:
                                    n = new ColorEffect(i[r], t, this);
                                    break;
                                case 3:
                                    n = new PointEffect(i[r], t, this);
                                    break;
                                case 4:
                                case 7:
                                    n = new CheckboxEffect(i[r], t, this);
                                    break;
                                case 10:
                                    n = new LayerIndexEffect(i[r], t, this);
                                    break;
                                case 11:
                                    n = new MaskIndexEffect(i[r], t, this);
                                    break;
                                case 5:
                                    n = new EffectsManager(i[r], t, this);
                                    break;
                                default:
                                    n = new NoValueEffect(i[r], t, this);
                            }
                            n && this.effectElements.push(n);
                        }
                    });
                var lottie = {},
                    _isFrozen = !1;
                (lottie.play = animationManager.play),
                    (lottie.pause = animationManager.pause),
                    (lottie.setLocationHref = setLocationHref),
                    (lottie.togglePause = animationManager.togglePause),
                    (lottie.setSpeed = animationManager.setSpeed),
                    (lottie.setDirection = animationManager.setDirection),
                    (lottie.stop = animationManager.stop),
                    (lottie.searchAnimations = searchAnimations),
                    (lottie.registerAnimation =
                        animationManager.registerAnimation),
                    (lottie.loadAnimation = loadAnimation),
                    (lottie.setSubframeRendering = setSubframeRendering),
                    (lottie.resize = animationManager.resize),
                    (lottie.goToAndStop = animationManager.goToAndStop),
                    (lottie.destroy = animationManager.destroy),
                    (lottie.setQuality = setQuality),
                    (lottie.inBrowser = inBrowser),
                    (lottie.installPlugin = installPlugin),
                    (lottie.freeze = animationManager.freeze),
                    (lottie.unfreeze = animationManager.unfreeze),
                    (lottie.setVolume = animationManager.setVolume),
                    (lottie.mute = animationManager.mute),
                    (lottie.unmute = animationManager.unmute),
                    (lottie.getRegisteredAnimations =
                        animationManager.getRegisteredAnimations),
                    (lottie.__getFactory = getFactory),
                    (lottie.version = "5.7.4");
                var standalone = "__[STANDALONE]__",
                    animationData = "__[ANIMATIONDATA]__",
                    renderer = "";
                if (standalone) {
                    var scripts = document.getElementsByTagName("script"),
                        index = scripts.length - 1,
                        myScript = scripts[index] || { src: "" },
                        queryString = myScript.src.replace(/^[^\?]+\??/, "");
                    renderer = getQueryVariable("renderer");
                }
                var readyStateCheckInterval = setInterval(checkReady, 100);
                return lottie;
            });
    },
    function (e, t, r) {
        "use strict";
        r.d(t, "a", function () {
            return n;
        });
        var n = {
            map: void 0,
            markers: { shop: void 0, rider: void 0, client: void 0 },
            directionsService: void 0,
            directionsRenderer: void 0,
            init: function (e) {
                (this.coordinates = {
                    shop: window.app.orderTrackingCoordinates.shop,
                    rider: e,
                    client: window.app.orderTrackingCoordinates.client,
                }),
                    (this.lineSymbol = {
                        path: google.maps.SymbolPath.CIRCLE,
                        fillOpacity: 1,
                        scale: 3,
                    }),
                    (this.polylineDotted = {
                        strokeColor: "#00bc8b",
                        strokeOpacity: 0,
                        strokeWidth: 6,
                        fillOpacity: 0,
                        icons: [
                            {
                                icon: this.lineSymbol,
                                offset: "0",
                                repeat: "10px",
                            },
                        ],
                    }),
                    (this.mapStyle = [
                        {
                            featureType: "administrative",
                            elementType: "labels",
                            stylers: [{ visibility: "off" }],
                        },
                        {
                            featureType: "poi",
                            elementType: "labels",
                            stylers: [{ visibility: "off" }],
                        },
                        {
                            featureType: "water",
                            elementType: "labels",
                            stylers: [{ visibility: "off" }],
                        },
                        {
                            featureType: "transit",
                            elementType: "labels",
                            stylers: [{ visibility: "off" }],
                        },
                    ]),
                    (this.icons = {
                        shop: {
                            url:
                                "/site-assets/img/order-tracking/map-shop-marker.png",
                            size: new google.maps.Size(32, 32),
                            origin: new google.maps.Point(0, 0),
                            anchor: new google.maps.Point(0, 0),
                            scaledSize: new google.maps.Size(32, 32),
                        },
                        client: {
                            url:
                                "/site-assets/img/order-tracking/map-user-marker.png",
                            size: new google.maps.Size(32, 32),
                            origin: new google.maps.Point(0, 0),
                            anchor: new google.maps.Point(0, 0),
                            scaledSize: new google.maps.Size(32, 32),
                        },
                        rider: {
                            efood: {
                                url:
                                    "/site-assets/img/order-tracking/rider-efood.png",
                                size: new google.maps.Size(32, 32),
                                origin: new google.maps.Point(0, 0),
                                anchor: new google.maps.Point(0, 0),
                                scaledSize: new google.maps.Size(32, 32),
                            },
                            pauza: {
                                url:
                                    "/site-assets/img/order-tracking/rider-pauza.png",
                                size: new google.maps.Size(32, 32),
                                origin: new google.maps.Point(0, 0),
                                anchor: new google.maps.Point(0, 0),
                                scaledSize: new google.maps.Size(32, 32),
                            },
                            donesi: {
                                url:
                                    "/site-assets/img/order-tracking/rider-donesi.png",
                                size: new google.maps.Size(32, 32),
                                origin: new google.maps.Point(0, 0),
                                anchor: new google.maps.Point(0, 0),
                                scaledSize: new google.maps.Size(32, 32),
                            },
                        },
                    }),
                    this.map ||
                        ((this.map = new google.maps.Map(
                            document.getElementById("order-tracking-map"),
                            {
                                center: this.coordinates.client,
                                zoom: 15,
                                disableDefaultUI: !0,
                                mapTypeControlOptions: {
                                    mapTypeIds: [
                                        "mapStyle",
                                        google.maps.MapTypeId.ROADMAP,
                                        google.maps.MapTypeId.TERRAIN,
                                    ],
                                },
                                mapTypeId: "mapStyle",
                            }
                        )),
                        this.map.mapTypes.set(
                            "mapStyle",
                            new google.maps.StyledMapType(this.mapStyle, {
                                name: "MapStyle",
                            })
                        )),
                    this.updateMarkers(e);
            },
            updateMarkers: function (e) {
                var t = this;
                if (
                    (this.markers.shop ||
                        (this.markers.shop = new google.maps.Marker({
                            position: new google.maps.LatLng(
                                this.coordinates.shop.lat,
                                this.coordinates.shop.lng
                            ),
                            map: this.map,
                            icon: this.icons.shop,
                            title: "Shop",
                        })),
                    this.markers.client ||
                        (this.markers.client = new google.maps.Marker({
                            position: new google.maps.LatLng(
                                this.coordinates.client.lat,
                                this.coordinates.client.lng
                            ),
                            map: this.map,
                            icon: this.icons.client,
                            title: "You",
                        })),
                    !this.markers.rider &&
                        this.hasRiderCoordinates() &&
                        ((this.coordinates.rider.lat = parseFloat(
                            this.coordinates.rider.latitude
                        )),
                        (this.coordinates.rider.lng = parseFloat(
                            this.coordinates.rider.longitude
                        )),
                        (this.markers.rider = new google.maps.Marker({
                            position: new google.maps.LatLng(
                                this.coordinates.rider.lat,
                                this.coordinates.rider.lng
                            ),
                            map: this.map,
                            icon: this.iconRider(),
                            title: "Rider",
                        }))),
                    this.markers.rider)
                ) {
                    (this.coordinates.rider.lat = parseFloat(
                        this.coordinates.rider.latitude
                    )),
                        (this.coordinates.rider.lng = parseFloat(
                            this.coordinates.rider.longitude
                        )),
                        this.directionsService ||
                            (this.directionsService = new google.maps.DirectionsService());
                    var r = {
                        origin: new google.maps.LatLng(
                            this.coordinates.rider.lat,
                            this.coordinates.rider.lng
                        ),
                        destination: new google.maps.LatLng(
                            this.coordinates.client.lat,
                            this.coordinates.client.lng
                        ),
                        travelMode: google.maps.DirectionsTravelMode.DRIVING,
                        unitSystem: google.maps.UnitSystem.METRIC,
                    };
                    this.directionsService.route(r, function (e, r) {
                        if (r === google.maps.DirectionsStatus.OK) {
                            t.directionsRenderer
                                ? t.directionsRenderer.setDirections(e)
                                : (t.directionsRenderer = new google.maps.DirectionsRenderer(
                                      {
                                          map: t.map,
                                          directions: e,
                                          suppressMarkers: !0,
                                          polylineOptions: t.polylineDotted,
                                      }
                                  ));
                            var n = e.routes[0].legs[0];
                            t.markers.rider.setPosition(n.start_location),
                                t.updateBounds(
                                    t.markers.client,
                                    t.markers.rider
                                );
                        } else console.error("Unable to retrieve route");
                    });
                } else
                    this.updateBounds(this.markers.client, this.markers.shop);
            },
            hasRiderCoordinates: function () {
                return (
                    this.coordinates.rider &&
                    this.coordinates.rider.latitude &&
                    this.coordinates.rider.longitude
                );
            },
            iconRider: function () {
                var e = window.app.brand;
                return (
                    ["donserbia", "donbosnia", "donmntgro"].includes(e) &&
                        (e = "donesi"),
                    this.icons.rider[e]
                );
            },
            updateBounds: function () {
                for (
                    var e = new google.maps.LatLngBounds(),
                        t = arguments.length,
                        r = new Array(t),
                        n = 0;
                    n < t;
                    n++
                )
                    r[n] = arguments[n];
                for (var a = 0, i = r; a < i.length; a++) {
                    var o = i[a];
                    e.extend(o.getPosition());
                }
                this.map.fitBounds(e), this.map.panToBounds(e);
            },
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1);
        r.n(n);
        t.a = function (e, t) {
            var r = Object(n.useRef)();
            Object(n.useEffect)(
                function () {
                    r.current = e;
                },
                [e]
            ),
                Object(n.useEffect)(
                    function () {
                        function e() {
                            r.current();
                        }
                        if (null !== t) {
                            var n = setInterval(e, t);
                            return function () {
                                return clearInterval(n);
                            };
                        }
                    },
                    [t]
                );
        };
    },
    function (e, t) {
        (efoodAPI = function () {
            (this.environment = app.apiBaseURL),
                (this.efood_session_id = app.userSid),
                (this.efood_platform = app.sitePlatform),
                (this.efood_version = app.siteVersion),
                (this.accept_language = app.apiLocale || "el");
        }),
            (efoodAPI.prototype.call = function (e, t, r, n, a) {
                var i = {
                    url: this.environment + t,
                    type: e,
                    cache: !1,
                    async: a || !1,
                    headers: {
                        "X-core-session-id": this.efood_session_id,
                        "X-core-platform": this.efood_platform,
                        "X-core-version": this.efood_version,
                        "Accept-Language": this.accept_language,
                    },
                    contentType: "application/json",
                    success: function (e) {
                        n(e);
                    },
                    error: function (e) {
                        (e.message = app.apiOfflineMessage), n(e);
                    },
                };
                r && ((i.data = JSON.stringify(r)), (i.dataType = "json")),
                    $.ajax(i);
            }),
            (efoodAPI.prototype.get = function (e, t, r) {
                r = r || !1;
                this.call("GET", e, "", t, r);
            }),
            (efoodAPI.prototype.delete = function (e, t) {
                this.call("DELETE", e, "", t);
            }),
            (efoodAPI.prototype.post = function (e, t, r, n) {
                this.call("POST", e, t, r, n);
            }),
            (efoodAPI.prototype.put = function (e, t, r) {
                this.call("PUT", e, t, r);
            });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(14);
        r.n(n);
        "homepage" == app.pageController &&
            app.userLoggedIn &&
            document.addEventListener("AddressChange", function (e) {
                if (void 0 !== e.detail) {
                    if (
                        void 0 !== e.detail.latitude &&
                        void 0 !== e.detail.longitude &&
                        void 0 !== e.detail.id
                    ) {
                        var t = e.detail,
                            r = document.querySelector(
                                ".smart-assistant-wrapper"
                            ),
                            a = new XMLHttpRequest();
                        a.onload = function () {
                            if (200 == a.status) {
                                var e = document.querySelector(
                                    ".smart-assistant"
                                );
                                e && (e.innerHTML = a.response),
                                    r.classList.remove("is-loading");
                                var t = document.querySelector(
                                    "#smart-assistant-reorder-list"
                                );
                                if (!t) return;
                                var i = t.querySelectorAll(
                                        ".smart-assistant-reorder-list-item"
                                    ),
                                    o = [];
                                i.forEach(function (e, t) {
                                    var r = {
                                        id: "Shortcut",
                                        name: "Shortcut",
                                        position: t + 1,
                                        creative: e.dataset.shopName,
                                    };
                                    o.push(r);
                                }),
                                    Object(n.promoView)(o, "shortcut"),
                                    i.forEach(function (e, t) {
                                        e.addEventListener(
                                            "click",
                                            function () {
                                                var r = e.dataset.shopName,
                                                    a = {
                                                        id: "Shortcut",
                                                        name: "Shortcut",
                                                        position: t + 1,
                                                        creative: r,
                                                    };
                                                Object(n.promotionClick)(
                                                    [a],
                                                    "shortcut"
                                                );
                                            }
                                        );
                                    });
                            }
                        };
                        var i = "/welcome/reorders?latitude="
                            .concat(t.latitude, "&longitude=")
                            .concat(t.longitude, "&user_address=")
                            .concat(t.id);
                        r.classList.add("is-loading"),
                            a.open("GET", i),
                            a.send();
                    }
                } else console.warn("address details is undefined.");
            }),
            "homepage" != app.pageController ||
                app.userLoggedIn ||
                ($("#homepage-cuisines-see-more").click(function () {
                    var e = $(".homepage-cuisines-hidden");
                    e.hasClass("d-none")
                        ? e.removeClass("d-none").addClass("d-inline")
                        : e.removeClass("d-inline").addClass("d-none"),
                        $(this).text(
                            e.hasClass("d-none")
                                ? window.app.i18n.trans.generic.SEE_MORE
                                : window.app.i18n.trans.generic.SEE_LESS
                        );
                }),
                $(".areas-collapse-item-link").click(function (e) {
                    e.stopPropagation();
                }),
                $(".areas-collapse-item").click(function (e) {
                    $(".areas-collapse-item").each(function (e, t) {
                        $(this)
                            .find("i")
                            .removeClass("fa-chevron-up")
                            .addClass("fa-chevron-down");
                    }),
                        "false" === $(this).attr("aria-expanded") &&
                            $(this)
                                .find("i")
                                .removeClass("fa-chevron-down")
                                .addClass("fa-chevron-up");
                })),
            document.addEventListener(
                "address_input.submitted",
                function (e) {
                    var t = e.detail || 0;
                    dataLayer.push({
                        event: "address_input.submitted",
                        addressSuggestions: t,
                        pageType: dataLayer[0].pageType,
                    });
                },
                !1
            ),
            document.addEventListener(
                "address.submitted",
                function (e) {
                    var t = e.detail;
                    dataLayer.push({
                        event: "address.submitted",
                        locationAddress: t.address.description,
                        pageType: dataLayer[0].pageType,
                        locationLat: t.address.longitude,
                        locationLon: t.address.longitude,
                        locationCity: t.address.city,
                        locationArea: t.address.area,
                        locationCountry: dataLayer[0].userAddressCountry,
                        deliveryAddressStatus: t.deliveryAddressStatus,
                        addressListRank: t.addressListRank,
                        locationMethod: t.locationMethod,
                        flowType: "normal",
                    });
                },
                !1
            );
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i() {
            var e = $(".featured-items-wrapper"),
                t = $(".shops-listings-shops-list-item--last-promoted"),
                r = $(".organic-shops-header-wrapper");
            0 !== t.length
                ? $(e).insertAfter(t)
                : 0 !== r && $(e).insertBefore(r);
        }
        function o() {
            var e = $(".category-swimlane-wrapper");
            0 !== e.length &&
                e
                    .insertBefore($(".organic-shops-header-wrapper"))
                    .removeClass("d-none");
        }
        function s() {
            g.a.prerendered.process();
            if (0 !== $(".category-swimlane-wrapper").length) {
                o();
                var e = $(".category-swimlane"),
                    t = $(".category-banner");
                if (0 !== t.length) {
                    var r,
                        a = [],
                        i = !1,
                        s = n(t);
                    try {
                        var l = function () {
                            var e = r.value,
                                t = e.dataset.category;
                            a.push(t),
                                e.addEventListener("click", function () {
                                    if (!i) {
                                        var t = new CustomEvent(
                                            "trigger-click"
                                        );
                                        e.dispatchEvent(t);
                                    }
                                });
                        };
                        for (s.s(); !(r = s.n()).done; ) l();
                    } catch (e) {
                        s.e(e);
                    } finally {
                        s.f();
                    }
                    var c = a.join(",");
                    e.on("beforeChange", function () {
                        i = !0;
                    }),
                        e.on("afterChange", function (e, t) {
                            i = !1;
                            var r,
                                a = [],
                                o = n(t.$slides);
                            try {
                                for (o.s(); !(r = o.n()).done; ) {
                                    var s = r.value;
                                    s.classList.contains("slick-active") &&
                                        a.push(s);
                                }
                            } catch (e) {
                                o.e(e);
                            } finally {
                                o.f();
                            }
                            if (0 !== a.length) {
                                var l = a[a.length - 1].dataset.category;
                                Object(m.swimlaneCategoriesSwiped)(c, l);
                            }
                        }),
                        e.on("init", function (e, t) {
                            var r,
                                a = [],
                                i = n(t.$slides);
                            try {
                                for (i.s(); !(r = i.n()).done; ) {
                                    var o = r.value;
                                    o.classList.contains("slick-active") &&
                                        a.push(o);
                                }
                            } catch (e) {
                                i.e(e);
                            } finally {
                                i.f();
                            }
                            if (0 !== a.length) {
                                var s = a[a.length - 1].dataset.category;
                                Object(m.swimlanesCategoriesLoaded)(
                                    a.length,
                                    c,
                                    s
                                );
                            }
                        }),
                        t.length > 3 &&
                            e.slick({
                                infinite: !1,
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                lazyLoad: "ondemand",
                                nextArrow:
                                    '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-next"><i class="m-auto fa fa-angle-right fa-lg"></i></button>',
                                prevArrow:
                                    '<button type="button" class="d-flex py-0 px-0 swimlane-control slick-prev"><i class="m-auto fa fa-angle-left fa-lg"></i></button>',
                                responsive: [
                                    {
                                        breakpoint: 992,
                                        settings: { slidesToShow: 3.5 },
                                    },
                                    {
                                        breakpoint: 480,
                                        settings: { slidesToShow: 2.5 },
                                    },
                                ],
                            });
                }
            }
        }
        function l() {
            $(
                ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--promoted)"
            ).off("click"),
                $(".shops-listings-shops-list-item").off("click"),
                $(
                    ".shops-listings-shops-list-item--promoted a:not(.rate a)"
                ).off("click");
        }
        function c() {
            $("[data-toggle-target]").removeClass("initted").off("click");
        }
        function u() {
            var e = [],
                t = w.get_active_cuisines().length > 0,
                r = $(".shops-listings-shops-list-item--promoted"),
                n = "Promoted Shops",
                a = "promoted_shops";
            0 != r.length &&
                (t &&
                    ((n = "Promoted Shops Filtered"),
                    (a = "promoted_shops_filtered")),
                r.each(function (t, r) {
                    var a = (function (e, t, r) {
                        return {
                            id: $(e).data("restaurant_id"),
                            name: r,
                            creative: $(e).data("name"),
                            position: t + 1,
                            locationArea: dataLayer[0].userAddressZip,
                            promotions: e.length,
                        };
                    })(r, t, n);
                    e.push(a);
                }),
                Object(m.promoView)(e, a));
        }
        function d(e) {
            window.rlpReorders = e;
            var t = document.querySelector(".smart-assistant-wrapper"),
                r = document.querySelector(".smart-assistant");
            r && (r.innerHTML = e), t.classList.remove("is-loading");
            var a = document.querySelector("#smart-assistant-reorder-list");
            if (a) {
                var i,
                    o = {},
                    s = n(
                        document.querySelectorAll(
                            ".shops-listings-shops-list-item"
                        )
                    );
                try {
                    for (s.s(); !(i = s.n()).done; ) {
                        var l = i.value.dataset.restaurant_id;
                        o["".concat(l)] = !0;
                    }
                } catch (e) {
                    s.e(e);
                } finally {
                    s.f();
                }
                var c,
                    u = a.querySelectorAll(
                        ".smart-assistant-reorder-list-item"
                    ),
                    d = n(u);
                try {
                    for (d.s(); !(c = d.n()).done; ) {
                        var p = c.value;
                        o[p.dataset.shopId] || p.parentNode.removeChild(p);
                    }
                } catch (e) {
                    d.e(e);
                } finally {
                    d.f();
                }
                0 ===
                    (u = a.querySelectorAll(
                        ".smart-assistant-reorder-list-item"
                    )).length && t.classList.add("d-none");
                for (var h = [], f = 0; f < u.length; f++) {
                    var y = {
                        id: "Shortcut",
                        name: "Shortcut",
                        position: f + 1,
                        creative: u[f].dataset.shopName,
                    };
                    h.push(y);
                }
                Object(m.promoView)(h, "shortcut");
                for (
                    var g = function (e) {
                            var t = u[e];
                            t.addEventListener("click", function () {
                                var r = t.dataset.shopName,
                                    n = {
                                        id: "Shortcut",
                                        name: "Shortcut",
                                        position: e + 1,
                                        creative: r,
                                    };
                                Object(m.promotionClick)([n], "shortcut");
                            });
                        },
                        v = 0;
                    v < u.length;
                    v++
                )
                    g(v);
                efoodLib.initReordersSlick(),
                    document.dispatchEvent(new Event("reorderLoaded"));
            } else document.dispatchEvent(new Event("reorderLoaded"));
        }
        function p() {
            var e = document.querySelector(".smart-assistant-wrapper");
            if (app.userLoggedIn && e) {
                var t = { latitude: app.latitude, longitude: app.longitude };
                if (window.rlpReorders) d(window.rlpReorders);
                else {
                    var r = new XMLHttpRequest();
                    r.onload = function () {
                        200 === r.status && d(r.response);
                    };
                    var n = "/shops/reorder?latitude="
                        .concat(t.latitude, "&longitude=")
                        .concat(t.longitude);
                    e.classList.add("is-loading"), r.open("GET", n), r.send();
                }
            }
        }
        function h() {
            return new Promise(function (e) {
                $("#default_order").prop("checked") &&
                    !$("body").hasClass("page-search-page") &&
                    window.app.renderSwimlanes(),
                    e();
            });
        }
        function f() {
            var e = this;
            (this.restaurant_selector = ".shops-listings-shops-list-item"),
                (this.restaurants_list = []),
                (this.close_shops = []),
                (this.hidden_class = "d-none"),
                (this.sorting_selector = "input.sorting"),
                (this.cuisines_selector = "input.cuisine-filter"),
                (this.active_cuisines_selector =
                    this.cuisines_selector + ":checked"),
                (this.boolean_filters_selector = "input.boolean-filter"),
                (this.active_boolean_filters_selector =
                    this.boolean_filters_selector + ":checked"),
                (this.listing_counter = ".shops-listing-counter"),
                (this.active_mobile_filters_counter =
                    ".categories-trigger--mobile-count"),
                (this.active_desk_filters_counter =
                    ".categories-trigger--desk-count"),
                (this.quick_filter_banner = ".filter-banners-banner"),
                (this.restaurants = function () {
                    this.restaurants_list = $(this.restaurant_selector) || [];
                }),
                (this.get_restaurant_ids = function () {
                    var e = [];
                    return (
                        $(this.restaurants_list).each(function (t, r) {
                            e.push($(r).data("restaurant_id"));
                        }),
                        e
                    );
                }),
                (this.get_shown_restaurant_ids = function () {
                    var e = [];
                    return (
                        $(this.restaurants_list).each(function (t, r) {
                            $(r).is(":visible") &&
                                $(r).is(
                                    ":not(.shops-listings-shops-list-item--closed)"
                                ) &&
                                e.push($(r).data("restaurant_id"));
                        }),
                        e
                    );
                }),
                (this.find_closed_shops = function () {
                    this.close_shops =
                        $(
                            '.shops-listings-shops-list-item--closed:not(".d-none")'
                        ) || [];
                }),
                (this.showClosedShops = function () {
                    var e = $(".closed-shops-card"),
                        t = this.close_shops;
                    $(".show-closed-shops-btn").on("click", function () {
                        $(t).show(), $(e).hide();
                    });
                }),
                (this.get_active_cuisines = function () {
                    return $(this.active_cuisines_selector) || [];
                }),
                (this.get_active_cuisine_names = function () {
                    var e = [];
                    return (
                        $(this.get_active_cuisines()).each(function (t, r) {
                            e.push(r.value);
                        }),
                        e
                    );
                }),
                (this.get_active_boolean_filters = function () {
                    return $(this.active_boolean_filters_selector) || [];
                }),
                (this.get_single_active_boolean_filters = function () {
                    return (
                        $(
                            this.active_boolean_filters_selector +
                                ":not([id*=mobile])"
                        ) || []
                    );
                }),
                (this.refreshCounterAndList = function () {
                    var e = this.get_shown_restaurant_ids().length || 0,
                        t = this.close_shops.length,
                        r = this.get_active_cuisines().length || 0,
                        n =
                            this.get_single_active_boolean_filters().length ||
                            0,
                        a =
                            $(
                                this.sorting_selector +
                                    ":checked:not([id*=mobile]):not(#default_order)"
                            ).length || 0,
                        i = $(".shops-listing-counter-restaurant-word"),
                        o = i.data("restaurantPlural"),
                        s = e + t,
                        l = r + n + a,
                        c = n + a;
                    if (
                        ($(this.active_mobile_filters_counter).html(l),
                        $(this.active_desk_filters_counter).html(c),
                        $(this.listing_counter).html(s),
                        i.text(o),
                        1 == s)
                    ) {
                        var u = i.data("restaurantSingular");
                        i.text(u);
                    }
                    0 === l && $(this.active_mobile_filters_counter).html(""),
                        0 === c && $(this.active_desk_filters_counter).html("");
                    var d = $(".closed-shops-card");
                    0 === e && 0 === t
                        ? ($(".shops-listing-shops--empty").removeClass(
                              "d-none"
                          ),
                          $(".cuisine-filter--mobile-footer .btn-primary").prop(
                              "disabled",
                              !0
                          ),
                          $(d).addClass("d-none"))
                        : 0 === e && 0 !== t
                        ? ($(".shops-listing-shops--empty").addClass("d-none"),
                          $(".cuisine-filter--mobile-footer .btn-primary").prop(
                              "disabled",
                              !1
                          ),
                          $(d).addClass("d-none"),
                          $(this.close_shops).show())
                        : ($(".shops-listing-shops--empty").addClass("d-none"),
                          $(".cuisine-filter--mobile-footer .btn-primary").prop(
                              "disabled",
                              !1
                          ),
                          $(d).removeClass("d-none"),
                          0 === t && $(d).addClass("d-none"),
                          t > 0 && ($(this.close_shops).hide(), $(d).show())),
                        (r > 0 || n > 0) && 0 === s
                            ? ($(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-not-serving-msg"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-no-results-filters-msg"
                              ).removeClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-not-serving"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-no-results-filters"
                              ).removeClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .change-address"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .reset-filters"
                              ).removeClass("d-none"))
                            : ($(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-not-serving"
                              ).removeClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-no-results-filters"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-not-serving-msg"
                              ).removeClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .shops-listing-shops--empty-no-results-filters-msg"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .reset-filters"
                              ).addClass("d-none"),
                              $(
                                  ".shops-listing-shops--empty .change-address"
                              ).removeClass("d-none")),
                        (window.app.status.shopListing.shopCategorySelectedQuantity = e),
                        (window.app.status.shopListing.shopCategorySelected = Array.from(
                            document.querySelectorAll(".cuisine-filter:checked")
                        ).reduce(function (e, t, r) {
                            return (e +=
                                0 !== r
                                    ? "|" +
                                      t.dataset.en.charAt(0).toUpperCase() +
                                      t.dataset.en.slice(1)
                                    : t.dataset.en.charAt(0).toUpperCase() +
                                      t.dataset.en.slice(1));
                        }, "")),
                        (window.app.status.shopListing.shopFilteringSelected =
                            this.get_active_boolean_filters()
                                .map(function (e, t) {
                                    return $(t).val();
                                })
                                .toArray()
                                .filter(function (e, t, r) {
                                    return r.indexOf(e) === t;
                                })
                                .join(", ") || "none"),
                        (window.app.status.shopListing.shopSortingSelected = $(
                            "input[name=order_by]:checked"
                        ).val()),
                        (window.app.status.shopListing.shopQuantityShown = e),
                        (window.app.status.shopListing.shopQuantityTotal = e);
                    var p = $.cookie("shop_preferred_view") || "image";
                    Object(m.shopListUpdated)(
                        window.app.status.shopListing
                            .shopCategorySelectedQuantity,
                        window.app.status.shopListing.shopCategorySelected,
                        window.app.status.shopListing.shopFilteringSelected,
                        window.app.status.shopListing.shopSortingSelected,
                        window.app.status.shopListing.shopQuantityShown,
                        window.app.status.shopListing.shopListMessageShown,
                        document.querySelectorAll(
                            ".shops-listings-shops-list-item"
                        ).length,
                        p,
                        (function () {
                            var e = [];
                            return (
                                window.location.href.indexOf("search") > -1 &&
                                    e.push("search"),
                                Array.from(
                                    document.querySelectorAll("[name=features]")
                                ).find(function (e) {
                                    return e.attributes.checked;
                                })
                                    ? ((window.filterhasBeenClicked = !0),
                                      e.push("filter"))
                                    : window.filterhasBeenClicked &&
                                      (e.push("filters_cleared"),
                                      (window.filterhasBeenClicked = !1)),
                                e.join(",")
                            );
                        })(),
                        "promoted:"
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="sponsored"]'
                                ).length,
                                ",new:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="new"]'
                                ).length,
                                ",favorite:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="favourite"]'
                                ).length
                            )
                    ),
                        $(".toggle-tooltip-shop-listing").addClass("d-none");
                }),
                (this.update_closed_counter = function () {
                    if ($(".closed-shops-card").is(":visible")) {
                        var e = $(".closed-shops-counter"),
                            t = this.close_shops.length,
                            r = $(".closed-shops-card p"),
                            n =
                                1 == t
                                    ? r.data("singularText")
                                    : r.data("pluralText");
                        (n = n.replace("%$1s", t)), $(e).html(n);
                    }
                }),
                (this.construct_handlers = function () {
                    var e = this;
                    $(e.quick_filter_banner).on("click", function () {
                        var e = $(this).index();
                        !(function (e, t) {
                            Object(m.promotionClick)(
                                [
                                    {
                                        id: "Quick_Filters",
                                        name: "Quick Filters",
                                        creative: e,
                                        position: t + 1,
                                        promotions: $(".filter-banners-banner")
                                            .length,
                                    },
                                ],
                                "quick_filter"
                            );
                        })($(this).data("name"), e);
                    }),
                        $(".reset-filters").on("click", function () {
                            $(".shops-search-form").val(""),
                                $(".cuisine-filter").prop("checked", !1),
                                $(
                                    ".cuisine-filter-list-item--mobile input"
                                ).prop("checked", !1),
                                $("#all, #mobile_all")
                                    .prop("checked", !0)
                                    .prop("disabled", !0),
                                $(".boolean-filter").prop("checked", !1),
                                $(
                                    "input#default_order, input#mobile_default_order"
                                ).prop("checked", !0),
                                e.getFilteredShopList().then(h);
                        }),
                        $(this.cuisines_selector).on("change", function (t) {
                            var r = 0 === w.get_active_cuisines().length,
                                n = $(this).attr("id").replace("/", "\\/");
                            $("#all, #mobile_all")
                                .prop("checked", r)
                                .prop("disabled", r);
                            var a = $(this).is(":checked");
                            $("#mobile_" + n).prop("checked", a),
                                e.getFilteredShopList().then(h);
                        }),
                        $(this.boolean_filters_selector).on(
                            "change",
                            function () {
                                var t = $(this).attr("id").replace("/", "\\/"),
                                    r = $(this).is(":checked");
                                $("#mobile_" + t).prop("checked", r),
                                    e.getFilteredShopList().then(h);
                            }
                        ),
                        $("#all, #mobile_all").on("change", function () {
                            $(this).is(":checked") && e.clear_cuisines();
                            var t = $(this).attr("id").replace("/", "\\/"),
                                r = $(this).is(":checked");
                            $("#" + t)
                                .prop("checked", r)
                                .prop("disabled", !0),
                                $("#mobile_" + t)
                                    .prop("checked", r)
                                    .prop("disabled", !0),
                                e.getFilteredShopList().then(h);
                        }),
                        $("#searchform").on("submit", function (e) {
                            e.preventDefault();
                        }),
                        $(e.sorting_selector).on("change", function () {
                            var t = $(this).attr("id").replace("/", "\\/"),
                                r = $(this).is(":checked");
                            $("#mobile_" + t).prop("checked", r),
                                e.getFilteredShopList().then(h);
                        }),
                        $(".shops-listings-shops-list-item").on(
                            "click",
                            function () {
                                var e = $(this);
                                if ($(window).width() < 992) {
                                    var t = $(e).data("shop-url");
                                    window.location.href =
                                        window.location.origin + t;
                                }
                            }
                        ),
                        $(document).ready(function () {
                            efoodLib.initFeaturedDishedSlick();
                            var t = $(".featured-items");
                            t.has(".ready") && t.slick("refresh"),
                                efoodLib.initDataToogle(),
                                e.showClosedShops(),
                                (function () {
                                    for (
                                        var e = document.querySelectorAll(
                                                ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--promoted)"
                                            ),
                                            t = function (t) {
                                                var n = e[t];
                                                n.addEventListener(
                                                    "click",
                                                    function () {
                                                        var e = parseInt(
                                                                n.dataset
                                                                    .restaurant_id
                                                            ),
                                                            r = (t = 1),
                                                            a = n.dataset.name;
                                                        r < 11 &&
                                                            Object(
                                                                m.promotionClick
                                                            )(
                                                                [
                                                                    {
                                                                        id: e,
                                                                        name:
                                                                            "Organic Shop List",
                                                                        creative: a,
                                                                        position: r,
                                                                    },
                                                                ],
                                                                "organic_shop_list"
                                                            );
                                                    }
                                                ),
                                                    (r = t);
                                            },
                                            r = 0;
                                        r < e.length;
                                        r++
                                    )
                                        t(r);
                                    for (
                                        var n = document.querySelectorAll(
                                                ".shops-listings-shops-list-item--promoted"
                                            ),
                                            a = function (e) {
                                                var t = n[e];
                                                t.addEventListener(
                                                    "click",
                                                    function () {
                                                        var r =
                                                                w.get_active_cuisines()
                                                                    .length > 0,
                                                            a = r
                                                                ? "Promoted Shops Filtered"
                                                                : "Promoted Shops",
                                                            i = r
                                                                ? "promoted_shops_filtered"
                                                                : "promoted_shops",
                                                            o = {
                                                                id:
                                                                    t.dataset
                                                                        .restaurant_id,
                                                                name: a,
                                                                creative:
                                                                    t.dataset
                                                                        .name,
                                                                position: e + 1,
                                                                locationArea:
                                                                    dataLayer[0]
                                                                        .userAddressZip,
                                                                promotions:
                                                                    n.length,
                                                            };
                                                        Object(
                                                            m.promotionClick
                                                        )([o], i);
                                                    }
                                                );
                                            },
                                            i = 0;
                                        i < n.length;
                                        i++
                                    )
                                        a(i);
                                    for (
                                        var o = document.querySelectorAll(
                                                ".shops-listings-shops-list-item, .shops-listings-shops-list-banner-supermarket"
                                            ),
                                            s = function (e) {
                                                var t = o[e];
                                                t.addEventListener(
                                                    "click",
                                                    function () {
                                                        var r = e + 1,
                                                            n = parseInt(
                                                                t.dataset
                                                                    .restaurant_id
                                                            ),
                                                            a = t.classList.contains(
                                                                "shops-listings-shops-list-item--promoted"
                                                            ),
                                                            i = t.dataset.name,
                                                            o =
                                                                t.dataset
                                                                    .shop_type;
                                                        dataLayer.push({
                                                            event:
                                                                "shop.clicked",
                                                            locationAddress:
                                                                dataLayer[0]
                                                                    .userAddress,
                                                            locationLat:
                                                                dataLayer[0]
                                                                    .userAddressLat,
                                                            locationLon:
                                                                dataLayer[0]
                                                                    .userAddressLon,
                                                            locationArea:
                                                                dataLayer[0]
                                                                    .userAddressZip,
                                                            locationCity:
                                                                dataLayer[0]
                                                                    .userAddressCity,
                                                            locationCountry:
                                                                dataLayer[0]
                                                                    .userAddressCountry,
                                                            shopId: n,
                                                            shopSponsoring: a,
                                                            shopRank: r,
                                                            shopType: o,
                                                            vendorClickOrigin:
                                                                -1 !==
                                                                Array.from(
                                                                    document.querySelector(
                                                                        "body"
                                                                    ).classList
                                                                ).indexOf(
                                                                    "page-search"
                                                                )
                                                                    ? "search"
                                                                    : "",
                                                            searchTerm:
                                                                -1 !==
                                                                Array.from(
                                                                    document.querySelector(
                                                                        "body"
                                                                    ).classList
                                                                ).indexOf(
                                                                    "page-search"
                                                                )
                                                                    ? document.querySelector(
                                                                          ".shops-search-form"
                                                                      ).value
                                                                    : "",
                                                        }),
                                                            dataLayer.push({
                                                                event:
                                                                    "shopClick",
                                                                shopOrder: r,
                                                                shopName: i,
                                                            });
                                                    }
                                                );
                                            },
                                            l = 0;
                                        l < o.length;
                                        l++
                                    )
                                        s(l);
                                    $(".shops-listings-shops-list-banner").on(
                                        "click",
                                        function (e) {
                                            if (!(window.innerWidth > 991)) {
                                                var t = e.target
                                                    .closest(
                                                        ".shops-listings-shops-list-banner"
                                                    )
                                                    .getAttribute(
                                                        "data-shop-url"
                                                    );
                                                t && (window.location.href = t);
                                            }
                                        }
                                    );
                                })();
                        });
                }),
                (this.destruct_handlers = function () {
                    $(this.cuisines_selector).off("change"),
                        $(this.sorting_selector).off("change"),
                        $(this.quick_filter_banner).off("click"),
                        $("#all, #mobile_all").off("change"),
                        $(".clear_search_form").off("click"),
                        $(".shops-search-form").off("input"),
                        $(".reset-filters").off("click"),
                        $(this.boolean_filters_selector).off("change"),
                        $(".shops-listings-shops-list-item").off("click"),
                        $("#searchform").off("submit"),
                        c();
                }),
                (this.clear_cuisines = function () {
                    $(this.get_active_cuisines()).each(function (e, t) {
                        var r = $(t).attr("id").replace("/", "\\/");
                        $("#" + r).prop("checked", !1),
                            $("#mobile_" + r).prop("checked", !1);
                    });
                }),
                (this.constructFiltersUrl = function (e, t, r) {
                    var n =
                            arguments.length > 3 &&
                            void 0 !== arguments[3] &&
                            arguments[3],
                        a = "",
                        i = {},
                        o = "/shops/filtering";
                    if (
                        ($("#all").prop("checked") || (i.basic_cuisine = e),
                        "" !== r && "default_order" !== r && (a = r),
                        t.length > 0)
                    )
                        for (var s = 0, l = t.length; s < l; s++) {
                            var c = $(t[s]).val();
                            i[c] || (i[c] = !0);
                        }
                    return (
                        (i = JSON.stringify(i)),
                        0 != n
                            ? ((n = JSON.stringify(n)),
                              (o += "?filters=" + encodeURIComponent(n)))
                            : i && (o += "?filters=" + encodeURIComponent(i)),
                        "" !== a && (o += "&sort=" + a),
                        app.latitude > 0 &&
                            app.longitude > 0 &&
                            (o +=
                                "&lat=" +
                                app.latitude +
                                "&lon=" +
                                app.longitude),
                        app.isByArea &&
                            app.area_slug &&
                            (o += "&slug=" + app.area_slug),
                        "" !== app.addressBusinessSlug &&
                            (o += "&business_slug=" + app.addressBusinessSlug),
                        window.location.href.split("?").length
                            ? (o +=
                                  "&current_url_params=" +
                                  encodeURIComponent(
                                      window.location.href.split("?")[1]
                                  ))
                            : (o += "&current_url_params="),
                        o
                    );
                }),
                (this.getFilteredShopList = function () {
                    var t =
                        arguments.length > 0 &&
                        void 0 !== arguments[0] &&
                        arguments[0];
                    app.popup.showLoader(), e.destruct_handlers(), l();
                    var r = e,
                        n = e.get_active_cuisine_names(),
                        a = e.get_active_boolean_filters(),
                        i = $(e.sorting_selector + ":checked").val();
                    e.create_uri();
                    var o = e.constructFiltersUrl(n, a, i, t);
                    return new Promise(function (e, t) {
                        $.ajax({
                            type: "GET",
                            url: o,
                            contentType: "application/json",
                            success: function (t) {
                                $(".shop-listing-content > div").remove(),
                                    $(".shop-listing-content > p").remove(),
                                    $(".shop-listing-content").prepend(t),
                                    $("#categories-trigger--mobile").css(
                                        "visibility",
                                        "visible"
                                    ),
                                    $("[data-toggle-target].initted").length >
                                        0 && c(),
                                    $("#all, #mobile_all").is(":checked") ||
                                        u(),
                                    r.construct_handlers(),
                                    $(document).ready(function () {
                                        efoodLib.initFeaturedDishedListeners(),
                                            s();
                                    }),
                                    r.finalizeRendering(),
                                    p(),
                                    e();
                            },
                        }).always(function () {
                            app.popup.hideLoader();
                        }),
                            $("html, body").animate({ scrollTop: 0 }, 800);
                    });
                }),
                (this.getURLParam = function (e) {
                    var t = window.location.href,
                        r = e.replace(/[\[\]]/g, "\\$&"),
                        n = new RegExp("[?&]" + r + "(=([^&#]*)|&|#|$)").exec(
                            t
                        );
                    return n
                        ? n[2]
                            ? decodeURIComponent(n[2].replace(/\+/g, " "))
                            : ""
                        : null;
                }),
                (this.removeURLParam = function (e) {
                    var t = window.location.href,
                        r = t.split("?");
                    if (r.length >= 2) {
                        for (
                            var n = encodeURIComponent(e) + "=",
                                a = r[1].split(/[&;]/g),
                                i = a.length;
                            i-- > 0;

                        )
                            -1 !== a[i].lastIndexOf(n, 0) && a.splice(i, 1);
                        return (t =
                            r[0] + (a.length > 0 ? "?" + a.join("&") : ""));
                    }
                    return t;
                }),
                (this.insertURLParam = function (e, t) {
                    if (history.pushState) {
                        var r = this.removeURLParam(e),
                            n =
                                r +
                                (-1 !== r.indexOf("?") ? "&" : "?") +
                                e +
                                "=" +
                                t;
                        window.history.pushState(
                            { path: n },
                            "",
                            n.replace(/\,+$/, "")
                        );
                    }
                }),
                (this.create_uri = function () {
                    var e = [];
                    $("input[name=kitchens]:checked").each(function (t, r) {
                        e.push($(r).data("en"));
                    });
                    var t = [];
                    if (
                        ($("input[name=features]:checked").each(function (
                            e,
                            r
                        ) {
                            t.push(r.value);
                        }),
                        "default_order" !==
                            $("input[name=order_by]:checked").val())
                    )
                        var r = $("input[name=order_by]:checked").val();
                    var n = this.removeURLParam("kitchens");
                    window.history.replaceState({ path: n }, "", n),
                        (n = this.removeURLParam("features")),
                        window.history.replaceState({ path: n }, "", n),
                        (n = this.removeURLParam("order_by")),
                        window.history.replaceState({ path: n }, "", n),
                        e.length > 0 && this.insertURLParam("kitchens", e),
                        t.length > 0 && this.insertURLParam("features", t),
                        void 0 !== r && this.insertURLParam("order_by", r);
                    window.location.search.indexOf("kitchens") > -1 ||
                    window.location.search.indexOf("features") > -1 ||
                    window.location.search.indexOf("order_by") > -1
                        ? $("body").removeClass("default-list-view")
                        : $("body").addClass("default-list-view");
                }),
                (this.apply_filters_from_url = function () {
                    this.destruct_handlers(), l();
                    var e = this.getURLParam("kitchens");
                    e &&
                        (e = e.split(",").filter(function (e) {
                            return "" != e;
                        })).length > 0 &&
                        ($("#all, #mobile_all")
                            .prop("checked", !1)
                            .prop("disabled", !1),
                        e.forEach(function (e) {
                            (e = e.replace(/\s/gm, "_")),
                                $("#" + e) &&
                                    ($("#" + e).prop("checked", !0),
                                    $("#mobile_" + e).prop("checked", !0));
                        }));
                    var t = this.getURLParam("features");
                    t &&
                        (t = t.split(",")).length > 0 &&
                        t.forEach(function (e) {
                            $("#" + e).prop("checked", !0),
                                $("#mobile_" + e).prop("checked", !0);
                        });
                    var r = this.getURLParam("order_by");
                    return (
                        void 0 !== r &&
                            ($("#" + r).trigger("click"),
                            $("#mobile_" + r).trigger("click")),
                        e || t || r
                            ? this.getFilteredShopList()
                            : (this.construct_handlers(),
                              this.finalizeRendering(),
                              Promise.resolve())
                    );
                }),
                (this.get_hidden_cuisines = function () {
                    $("ul.more-cuisines li input:checkbox:checked").length >
                        0 &&
                        !1 ===
                            $(
                                "[data-toggle-control=cuisine-filter-list-more]"
                            ).hasClass("active") &&
                        setTimeout(function () {
                            $("#cuisine-filter-list-more").trigger("click");
                        }, 250);
                }),
                (this.finalizeRendering = function () {
                    this.restaurants(),
                        this.find_closed_shops(),
                        this.refreshCounterAndList(),
                        this.update_closed_counter(),
                        (function () {
                            $(".shops-listings-shops-list-item").removeClass(
                                "shops-listings-shops-list-item--last-open shops-listings-shops-list-item--first-not-promoted shops-listings-shops-list-item--first-closed shops-listings-shops-list-item--last-promoted shops-listings-shops-list-item--first-promoted shops-listings-shops-list-item--only-promoted-top"
                            );
                            var e = $(
                                ".shops-listings-shops-list-item--promoted:visible"
                            );
                            if (e.length > 0) {
                                e
                                    .first()
                                    .addClass(
                                        "shops-listings-shops-list-item--first-promoted"
                                    ),
                                    e
                                        .last()
                                        .addClass(
                                            "shops-listings-shops-list-item--last-promoted"
                                        );
                                var t = $(".promoted-shops-header"),
                                    r =
                                        e.length > 1
                                            ? t.data("template-plural")
                                            : t.data("template");
                                if (r) {
                                    t.text(r.replace("%1$s", e.length)),
                                        t.removeClass("d-none");
                                    var n = $(
                                        '<div class="promoted-shops-header-wrapper d-flex align-items-center mt-6" style="justify-content: space-between;"></div>'
                                    );
                                    n.append(t),
                                        n.append(
                                            $(
                                                '<div id="shops-listing-toggle"></div>'
                                            )
                                        ),
                                        n.insertBefore(e.first()),
                                        Object(b.default)({
                                            selector: "#shops-listing-toggle",
                                        });
                                }
                            }
                            $(
                                ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--closed):visible"
                            )
                                .last()
                                .addClass(
                                    "shops-listings-shops-list-item--last-open"
                                );
                            var a = $(
                                ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--promoted):visible"
                            );
                            if (a.length > 0) {
                                if (
                                    (a
                                        .first()
                                        .addClass(
                                            "shops-listings-shops-list-item--first-not-promoted"
                                        ),
                                    0 ===
                                        $(
                                            ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--promoted):not(.shops-listings-shops-list-item--closed):visible"
                                        ).length)
                                )
                                    return;
                                var i = $(".organic-shops-header"),
                                    o = "";
                                if (
                                    (o =
                                        e.length > 0
                                            ? a.length > 1
                                                ? i.data(
                                                      "template-with-promoted-plural"
                                                  )
                                                : i.data(
                                                      "template-with-promoted"
                                                  )
                                            : a.length > 1
                                            ? i.data("template-plural")
                                            : i.data("template"))
                                ) {
                                    i.text(o.replace("%1$s", a.length)),
                                        i.removeClass("d-none");
                                    var s = $(
                                        '<div class="organic-shops-header-wrapper d-flex align-items-center mt-6" style="justify-content: space-between;"></div>'
                                    );
                                    s.append(i),
                                        s.append(
                                            $(
                                                '<div id="shops-listing-toggle"></div>'
                                            )
                                        ),
                                        s.insertBefore(a.first()),
                                        Object(b.default)({
                                            selector: "#shops-listing-toggle",
                                        });
                                }
                            }
                            $(".shops-listings-shops-list-item--closed")
                                .first()
                                .addClass(
                                    "shops-listings-shops-list-item--first-closed"
                                ),
                                $(
                                    ".shops-listings-shops-list-item--first-promoted:visible"
                                ).next(
                                    ".shops-listings-shops-list-item--first-not-promoted"
                                ).length &&
                                    $(
                                        ".shops-listings-shops-list-item--first-promoted"
                                    ).addClass(
                                        "shops-listings-shops-list-item--only-promoted-top"
                                    );
                        })(),
                        i(),
                        o(),
                        initializeShopListSearch(),
                        this.get_hidden_cuisines();
                    var e = $(".shops-listings-shops-list-item--closed");
                    if (
                        $(".shops-listings-shops-list-item").length ===
                            e.length &&
                        e.first()
                    ) {
                        var t = $(
                            '<div class="closed-shops-header-wrapper d-flex align-items-center mt-1" style="float:right;justify-content: space-between;"></div>'
                        );
                        t.append($('<div id="shops-listing-toggle"></div>')),
                            t.insertBefore(e.first()),
                            Object(b.default)({
                                selector: "#shops-listing-toggle",
                            });
                    }
                    app.notifications && app.notifications.refresh();
                }),
                this.restaurants(),
                this.find_closed_shops();
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var m = r(14),
            y = (r.n(m), r(31)),
            g = r.n(y),
            v = r(9),
            b = r(169);
        if (
            ($("body").addClass("default-list-view"),
            $(document).ready(function () {
                if ("shop-search" === app.pageController) {
                    w.apply_filters_from_url().then(function () {
                        return h();
                    }),
                        p(),
                        $("#categories-trigger--mobile").css(
                            "visibility",
                            "visible"
                        );
                    var e =
                            document.querySelectorAll(
                                ".shops-listings-shops-list-item"
                            ).length || 0,
                        t =
                            document.querySelectorAll(
                                ".shops-listings-shops-list-item--closed"
                            ).length || 0;
                    (window.app.status.shopListing.shopCategorySelectedQuantity =
                        "all"),
                        (window.app.status.shopListing.shopFilteringSelected = !1),
                        (window.app.status.shopListing.shopSortingSelected = !1),
                        (window.app.status.shopListing.shopQuantityShown =
                            e - t),
                        (window.app.status.shopListing.shopQuantityTotal = e);
                    var r = $.cookie("shop_preferred_view") || "image";
                    Object(m.shopListLoaded)(
                        window.app.status.shopListing
                            .shopCategorySelectedQuantity,
                        window.app.status.shopListing.shopFilteringSelected,
                        window.app.status.shopListing.shopSortingSelected,
                        window.app.status.shopListing.shopQuantityShown,
                        window.app.status.shopListing.shopQuantityTotal,
                        $("div.alert.alert-warning").length > 0,
                        r,
                        window.app.status.shopListing.shopListMessageShown,
                        "promoted:"
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="sponsored"]'
                                ).length,
                                ",new:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="new"]'
                                ).length,
                                ",favorite:"
                            )
                            .concat(
                                document.querySelectorAll(
                                    '[data-shop_type="favourite"]'
                                ).length
                            )
                    );
                    var n = [];
                    $(
                        ".shops-listings-shops-list-item:not(.shops-listings-shops-list-item--promoted)"
                    ).each(function (e, t) {
                        if (e > 9) return !1;
                        var r = $(t).data("name"),
                            a = $(t).data("restaurant_id");
                        n.push({
                            id: a,
                            name: "Organic Shop List",
                            creative: r,
                            position: e + 1,
                        });
                    }),
                        0 !== n.length &&
                            Object(m.promoView)(n, "organic_shop_list");
                    var a = [];
                    $(".filter-banners-banner").each(function (e, t) {
                        var r = $(t).data("name");
                        a.push({
                            id: "Quick_Filters",
                            name: "Quick Filters",
                            creative: r,
                            position: e + 1,
                            promotions: $(".filter-banners-banner").length,
                        });
                    }),
                        0 !== a.length &&
                            Object(m.promoView)(a, "quick_filters"),
                        u();
                }
            }),
            "shop-search" === app.pageController)
        ) {
            var w = new f();
            i(),
                s(),
                v.default.Bus.on(v.default.SET_FILTER_CATEGORY, function (e) {
                    var t = e.category;
                    w.insertURLParam("kitchens", t), w.apply_filters_from_url();
                });
        }
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(9),
            a = r(191),
            i = r(490);
        if (
            (n.default.Bus.on(n.default.AUTHENTICATE, function () {
                window.app.popup.open(
                    "/foodatwork/modals/login",
                    "modal-login",
                    !0,
                    !0
                );
            }),
            n.default.Bus.on(n.default.SET_COOKIE, function (e, t) {
                var r =
                    arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : {};
                window.$.cookie(e, t, r);
            }),
            n.default.Bus.on(n.default.USER_ADDRESSES, function () {
                window.config &&
                !window.config.isChain &&
                window.config.isLoggedIn
                    ? window.app.popup.openUserAddresses(window.app.shop.id)
                    : window.app.popup.addressbox();
            }),
            !a.a.is([a.a.SHOP_PROFILE, a.a.CHECKOUT]))
        ) {
            var o = Object(i.a)();
            o.getItem("cart")
                .then(function (e) {
                    if (null !== e)
                        return (
                            (null === e.coupon_code && null === e.coupons) ||
                                ((e.coupon_code = null),
                                (e.coupons = null),
                                (e.amount = e.price_without_discount),
                                (e.coupon_discount = 0)),
                            e
                        );
                })
                .then(function (e) {
                    if (void 0 !== e) return o.setItem("cart", e);
                })
                .catch(function () {
                    return o.clear();
                });
        }
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return (
                i.a.config({
                    name: e,
                    driver: [i.a.INDEXEDDB, i.a.LOCALSTORAGE, i.a.WEBSQL],
                }),
                i.a
            );
        }
        t.a = function () {
            return n("ComponentCart");
        };
        var a = r(491),
            i = r.n(a);
    },
    function (e, t, r) {
        (function (t) {
            var r;
            !(function (t) {
                e.exports = t();
            })(function () {
                return (function e(t, n, a) {
                    function i(s, l) {
                        if (!n[s]) {
                            if (!t[s]) {
                                if (!l && "function" == typeof r && r)
                                    return r(s, !0);
                                if (o) return o(s, !0);
                                var c = new Error(
                                    "Cannot find module '" + s + "'"
                                );
                                throw ((c.code = "MODULE_NOT_FOUND"), c);
                            }
                            var u = (n[s] = { exports: {} });
                            t[s][0].call(
                                u.exports,
                                function (e) {
                                    var r = t[s][1][e];
                                    return i(r || e);
                                },
                                u,
                                u.exports,
                                e,
                                t,
                                n,
                                a
                            );
                        }
                        return n[s].exports;
                    }
                    for (
                        var o = "function" == typeof r && r, s = 0;
                        s < a.length;
                        s++
                    )
                        i(a[s]);
                    return i;
                })(
                    {
                        1: [
                            function (e, r, n) {
                                (function (e) {
                                    "use strict";
                                    function t() {
                                        c = !0;
                                        for (var e, t, r = u.length; r; ) {
                                            for (
                                                t = u, u = [], e = -1;
                                                ++e < r;

                                            )
                                                t[e]();
                                            r = u.length;
                                        }
                                        c = !1;
                                    }
                                    var n,
                                        a =
                                            e.MutationObserver ||
                                            e.WebKitMutationObserver;
                                    if (a) {
                                        var i = 0,
                                            o = new a(t),
                                            s = e.document.createTextNode("");
                                        o.observe(s, { characterData: !0 }),
                                            (n = function () {
                                                s.data = i = ++i % 2;
                                            });
                                    } else if (
                                        e.setImmediate ||
                                        void 0 === e.MessageChannel
                                    )
                                        n =
                                            "document" in e &&
                                            "onreadystatechange" in
                                                e.document.createElement(
                                                    "script"
                                                )
                                                ? function () {
                                                      var r = e.document.createElement(
                                                          "script"
                                                      );
                                                      (r.onreadystatechange = function () {
                                                          t(),
                                                              (r.onreadystatechange = null),
                                                              r.parentNode.removeChild(
                                                                  r
                                                              ),
                                                              (r = null);
                                                      }),
                                                          e.document.documentElement.appendChild(
                                                              r
                                                          );
                                                  }
                                                : function () {
                                                      setTimeout(t, 0);
                                                  };
                                    else {
                                        var l = new e.MessageChannel();
                                        (l.port1.onmessage = t),
                                            (n = function () {
                                                l.port2.postMessage(0);
                                            });
                                    }
                                    var c,
                                        u = [];
                                    r.exports = function (e) {
                                        1 !== u.push(e) || c || n();
                                    };
                                }.call(
                                    this,
                                    void 0 !== t
                                        ? t
                                        : "undefined" != typeof self
                                        ? self
                                        : "undefined" != typeof window
                                        ? window
                                        : {}
                                ));
                            },
                            {},
                        ],
                        2: [
                            function (e, t, r) {
                                "use strict";
                                function n() {}
                                function a(e) {
                                    if ("function" != typeof e)
                                        throw new TypeError(
                                            "resolver must be a function"
                                        );
                                    (this.state = f),
                                        (this.queue = []),
                                        (this.outcome = void 0),
                                        e !== n && l(this, e);
                                }
                                function i(e, t, r) {
                                    (this.promise = e),
                                        "function" == typeof t &&
                                            ((this.onFulfilled = t),
                                            (this.callFulfilled = this.otherCallFulfilled)),
                                        "function" == typeof r &&
                                            ((this.onRejected = r),
                                            (this.callRejected = this.otherCallRejected));
                                }
                                function o(e, t, r) {
                                    u(function () {
                                        var n;
                                        try {
                                            n = t(r);
                                        } catch (t) {
                                            return d.reject(e, t);
                                        }
                                        n === e
                                            ? d.reject(
                                                  e,
                                                  new TypeError(
                                                      "Cannot resolve promise with itself"
                                                  )
                                              )
                                            : d.resolve(e, n);
                                    });
                                }
                                function s(e) {
                                    var t = e && e.then;
                                    if (
                                        e &&
                                        ("object" == typeof e ||
                                            "function" == typeof e) &&
                                        "function" == typeof t
                                    )
                                        return function () {
                                            t.apply(e, arguments);
                                        };
                                }
                                function l(e, t) {
                                    function r(t) {
                                        a || ((a = !0), d.reject(e, t));
                                    }
                                    function n(t) {
                                        a || ((a = !0), d.resolve(e, t));
                                    }
                                    var a = !1,
                                        i = c(function () {
                                            t(n, r);
                                        });
                                    "error" === i.status && r(i.value);
                                }
                                function c(e, t) {
                                    var r = {};
                                    try {
                                        (r.value = e(t)),
                                            (r.status = "success");
                                    } catch (e) {
                                        (r.status = "error"), (r.value = e);
                                    }
                                    return r;
                                }
                                var u = e(1),
                                    d = {},
                                    p = ["REJECTED"],
                                    h = ["FULFILLED"],
                                    f = ["PENDING"];
                                (t.exports = a),
                                    (a.prototype.catch = function (e) {
                                        return this.then(null, e);
                                    }),
                                    (a.prototype.then = function (e, t) {
                                        if (
                                            ("function" != typeof e &&
                                                this.state === h) ||
                                            ("function" != typeof t &&
                                                this.state === p)
                                        )
                                            return this;
                                        var r = new this.constructor(n);
                                        if (this.state !== f) {
                                            o(
                                                r,
                                                this.state === h ? e : t,
                                                this.outcome
                                            );
                                        } else this.queue.push(new i(r, e, t));
                                        return r;
                                    }),
                                    (i.prototype.callFulfilled = function (e) {
                                        d.resolve(this.promise, e);
                                    }),
                                    (i.prototype.otherCallFulfilled = function (
                                        e
                                    ) {
                                        o(this.promise, this.onFulfilled, e);
                                    }),
                                    (i.prototype.callRejected = function (e) {
                                        d.reject(this.promise, e);
                                    }),
                                    (i.prototype.otherCallRejected = function (
                                        e
                                    ) {
                                        o(this.promise, this.onRejected, e);
                                    }),
                                    (d.resolve = function (e, t) {
                                        var r = c(s, t);
                                        if ("error" === r.status)
                                            return d.reject(e, r.value);
                                        var n = r.value;
                                        if (n) l(e, n);
                                        else {
                                            (e.state = h), (e.outcome = t);
                                            for (
                                                var a = -1, i = e.queue.length;
                                                ++a < i;

                                            )
                                                e.queue[a].callFulfilled(t);
                                        }
                                        return e;
                                    }),
                                    (d.reject = function (e, t) {
                                        (e.state = p), (e.outcome = t);
                                        for (
                                            var r = -1, n = e.queue.length;
                                            ++r < n;

                                        )
                                            e.queue[r].callRejected(t);
                                        return e;
                                    }),
                                    (a.resolve = function (e) {
                                        return e instanceof this
                                            ? e
                                            : d.resolve(new this(n), e);
                                    }),
                                    (a.reject = function (e) {
                                        var t = new this(n);
                                        return d.reject(t, e);
                                    }),
                                    (a.all = function (e) {
                                        var t = this;
                                        if (
                                            "[object Array]" !==
                                            Object.prototype.toString.call(e)
                                        )
                                            return this.reject(
                                                new TypeError(
                                                    "must be an array"
                                                )
                                            );
                                        var r = e.length,
                                            a = !1;
                                        if (!r) return this.resolve([]);
                                        for (
                                            var i = new Array(r),
                                                o = 0,
                                                s = -1,
                                                l = new this(n);
                                            ++s < r;

                                        )
                                            !(function (e, n) {
                                                t.resolve(e).then(
                                                    function (e) {
                                                        (i[n] = e),
                                                            ++o !== r ||
                                                                a ||
                                                                ((a = !0),
                                                                d.resolve(
                                                                    l,
                                                                    i
                                                                ));
                                                    },
                                                    function (e) {
                                                        a ||
                                                            ((a = !0),
                                                            d.reject(l, e));
                                                    }
                                                );
                                            })(e[s], s);
                                        return l;
                                    }),
                                    (a.race = function (e) {
                                        var t = this;
                                        if (
                                            "[object Array]" !==
                                            Object.prototype.toString.call(e)
                                        )
                                            return this.reject(
                                                new TypeError(
                                                    "must be an array"
                                                )
                                            );
                                        var r = e.length,
                                            a = !1;
                                        if (!r) return this.resolve([]);
                                        for (
                                            var i = -1, o = new this(n);
                                            ++i < r;

                                        )
                                            !(function (e) {
                                                t.resolve(e).then(
                                                    function (e) {
                                                        a ||
                                                            ((a = !0),
                                                            d.resolve(o, e));
                                                    },
                                                    function (e) {
                                                        a ||
                                                            ((a = !0),
                                                            d.reject(o, e));
                                                    }
                                                );
                                            })(e[i]);
                                        return o;
                                    });
                            },
                            { 1: 1 },
                        ],
                        3: [
                            function (e, r, n) {
                                (function (t) {
                                    "use strict";
                                    "function" != typeof t.Promise &&
                                        (t.Promise = e(2));
                                }.call(
                                    this,
                                    void 0 !== t
                                        ? t
                                        : "undefined" != typeof self
                                        ? self
                                        : "undefined" != typeof window
                                        ? window
                                        : {}
                                ));
                            },
                            { 2: 2 },
                        ],
                        4: [
                            function (e, t, r) {
                                "use strict";
                                function n(e, t) {
                                    (e = e || []), (t = t || {});
                                    try {
                                        return new Blob(e, t);
                                    } catch (a) {
                                        if ("TypeError" !== a.name) throw a;
                                        for (
                                            var r = new ("undefined" !=
                                                typeof BlobBuilder
                                                    ? BlobBuilder
                                                    : "undefined" !=
                                                      typeof MSBlobBuilder
                                                    ? MSBlobBuilder
                                                    : "undefined" !=
                                                      typeof MozBlobBuilder
                                                    ? MozBlobBuilder
                                                    : WebKitBlobBuilder)(),
                                                n = 0;
                                            n < e.length;
                                            n += 1
                                        )
                                            r.append(e[n]);
                                        return r.getBlob(t.type);
                                    }
                                }
                                function a(e, t) {
                                    t &&
                                        e.then(
                                            function (e) {
                                                t(null, e);
                                            },
                                            function (e) {
                                                t(e);
                                            }
                                        );
                                }
                                function i(e, t, r) {
                                    "function" == typeof t && e.then(t),
                                        "function" == typeof r && e.catch(r);
                                }
                                function o(e) {
                                    return (
                                        "string" != typeof e &&
                                            (console.warn(
                                                e +
                                                    " used as a key, but it is not a string."
                                            ),
                                            (e = String(e))),
                                        e
                                    );
                                }
                                function s() {
                                    if (
                                        arguments.length &&
                                        "function" ==
                                            typeof arguments[
                                                arguments.length - 1
                                            ]
                                    )
                                        return arguments[arguments.length - 1];
                                }
                                function l(e) {
                                    return "boolean" == typeof M
                                        ? I.resolve(M)
                                        : (function (e) {
                                              return new I(function (t) {
                                                  var r = e.transaction(O, F),
                                                      a = n([""]);
                                                  r
                                                      .objectStore(O)
                                                      .put(a, "key"),
                                                      (r.onabort = function (
                                                          e
                                                      ) {
                                                          e.preventDefault(),
                                                              e.stopPropagation(),
                                                              t(!1);
                                                      }),
                                                      (r.oncomplete = function () {
                                                          var e = navigator.userAgent.match(
                                                                  /Chrome\/(\d+)/
                                                              ),
                                                              r = navigator.userAgent.match(
                                                                  /Edge\//
                                                              );
                                                          t(
                                                              r ||
                                                                  !e ||
                                                                  parseInt(
                                                                      e[1],
                                                                      10
                                                                  ) >= 43
                                                          );
                                                      });
                                              }).catch(function () {
                                                  return !1;
                                              });
                                          })(e).then(function (e) {
                                              return (M = e);
                                          });
                                }
                                function c(e) {
                                    var t = D[e.name],
                                        r = {};
                                    (r.promise = new I(function (e, t) {
                                        (r.resolve = e), (r.reject = t);
                                    })),
                                        t.deferredOperations.push(r),
                                        t.dbReady
                                            ? (t.dbReady = t.dbReady.then(
                                                  function () {
                                                      return r.promise;
                                                  }
                                              ))
                                            : (t.dbReady = r.promise);
                                }
                                function u(e) {
                                    var t = D[e.name].deferredOperations.pop();
                                    if (t) return t.resolve(), t.promise;
                                }
                                function d(e, t) {
                                    var r = D[e.name].deferredOperations.pop();
                                    if (r) return r.reject(t), r.promise;
                                }
                                function p(e, t) {
                                    return new I(function (r, n) {
                                        if (
                                            ((D[e.name] = D[e.name] || {
                                                forages: [],
                                                db: null,
                                                dbReady: null,
                                                deferredOperations: [],
                                            }),
                                            e.db)
                                        ) {
                                            if (!t) return r(e.db);
                                            c(e), e.db.close();
                                        }
                                        var a = [e.name];
                                        t && a.push(e.version);
                                        var i = L.open.apply(L, a);
                                        t &&
                                            (i.onupgradeneeded = function (t) {
                                                var r = i.result;
                                                try {
                                                    r.createObjectStore(
                                                        e.storeName
                                                    ),
                                                        t.oldVersion <= 1 &&
                                                            r.createObjectStore(
                                                                O
                                                            );
                                                } catch (r) {
                                                    if (
                                                        "ConstraintError" !==
                                                        r.name
                                                    )
                                                        throw r;
                                                    console.warn(
                                                        'The database "' +
                                                            e.name +
                                                            '" has been upgraded from version ' +
                                                            t.oldVersion +
                                                            " to version " +
                                                            t.newVersion +
                                                            ', but the storage "' +
                                                            e.storeName +
                                                            '" already exists.'
                                                    );
                                                }
                                            }),
                                            (i.onerror = function (e) {
                                                e.preventDefault(), n(i.error);
                                            }),
                                            (i.onsuccess = function () {
                                                r(i.result), u(e);
                                            });
                                    });
                                }
                                function h(e) {
                                    return p(e, !1);
                                }
                                function f(e) {
                                    return p(e, !0);
                                }
                                function m(e, t) {
                                    if (!e.db) return !0;
                                    var r = !e.db.objectStoreNames.contains(
                                            e.storeName
                                        ),
                                        n = e.version < e.db.version,
                                        a = e.version > e.db.version;
                                    if (
                                        (n &&
                                            (e.version !== t &&
                                                console.warn(
                                                    'The database "' +
                                                        e.name +
                                                        "\" can't be downgraded from version " +
                                                        e.db.version +
                                                        " to version " +
                                                        e.version +
                                                        "."
                                                ),
                                            (e.version = e.db.version)),
                                        a || r)
                                    ) {
                                        if (r) {
                                            var i = e.db.version + 1;
                                            i > e.version && (e.version = i);
                                        }
                                        return !0;
                                    }
                                    return !1;
                                }
                                function y(e) {
                                    return n(
                                        [
                                            (function (e) {
                                                for (
                                                    var t = e.length,
                                                        r = new ArrayBuffer(t),
                                                        n = new Uint8Array(r),
                                                        a = 0;
                                                    a < t;
                                                    a++
                                                )
                                                    n[a] = e.charCodeAt(a);
                                                return r;
                                            })(atob(e.data)),
                                        ],
                                        { type: e.type }
                                    );
                                }
                                function g(e) {
                                    return e && e.__local_forage_encoded_blob;
                                }
                                function v(e) {
                                    var t = this,
                                        r = t._initReady().then(function () {
                                            var e = D[t._dbInfo.name];
                                            if (e && e.dbReady)
                                                return e.dbReady;
                                        });
                                    return i(r, e, e), r;
                                }
                                function b(e, t, r, n) {
                                    void 0 === n && (n = 1);
                                    try {
                                        var a = e.db.transaction(
                                            e.storeName,
                                            t
                                        );
                                        r(null, a);
                                    } catch (a) {
                                        if (
                                            n > 0 &&
                                            (!e.db ||
                                                "InvalidStateError" ===
                                                    a.name ||
                                                "NotFoundError" === a.name)
                                        )
                                            return I.resolve()
                                                .then(function () {
                                                    if (
                                                        !e.db ||
                                                        ("NotFoundError" ===
                                                            a.name &&
                                                            !e.db.objectStoreNames.contains(
                                                                e.storeName
                                                            ) &&
                                                            e.version <=
                                                                e.db.version)
                                                    )
                                                        return (
                                                            e.db &&
                                                                (e.version =
                                                                    e.db
                                                                        .version +
                                                                    1),
                                                            f(e)
                                                        );
                                                })
                                                .then(function () {
                                                    return (function (e) {
                                                        c(e);
                                                        for (
                                                            var t = D[e.name],
                                                                r = t.forages,
                                                                n = 0;
                                                            n < r.length;
                                                            n++
                                                        ) {
                                                            var a = r[n];
                                                            a._dbInfo.db &&
                                                                (a._dbInfo.db.close(),
                                                                (a._dbInfo.db = null));
                                                        }
                                                        return (
                                                            (e.db = null),
                                                            h(e)
                                                                .then(function (
                                                                    t
                                                                ) {
                                                                    return (
                                                                        (e.db = t),
                                                                        m(e)
                                                                            ? f(
                                                                                  e
                                                                              )
                                                                            : t
                                                                    );
                                                                })
                                                                .then(function (
                                                                    n
                                                                ) {
                                                                    e.db = t.db = n;
                                                                    for (
                                                                        var a = 0;
                                                                        a <
                                                                        r.length;
                                                                        a++
                                                                    )
                                                                        r[
                                                                            a
                                                                        ]._dbInfo.db = n;
                                                                })
                                                                .catch(
                                                                    function (
                                                                        t
                                                                    ) {
                                                                        throw (
                                                                            (d(
                                                                                e,
                                                                                t
                                                                            ),
                                                                            t)
                                                                        );
                                                                    }
                                                                )
                                                        );
                                                    })(e).then(function () {
                                                        b(e, t, r, n - 1);
                                                    });
                                                })
                                                .catch(r);
                                        r(a);
                                    }
                                }
                                function w(e) {
                                    var t,
                                        r,
                                        n,
                                        a,
                                        i,
                                        o = 0.75 * e.length,
                                        s = e.length,
                                        l = 0;
                                    "=" === e[e.length - 1] &&
                                        (o--, "=" === e[e.length - 2] && o--);
                                    var c = new ArrayBuffer(o),
                                        u = new Uint8Array(c);
                                    for (t = 0; t < s; t += 4)
                                        (r = B.indexOf(e[t])),
                                            (n = B.indexOf(e[t + 1])),
                                            (a = B.indexOf(e[t + 2])),
                                            (i = B.indexOf(e[t + 3])),
                                            (u[l++] = (r << 2) | (n >> 4)),
                                            (u[l++] =
                                                ((15 & n) << 4) | (a >> 2)),
                                            (u[l++] =
                                                ((3 & a) << 6) | (63 & i));
                                    return c;
                                }
                                function _(e) {
                                    var t,
                                        r = new Uint8Array(e),
                                        n = "";
                                    for (t = 0; t < r.length; t += 3)
                                        (n += B[r[t] >> 2]),
                                            (n +=
                                                B[
                                                    ((3 & r[t]) << 4) |
                                                        (r[t + 1] >> 4)
                                                ]),
                                            (n +=
                                                B[
                                                    ((15 & r[t + 1]) << 2) |
                                                        (r[t + 2] >> 6)
                                                ]),
                                            (n += B[63 & r[t + 2]]);
                                    return (
                                        r.length % 3 == 2
                                            ? (n =
                                                  n.substring(0, n.length - 1) +
                                                  "=")
                                            : r.length % 3 == 1 &&
                                              (n =
                                                  n.substring(0, n.length - 2) +
                                                  "=="),
                                        n
                                    );
                                }
                                function E(e, t, r, n) {
                                    e.executeSql(
                                        "CREATE TABLE IF NOT EXISTS " +
                                            t.storeName +
                                            " (id INTEGER PRIMARY KEY, key unique, value)",
                                        [],
                                        r,
                                        n
                                    );
                                }
                                function S(e, t, r, n, a, i) {
                                    e.executeSql(
                                        r,
                                        n,
                                        a,
                                        function (e, o) {
                                            o.code === o.SYNTAX_ERR
                                                ? e.executeSql(
                                                      "SELECT name FROM sqlite_master WHERE type='table' AND name = ?",
                                                      [t.storeName],
                                                      function (e, s) {
                                                          s.rows.length
                                                              ? i(e, o)
                                                              : E(
                                                                    e,
                                                                    t,
                                                                    function () {
                                                                        e.executeSql(
                                                                            r,
                                                                            n,
                                                                            a,
                                                                            i
                                                                        );
                                                                    },
                                                                    i
                                                                );
                                                      },
                                                      i
                                                  )
                                                : i(e, o);
                                        },
                                        i
                                    );
                                }
                                function C(e, t, r, n) {
                                    var i = this;
                                    e = o(e);
                                    var s = new I(function (a, o) {
                                        i.ready()
                                            .then(function () {
                                                void 0 === t && (t = null);
                                                var s = t,
                                                    l = i._dbInfo;
                                                l.serializer.serialize(
                                                    t,
                                                    function (t, c) {
                                                        c
                                                            ? o(c)
                                                            : l.db.transaction(
                                                                  function (r) {
                                                                      S(
                                                                          r,
                                                                          l,
                                                                          "INSERT OR REPLACE INTO " +
                                                                              l.storeName +
                                                                              " (key, value) VALUES (?, ?)",
                                                                          [
                                                                              e,
                                                                              t,
                                                                          ],
                                                                          function () {
                                                                              a(
                                                                                  s
                                                                              );
                                                                          },
                                                                          function (
                                                                              e,
                                                                              t
                                                                          ) {
                                                                              o(
                                                                                  t
                                                                              );
                                                                          }
                                                                      );
                                                                  },
                                                                  function (t) {
                                                                      if (
                                                                          t.code ===
                                                                          t.QUOTA_ERR
                                                                      ) {
                                                                          if (
                                                                              n >
                                                                              0
                                                                          )
                                                                              return void a(
                                                                                  C.apply(
                                                                                      i,
                                                                                      [
                                                                                          e,
                                                                                          s,
                                                                                          r,
                                                                                          n -
                                                                                              1,
                                                                                      ]
                                                                                  )
                                                                              );
                                                                          o(t);
                                                                      }
                                                                  }
                                                              );
                                                    }
                                                );
                                            })
                                            .catch(o);
                                    });
                                    return a(s, r), s;
                                }
                                function A(e, t) {
                                    var r = e.name + "/";
                                    return (
                                        e.storeName !== t.storeName &&
                                            (r += e.storeName + "/"),
                                        r
                                    );
                                }
                                function k() {
                                    return (
                                        !(function () {
                                            var e = "_localforage_support_test";
                                            try {
                                                return (
                                                    localStorage.setItem(e, !0),
                                                    localStorage.removeItem(e),
                                                    !1
                                                );
                                            } catch (e) {
                                                return !0;
                                            }
                                        })() || localStorage.length > 0
                                    );
                                }
                                function x(e, t) {
                                    e[t] = function () {
                                        var r = arguments;
                                        return e.ready().then(function () {
                                            return e[t].apply(e, r);
                                        });
                                    };
                                }
                                function P() {
                                    for (var e = 1; e < arguments.length; e++) {
                                        var t = arguments[e];
                                        if (t)
                                            for (var r in t)
                                                t.hasOwnProperty(r) &&
                                                    (le(t[r])
                                                        ? (arguments[0][r] = t[
                                                              r
                                                          ].slice())
                                                        : (arguments[0][r] =
                                                              t[r]));
                                    }
                                    return arguments[0];
                                }
                                var T =
                                        "function" == typeof Symbol &&
                                        "symbol" == typeof Symbol.iterator
                                            ? function (e) {
                                                  return typeof e;
                                              }
                                            : function (e) {
                                                  return e &&
                                                      "function" ==
                                                          typeof Symbol &&
                                                      e.constructor ===
                                                          Symbol &&
                                                      e !== Symbol.prototype
                                                      ? "symbol"
                                                      : typeof e;
                                              },
                                    L = (function () {
                                        try {
                                            if ("undefined" != typeof indexedDB)
                                                return indexedDB;
                                            if (
                                                "undefined" !=
                                                typeof webkitIndexedDB
                                            )
                                                return webkitIndexedDB;
                                            if (
                                                "undefined" !=
                                                typeof mozIndexedDB
                                            )
                                                return mozIndexedDB;
                                            if (
                                                "undefined" != typeof OIndexedDB
                                            )
                                                return OIndexedDB;
                                            if (
                                                "undefined" !=
                                                typeof msIndexedDB
                                            )
                                                return msIndexedDB;
                                        } catch (e) {
                                            return;
                                        }
                                    })();
                                "undefined" == typeof Promise && e(3);
                                var I = Promise,
                                    O = "local-forage-detect-blob-support",
                                    M = void 0,
                                    D = {},
                                    j = Object.prototype.toString,
                                    R = "readonly",
                                    F = "readwrite",
                                    N = {
                                        _driver: "asyncStorage",
                                        _initStorage: function (e) {
                                            function t() {
                                                return I.resolve();
                                            }
                                            var r = this,
                                                n = { db: null };
                                            if (e) for (var a in e) n[a] = e[a];
                                            var i = D[n.name];
                                            i ||
                                                ((i = {
                                                    forages: [],
                                                    db: null,
                                                    dbReady: null,
                                                    deferredOperations: [],
                                                }),
                                                (D[n.name] = i)),
                                                i.forages.push(r),
                                                r._initReady ||
                                                    ((r._initReady = r.ready),
                                                    (r.ready = v));
                                            for (
                                                var o = [], s = 0;
                                                s < i.forages.length;
                                                s++
                                            ) {
                                                var l = i.forages[s];
                                                l !== r &&
                                                    o.push(
                                                        l._initReady().catch(t)
                                                    );
                                            }
                                            var c = i.forages.slice(0);
                                            return I.all(o)
                                                .then(function () {
                                                    return (n.db = i.db), h(n);
                                                })
                                                .then(function (e) {
                                                    return (
                                                        (n.db = e),
                                                        m(
                                                            n,
                                                            r._defaultConfig
                                                                .version
                                                        )
                                                            ? f(n)
                                                            : e
                                                    );
                                                })
                                                .then(function (e) {
                                                    (n.db = i.db = e),
                                                        (r._dbInfo = n);
                                                    for (
                                                        var t = 0;
                                                        t < c.length;
                                                        t++
                                                    ) {
                                                        var a = c[t];
                                                        a !== r &&
                                                            ((a._dbInfo.db =
                                                                n.db),
                                                            (a._dbInfo.version =
                                                                n.version));
                                                    }
                                                });
                                        },
                                        _support: (function () {
                                            try {
                                                if (!L || !L.open) return !1;
                                                var e =
                                                        "undefined" !=
                                                            typeof openDatabase &&
                                                        /(Safari|iPhone|iPad|iPod)/.test(
                                                            navigator.userAgent
                                                        ) &&
                                                        !/Chrome/.test(
                                                            navigator.userAgent
                                                        ) &&
                                                        !/BlackBerry/.test(
                                                            navigator.platform
                                                        ),
                                                    t =
                                                        "function" ==
                                                            typeof fetch &&
                                                        -1 !==
                                                            fetch
                                                                .toString()
                                                                .indexOf(
                                                                    "[native code"
                                                                );
                                                return (
                                                    (!e || t) &&
                                                    "undefined" !=
                                                        typeof indexedDB &&
                                                    "undefined" !=
                                                        typeof IDBKeyRange
                                                );
                                            } catch (e) {
                                                return !1;
                                            }
                                        })(),
                                        iterate: function (e, t) {
                                            var r = this,
                                                n = new I(function (t, n) {
                                                    r.ready()
                                                        .then(function () {
                                                            b(
                                                                r._dbInfo,
                                                                R,
                                                                function (
                                                                    a,
                                                                    i
                                                                ) {
                                                                    if (a)
                                                                        return n(
                                                                            a
                                                                        );
                                                                    try {
                                                                        var o = i
                                                                                .objectStore(
                                                                                    r
                                                                                        ._dbInfo
                                                                                        .storeName
                                                                                )
                                                                                .openCursor(),
                                                                            s = 1;
                                                                        (o.onsuccess = function () {
                                                                            var r =
                                                                                o.result;
                                                                            if (
                                                                                r
                                                                            ) {
                                                                                var n =
                                                                                    r.value;
                                                                                g(
                                                                                    n
                                                                                ) &&
                                                                                    (n = y(
                                                                                        n
                                                                                    ));
                                                                                var a = e(
                                                                                    n,
                                                                                    r.key,
                                                                                    s++
                                                                                );
                                                                                void 0 !==
                                                                                a
                                                                                    ? t(
                                                                                          a
                                                                                      )
                                                                                    : r.continue();
                                                                            } else
                                                                                t();
                                                                        }),
                                                                            (o.onerror = function () {
                                                                                n(
                                                                                    o.error
                                                                                );
                                                                            });
                                                                    } catch (e) {
                                                                        n(e);
                                                                    }
                                                                }
                                                            );
                                                        })
                                                        .catch(n);
                                                });
                                            return a(n, t), n;
                                        },
                                        getItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = new I(function (t, n) {
                                                r.ready()
                                                    .then(function () {
                                                        b(
                                                            r._dbInfo,
                                                            R,
                                                            function (a, i) {
                                                                if (a)
                                                                    return n(a);
                                                                try {
                                                                    var o = i
                                                                        .objectStore(
                                                                            r
                                                                                ._dbInfo
                                                                                .storeName
                                                                        )
                                                                        .get(e);
                                                                    (o.onsuccess = function () {
                                                                        var e =
                                                                            o.result;
                                                                        void 0 ===
                                                                            e &&
                                                                            (e = null),
                                                                            g(
                                                                                e
                                                                            ) &&
                                                                                (e = y(
                                                                                    e
                                                                                )),
                                                                            t(
                                                                                e
                                                                            );
                                                                    }),
                                                                        (o.onerror = function () {
                                                                            n(
                                                                                o.error
                                                                            );
                                                                        });
                                                                } catch (e) {
                                                                    n(e);
                                                                }
                                                            }
                                                        );
                                                    })
                                                    .catch(n);
                                            });
                                            return a(n, t), n;
                                        },
                                        setItem: function (e, t, r) {
                                            var n = this;
                                            e = o(e);
                                            var i = new I(function (r, a) {
                                                var i;
                                                n.ready()
                                                    .then(function () {
                                                        return (
                                                            (i = n._dbInfo),
                                                            "[object Blob]" ===
                                                            j.call(t)
                                                                ? l(i.db).then(
                                                                      function (
                                                                          e
                                                                      ) {
                                                                          return e
                                                                              ? t
                                                                              : (function (
                                                                                    e
                                                                                ) {
                                                                                    return new I(
                                                                                        function (
                                                                                            t,
                                                                                            r
                                                                                        ) {
                                                                                            var n = new FileReader();
                                                                                            (n.onerror = r),
                                                                                                (n.onloadend = function (
                                                                                                    r
                                                                                                ) {
                                                                                                    var n = btoa(
                                                                                                        r
                                                                                                            .target
                                                                                                            .result ||
                                                                                                            ""
                                                                                                    );
                                                                                                    t(
                                                                                                        {
                                                                                                            __local_forage_encoded_blob: !0,
                                                                                                            data: n,
                                                                                                            type:
                                                                                                                e.type,
                                                                                                        }
                                                                                                    );
                                                                                                }),
                                                                                                n.readAsBinaryString(
                                                                                                    e
                                                                                                );
                                                                                        }
                                                                                    );
                                                                                })(
                                                                                    t
                                                                                );
                                                                      }
                                                                  )
                                                                : t
                                                        );
                                                    })
                                                    .then(function (t) {
                                                        b(
                                                            n._dbInfo,
                                                            F,
                                                            function (i, o) {
                                                                if (i)
                                                                    return a(i);
                                                                try {
                                                                    var s = o.objectStore(
                                                                        n
                                                                            ._dbInfo
                                                                            .storeName
                                                                    );
                                                                    null ===
                                                                        t &&
                                                                        (t = void 0);
                                                                    var l = s.put(
                                                                        t,
                                                                        e
                                                                    );
                                                                    (o.oncomplete = function () {
                                                                        void 0 ===
                                                                            t &&
                                                                            (t = null),
                                                                            r(
                                                                                t
                                                                            );
                                                                    }),
                                                                        (o.onabort = o.onerror = function () {
                                                                            var e = l.error
                                                                                ? l.error
                                                                                : l
                                                                                      .transaction
                                                                                      .error;
                                                                            a(
                                                                                e
                                                                            );
                                                                        });
                                                                } catch (e) {
                                                                    a(e);
                                                                }
                                                            }
                                                        );
                                                    })
                                                    .catch(a);
                                            });
                                            return a(i, r), i;
                                        },
                                        removeItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = new I(function (t, n) {
                                                r.ready()
                                                    .then(function () {
                                                        b(
                                                            r._dbInfo,
                                                            F,
                                                            function (a, i) {
                                                                if (a)
                                                                    return n(a);
                                                                try {
                                                                    var o = i
                                                                        .objectStore(
                                                                            r
                                                                                ._dbInfo
                                                                                .storeName
                                                                        )
                                                                        .delete(
                                                                            e
                                                                        );
                                                                    (i.oncomplete = function () {
                                                                        t();
                                                                    }),
                                                                        (i.onerror = function () {
                                                                            n(
                                                                                o.error
                                                                            );
                                                                        }),
                                                                        (i.onabort = function () {
                                                                            var e = o.error
                                                                                ? o.error
                                                                                : o
                                                                                      .transaction
                                                                                      .error;
                                                                            n(
                                                                                e
                                                                            );
                                                                        });
                                                                } catch (e) {
                                                                    n(e);
                                                                }
                                                            }
                                                        );
                                                    })
                                                    .catch(n);
                                            });
                                            return a(n, t), n;
                                        },
                                        clear: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            b(
                                                                t._dbInfo,
                                                                F,
                                                                function (
                                                                    n,
                                                                    a
                                                                ) {
                                                                    if (n)
                                                                        return r(
                                                                            n
                                                                        );
                                                                    try {
                                                                        var i = a
                                                                            .objectStore(
                                                                                t
                                                                                    ._dbInfo
                                                                                    .storeName
                                                                            )
                                                                            .clear();
                                                                        (a.oncomplete = function () {
                                                                            e();
                                                                        }),
                                                                            (a.onabort = a.onerror = function () {
                                                                                var e = i.error
                                                                                    ? i.error
                                                                                    : i
                                                                                          .transaction
                                                                                          .error;
                                                                                r(
                                                                                    e
                                                                                );
                                                                            });
                                                                    } catch (e) {
                                                                        r(e);
                                                                    }
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        length: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            b(
                                                                t._dbInfo,
                                                                R,
                                                                function (
                                                                    n,
                                                                    a
                                                                ) {
                                                                    if (n)
                                                                        return r(
                                                                            n
                                                                        );
                                                                    try {
                                                                        var i = a
                                                                            .objectStore(
                                                                                t
                                                                                    ._dbInfo
                                                                                    .storeName
                                                                            )
                                                                            .count();
                                                                        (i.onsuccess = function () {
                                                                            e(
                                                                                i.result
                                                                            );
                                                                        }),
                                                                            (i.onerror = function () {
                                                                                r(
                                                                                    i.error
                                                                                );
                                                                            });
                                                                    } catch (e) {
                                                                        r(e);
                                                                    }
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        key: function (e, t) {
                                            var r = this,
                                                n = new I(function (t, n) {
                                                    e < 0
                                                        ? t(null)
                                                        : r
                                                              .ready()
                                                              .then(
                                                                  function () {
                                                                      b(
                                                                          r._dbInfo,
                                                                          R,
                                                                          function (
                                                                              a,
                                                                              i
                                                                          ) {
                                                                              if (
                                                                                  a
                                                                              )
                                                                                  return n(
                                                                                      a
                                                                                  );
                                                                              try {
                                                                                  var o = !1,
                                                                                      s = i
                                                                                          .objectStore(
                                                                                              r
                                                                                                  ._dbInfo
                                                                                                  .storeName
                                                                                          )
                                                                                          .openKeyCursor();
                                                                                  (s.onsuccess = function () {
                                                                                      var r =
                                                                                          s.result;
                                                                                      r
                                                                                          ? 0 ===
                                                                                            e
                                                                                              ? t(
                                                                                                    r.key
                                                                                                )
                                                                                              : o
                                                                                              ? t(
                                                                                                    r.key
                                                                                                )
                                                                                              : ((o = !0),
                                                                                                r.advance(
                                                                                                    e
                                                                                                ))
                                                                                          : t(
                                                                                                null
                                                                                            );
                                                                                  }),
                                                                                      (s.onerror = function () {
                                                                                          n(
                                                                                              s.error
                                                                                          );
                                                                                      });
                                                                              } catch (e) {
                                                                                  n(
                                                                                      e
                                                                                  );
                                                                              }
                                                                          }
                                                                      );
                                                                  }
                                                              )
                                                              .catch(n);
                                                });
                                            return a(n, t), n;
                                        },
                                        keys: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            b(
                                                                t._dbInfo,
                                                                R,
                                                                function (
                                                                    n,
                                                                    a
                                                                ) {
                                                                    if (n)
                                                                        return r(
                                                                            n
                                                                        );
                                                                    try {
                                                                        var i = a
                                                                                .objectStore(
                                                                                    t
                                                                                        ._dbInfo
                                                                                        .storeName
                                                                                )
                                                                                .openKeyCursor(),
                                                                            o = [];
                                                                        (i.onsuccess = function () {
                                                                            var t =
                                                                                i.result;
                                                                            t
                                                                                ? (o.push(
                                                                                      t.key
                                                                                  ),
                                                                                  t.continue())
                                                                                : e(
                                                                                      o
                                                                                  );
                                                                        }),
                                                                            (i.onerror = function () {
                                                                                r(
                                                                                    i.error
                                                                                );
                                                                            });
                                                                    } catch (e) {
                                                                        r(e);
                                                                    }
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        dropInstance: function (e, t) {
                                            t = s.apply(this, arguments);
                                            var r = this.config();
                                            (e =
                                                ("function" != typeof e && e) ||
                                                {}).name ||
                                                ((e.name = e.name || r.name),
                                                (e.storeName =
                                                    e.storeName ||
                                                    r.storeName));
                                            var n;
                                            if (e.name) {
                                                var i =
                                                    e.name === r.name &&
                                                    this._dbInfo.db
                                                        ? I.resolve(
                                                              this._dbInfo.db
                                                          )
                                                        : h(e).then(function (
                                                              t
                                                          ) {
                                                              var r = D[e.name],
                                                                  n = r.forages;
                                                              r.db = t;
                                                              for (
                                                                  var a = 0;
                                                                  a < n.length;
                                                                  a++
                                                              )
                                                                  n[
                                                                      a
                                                                  ]._dbInfo.db = t;
                                                              return t;
                                                          });
                                                n = e.storeName
                                                    ? i.then(function (t) {
                                                          if (
                                                              t.objectStoreNames.contains(
                                                                  e.storeName
                                                              )
                                                          ) {
                                                              var r =
                                                                  t.version + 1;
                                                              c(e);
                                                              var n = D[e.name],
                                                                  a = n.forages;
                                                              t.close();
                                                              for (
                                                                  var i = 0;
                                                                  i < a.length;
                                                                  i++
                                                              ) {
                                                                  var o = a[i];
                                                                  (o._dbInfo.db = null),
                                                                      (o._dbInfo.version = r);
                                                              }
                                                              return new I(
                                                                  function (
                                                                      t,
                                                                      n
                                                                  ) {
                                                                      var a = L.open(
                                                                          e.name,
                                                                          r
                                                                      );
                                                                      (a.onerror = function (
                                                                          e
                                                                      ) {
                                                                          a.result.close(),
                                                                              n(
                                                                                  e
                                                                              );
                                                                      }),
                                                                          (a.onupgradeneeded = function () {
                                                                              a.result.deleteObjectStore(
                                                                                  e.storeName
                                                                              );
                                                                          }),
                                                                          (a.onsuccess = function () {
                                                                              var e =
                                                                                  a.result;
                                                                              e.close(),
                                                                                  t(
                                                                                      e
                                                                                  );
                                                                          });
                                                                  }
                                                              )
                                                                  .then(
                                                                      function (
                                                                          e
                                                                      ) {
                                                                          n.db = e;
                                                                          for (
                                                                              var t = 0;
                                                                              t <
                                                                              a.length;
                                                                              t++
                                                                          ) {
                                                                              var r =
                                                                                  a[
                                                                                      t
                                                                                  ];
                                                                              (r._dbInfo.db = e),
                                                                                  u(
                                                                                      r._dbInfo
                                                                                  );
                                                                          }
                                                                      }
                                                                  )
                                                                  .catch(
                                                                      function (
                                                                          t
                                                                      ) {
                                                                          throw (
                                                                              ((
                                                                                  d(
                                                                                      e,
                                                                                      t
                                                                                  ) ||
                                                                                  I.resolve()
                                                                              ).catch(
                                                                                  function () {}
                                                                              ),
                                                                              t)
                                                                          );
                                                                      }
                                                                  );
                                                          }
                                                      })
                                                    : i.then(function (t) {
                                                          c(e);
                                                          var r = D[e.name],
                                                              n = r.forages;
                                                          t.close();
                                                          for (
                                                              var a = 0;
                                                              a < n.length;
                                                              a++
                                                          )
                                                              n[
                                                                  a
                                                              ]._dbInfo.db = null;
                                                          return new I(
                                                              function (t, r) {
                                                                  var n = L.deleteDatabase(
                                                                      e.name
                                                                  );
                                                                  (n.onerror = n.onblocked = function (
                                                                      e
                                                                  ) {
                                                                      var t =
                                                                          n.result;
                                                                      t &&
                                                                          t.close(),
                                                                          r(e);
                                                                  }),
                                                                      (n.onsuccess = function () {
                                                                          var e =
                                                                              n.result;
                                                                          e &&
                                                                              e.close(),
                                                                              t(
                                                                                  e
                                                                              );
                                                                      });
                                                              }
                                                          )
                                                              .then(function (
                                                                  e
                                                              ) {
                                                                  r.db = e;
                                                                  for (
                                                                      var t = 0;
                                                                      t <
                                                                      n.length;
                                                                      t++
                                                                  )
                                                                      u(
                                                                          n[t]
                                                                              ._dbInfo
                                                                      );
                                                              })
                                                              .catch(function (
                                                                  t
                                                              ) {
                                                                  throw (
                                                                      ((
                                                                          d(
                                                                              e,
                                                                              t
                                                                          ) ||
                                                                          I.resolve()
                                                                      ).catch(
                                                                          function () {}
                                                                      ),
                                                                      t)
                                                                  );
                                                              });
                                                      });
                                            } else
                                                n = I.reject(
                                                    "Invalid arguments"
                                                );
                                            return a(n, t), n;
                                        },
                                    },
                                    B =
                                        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                                    $ = "~~local_forage_type~",
                                    V = /^~~local_forage_type~([^~]+)~/,
                                    z = "__lfsc__:",
                                    q = z.length,
                                    G = "arbf",
                                    U = "blob",
                                    H = "si08",
                                    W = "ui08",
                                    K = "uic8",
                                    Y = "si16",
                                    Q = "si32",
                                    X = "ur16",
                                    Z = "ui32",
                                    J = "fl32",
                                    ee = "fl64",
                                    te = q + G.length,
                                    re = Object.prototype.toString,
                                    ne = {
                                        serialize: function (e, t) {
                                            var r = "";
                                            if (
                                                (e && (r = re.call(e)),
                                                e &&
                                                    ("[object ArrayBuffer]" ===
                                                        r ||
                                                        (e.buffer &&
                                                            "[object ArrayBuffer]" ===
                                                                re.call(
                                                                    e.buffer
                                                                ))))
                                            ) {
                                                var n,
                                                    a = z;
                                                e instanceof ArrayBuffer
                                                    ? ((n = e), (a += G))
                                                    : ((n = e.buffer),
                                                      "[object Int8Array]" === r
                                                          ? (a += H)
                                                          : "[object Uint8Array]" ===
                                                            r
                                                          ? (a += W)
                                                          : "[object Uint8ClampedArray]" ===
                                                            r
                                                          ? (a += K)
                                                          : "[object Int16Array]" ===
                                                            r
                                                          ? (a += Y)
                                                          : "[object Uint16Array]" ===
                                                            r
                                                          ? (a += X)
                                                          : "[object Int32Array]" ===
                                                            r
                                                          ? (a += Q)
                                                          : "[object Uint32Array]" ===
                                                            r
                                                          ? (a += Z)
                                                          : "[object Float32Array]" ===
                                                            r
                                                          ? (a += J)
                                                          : "[object Float64Array]" ===
                                                            r
                                                          ? (a += ee)
                                                          : t(
                                                                new Error(
                                                                    "Failed to get type for BinaryArray"
                                                                )
                                                            )),
                                                    t(a + _(n));
                                            } else if ("[object Blob]" === r) {
                                                var i = new FileReader();
                                                (i.onload = function () {
                                                    var r =
                                                        $ +
                                                        e.type +
                                                        "~" +
                                                        _(this.result);
                                                    t(z + U + r);
                                                }),
                                                    i.readAsArrayBuffer(e);
                                            } else
                                                try {
                                                    t(JSON.stringify(e));
                                                } catch (r) {
                                                    console.error(
                                                        "Couldn't convert value into a JSON string: ",
                                                        e
                                                    ),
                                                        t(null, r);
                                                }
                                        },
                                        deserialize: function (e) {
                                            if (e.substring(0, q) !== z)
                                                return JSON.parse(e);
                                            var t,
                                                r = e.substring(te),
                                                a = e.substring(q, te);
                                            if (a === U && V.test(r)) {
                                                var i = r.match(V);
                                                (t = i[1]),
                                                    (r = r.substring(
                                                        i[0].length
                                                    ));
                                            }
                                            var o = w(r);
                                            switch (a) {
                                                case G:
                                                    return o;
                                                case U:
                                                    return n([o], { type: t });
                                                case H:
                                                    return new Int8Array(o);
                                                case W:
                                                    return new Uint8Array(o);
                                                case K:
                                                    return new Uint8ClampedArray(
                                                        o
                                                    );
                                                case Y:
                                                    return new Int16Array(o);
                                                case X:
                                                    return new Uint16Array(o);
                                                case Q:
                                                    return new Int32Array(o);
                                                case Z:
                                                    return new Uint32Array(o);
                                                case J:
                                                    return new Float32Array(o);
                                                case ee:
                                                    return new Float64Array(o);
                                                default:
                                                    throw new Error(
                                                        "Unkown type: " + a
                                                    );
                                            }
                                        },
                                        stringToBuffer: w,
                                        bufferToString: _,
                                    },
                                    ae = {
                                        _driver: "webSQLStorage",
                                        _initStorage: function (e) {
                                            var t = this,
                                                r = { db: null };
                                            if (e)
                                                for (var n in e)
                                                    r[n] =
                                                        "string" != typeof e[n]
                                                            ? e[n].toString()
                                                            : e[n];
                                            var a = new I(function (e, n) {
                                                try {
                                                    r.db = openDatabase(
                                                        r.name,
                                                        String(r.version),
                                                        r.description,
                                                        r.size
                                                    );
                                                } catch (e) {
                                                    return n(e);
                                                }
                                                r.db.transaction(function (a) {
                                                    E(
                                                        a,
                                                        r,
                                                        function () {
                                                            (t._dbInfo = r),
                                                                e();
                                                        },
                                                        function (e, t) {
                                                            n(t);
                                                        }
                                                    );
                                                }, n);
                                            });
                                            return (r.serializer = ne), a;
                                        },
                                        _support:
                                            "function" == typeof openDatabase,
                                        iterate: function (e, t) {
                                            var r = this,
                                                n = new I(function (t, n) {
                                                    r.ready()
                                                        .then(function () {
                                                            var a = r._dbInfo;
                                                            a.db.transaction(
                                                                function (r) {
                                                                    S(
                                                                        r,
                                                                        a,
                                                                        "SELECT * FROM " +
                                                                            a.storeName,
                                                                        [],
                                                                        function (
                                                                            r,
                                                                            n
                                                                        ) {
                                                                            for (
                                                                                var i =
                                                                                        n.rows,
                                                                                    o =
                                                                                        i.length,
                                                                                    s = 0;
                                                                                s <
                                                                                o;
                                                                                s++
                                                                            ) {
                                                                                var l = i.item(
                                                                                        s
                                                                                    ),
                                                                                    c =
                                                                                        l.value;
                                                                                if (
                                                                                    (c &&
                                                                                        (c = a.serializer.deserialize(
                                                                                            c
                                                                                        )),
                                                                                    void 0 !==
                                                                                        (c = e(
                                                                                            c,
                                                                                            l.key,
                                                                                            s +
                                                                                                1
                                                                                        )))
                                                                                )
                                                                                    return void t(
                                                                                        c
                                                                                    );
                                                                            }
                                                                            t();
                                                                        },
                                                                        function (
                                                                            e,
                                                                            t
                                                                        ) {
                                                                            n(
                                                                                t
                                                                            );
                                                                        }
                                                                    );
                                                                }
                                                            );
                                                        })
                                                        .catch(n);
                                                });
                                            return a(n, t), n;
                                        },
                                        getItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = new I(function (t, n) {
                                                r.ready()
                                                    .then(function () {
                                                        var a = r._dbInfo;
                                                        a.db.transaction(
                                                            function (r) {
                                                                S(
                                                                    r,
                                                                    a,
                                                                    "SELECT * FROM " +
                                                                        a.storeName +
                                                                        " WHERE key = ? LIMIT 1",
                                                                    [e],
                                                                    function (
                                                                        e,
                                                                        r
                                                                    ) {
                                                                        var n = r
                                                                            .rows
                                                                            .length
                                                                            ? r.rows.item(
                                                                                  0
                                                                              )
                                                                                  .value
                                                                            : null;
                                                                        n &&
                                                                            (n = a.serializer.deserialize(
                                                                                n
                                                                            )),
                                                                            t(
                                                                                n
                                                                            );
                                                                    },
                                                                    function (
                                                                        e,
                                                                        t
                                                                    ) {
                                                                        n(t);
                                                                    }
                                                                );
                                                            }
                                                        );
                                                    })
                                                    .catch(n);
                                            });
                                            return a(n, t), n;
                                        },
                                        setItem: function (e, t, r) {
                                            return C.apply(this, [e, t, r, 1]);
                                        },
                                        removeItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = new I(function (t, n) {
                                                r.ready()
                                                    .then(function () {
                                                        var a = r._dbInfo;
                                                        a.db.transaction(
                                                            function (r) {
                                                                S(
                                                                    r,
                                                                    a,
                                                                    "DELETE FROM " +
                                                                        a.storeName +
                                                                        " WHERE key = ?",
                                                                    [e],
                                                                    function () {
                                                                        t();
                                                                    },
                                                                    function (
                                                                        e,
                                                                        t
                                                                    ) {
                                                                        n(t);
                                                                    }
                                                                );
                                                            }
                                                        );
                                                    })
                                                    .catch(n);
                                            });
                                            return a(n, t), n;
                                        },
                                        clear: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            var n = t._dbInfo;
                                                            n.db.transaction(
                                                                function (t) {
                                                                    S(
                                                                        t,
                                                                        n,
                                                                        "DELETE FROM " +
                                                                            n.storeName,
                                                                        [],
                                                                        function () {
                                                                            e();
                                                                        },
                                                                        function (
                                                                            e,
                                                                            t
                                                                        ) {
                                                                            r(
                                                                                t
                                                                            );
                                                                        }
                                                                    );
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        length: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            var n = t._dbInfo;
                                                            n.db.transaction(
                                                                function (t) {
                                                                    S(
                                                                        t,
                                                                        n,
                                                                        "SELECT COUNT(key) as c FROM " +
                                                                            n.storeName,
                                                                        [],
                                                                        function (
                                                                            t,
                                                                            r
                                                                        ) {
                                                                            var n = r.rows.item(
                                                                                0
                                                                            ).c;
                                                                            e(
                                                                                n
                                                                            );
                                                                        },
                                                                        function (
                                                                            e,
                                                                            t
                                                                        ) {
                                                                            r(
                                                                                t
                                                                            );
                                                                        }
                                                                    );
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        key: function (e, t) {
                                            var r = this,
                                                n = new I(function (t, n) {
                                                    r.ready()
                                                        .then(function () {
                                                            var a = r._dbInfo;
                                                            a.db.transaction(
                                                                function (r) {
                                                                    S(
                                                                        r,
                                                                        a,
                                                                        "SELECT key FROM " +
                                                                            a.storeName +
                                                                            " WHERE id = ? LIMIT 1",
                                                                        [e + 1],
                                                                        function (
                                                                            e,
                                                                            r
                                                                        ) {
                                                                            var n = r
                                                                                .rows
                                                                                .length
                                                                                ? r.rows.item(
                                                                                      0
                                                                                  )
                                                                                      .key
                                                                                : null;
                                                                            t(
                                                                                n
                                                                            );
                                                                        },
                                                                        function (
                                                                            e,
                                                                            t
                                                                        ) {
                                                                            n(
                                                                                t
                                                                            );
                                                                        }
                                                                    );
                                                                }
                                                            );
                                                        })
                                                        .catch(n);
                                                });
                                            return a(n, t), n;
                                        },
                                        keys: function (e) {
                                            var t = this,
                                                r = new I(function (e, r) {
                                                    t.ready()
                                                        .then(function () {
                                                            var n = t._dbInfo;
                                                            n.db.transaction(
                                                                function (t) {
                                                                    S(
                                                                        t,
                                                                        n,
                                                                        "SELECT key FROM " +
                                                                            n.storeName,
                                                                        [],
                                                                        function (
                                                                            t,
                                                                            r
                                                                        ) {
                                                                            for (
                                                                                var n = [],
                                                                                    a = 0;
                                                                                a <
                                                                                r
                                                                                    .rows
                                                                                    .length;
                                                                                a++
                                                                            )
                                                                                n.push(
                                                                                    r.rows.item(
                                                                                        a
                                                                                    )
                                                                                        .key
                                                                                );
                                                                            e(
                                                                                n
                                                                            );
                                                                        },
                                                                        function (
                                                                            e,
                                                                            t
                                                                        ) {
                                                                            r(
                                                                                t
                                                                            );
                                                                        }
                                                                    );
                                                                }
                                                            );
                                                        })
                                                        .catch(r);
                                                });
                                            return a(r, e), r;
                                        },
                                        dropInstance: function (e, t) {
                                            t = s.apply(this, arguments);
                                            var r = this.config();
                                            (e =
                                                ("function" != typeof e && e) ||
                                                {}).name ||
                                                ((e.name = e.name || r.name),
                                                (e.storeName =
                                                    e.storeName ||
                                                    r.storeName));
                                            var n,
                                                i = this;
                                            return (
                                                (n = e.name
                                                    ? new I(function (t) {
                                                          var n;
                                                          (n =
                                                              e.name === r.name
                                                                  ? i._dbInfo.db
                                                                  : openDatabase(
                                                                        e.name,
                                                                        "",
                                                                        "",
                                                                        0
                                                                    )),
                                                              e.storeName
                                                                  ? t({
                                                                        db: n,
                                                                        storeNames: [
                                                                            e.storeName,
                                                                        ],
                                                                    })
                                                                  : t(
                                                                        (function (
                                                                            e
                                                                        ) {
                                                                            return new I(
                                                                                function (
                                                                                    t,
                                                                                    r
                                                                                ) {
                                                                                    e.transaction(
                                                                                        function (
                                                                                            n
                                                                                        ) {
                                                                                            n.executeSql(
                                                                                                "SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
                                                                                                [],
                                                                                                function (
                                                                                                    r,
                                                                                                    n
                                                                                                ) {
                                                                                                    for (
                                                                                                        var a = [],
                                                                                                            i = 0;
                                                                                                        i <
                                                                                                        n
                                                                                                            .rows
                                                                                                            .length;
                                                                                                        i++
                                                                                                    )
                                                                                                        a.push(
                                                                                                            n.rows.item(
                                                                                                                i
                                                                                                            )
                                                                                                                .name
                                                                                                        );
                                                                                                    t(
                                                                                                        {
                                                                                                            db: e,
                                                                                                            storeNames: a,
                                                                                                        }
                                                                                                    );
                                                                                                },
                                                                                                function (
                                                                                                    e,
                                                                                                    t
                                                                                                ) {
                                                                                                    r(
                                                                                                        t
                                                                                                    );
                                                                                                }
                                                                                            );
                                                                                        },
                                                                                        function (
                                                                                            e
                                                                                        ) {
                                                                                            r(
                                                                                                e
                                                                                            );
                                                                                        }
                                                                                    );
                                                                                }
                                                                            );
                                                                        })(n)
                                                                    );
                                                      }).then(function (e) {
                                                          return new I(
                                                              function (t, r) {
                                                                  e.db.transaction(
                                                                      function (
                                                                          n
                                                                      ) {
                                                                          function a(
                                                                              e
                                                                          ) {
                                                                              return new I(
                                                                                  function (
                                                                                      t,
                                                                                      r
                                                                                  ) {
                                                                                      n.executeSql(
                                                                                          "DROP TABLE IF EXISTS " +
                                                                                              e,
                                                                                          [],
                                                                                          function () {
                                                                                              t();
                                                                                          },
                                                                                          function (
                                                                                              e,
                                                                                              t
                                                                                          ) {
                                                                                              r(
                                                                                                  t
                                                                                              );
                                                                                          }
                                                                                      );
                                                                                  }
                                                                              );
                                                                          }
                                                                          for (
                                                                              var i = [],
                                                                                  o = 0,
                                                                                  s =
                                                                                      e
                                                                                          .storeNames
                                                                                          .length;
                                                                              o <
                                                                              s;
                                                                              o++
                                                                          )
                                                                              i.push(
                                                                                  a(
                                                                                      e
                                                                                          .storeNames[
                                                                                          o
                                                                                      ]
                                                                                  )
                                                                              );
                                                                          I.all(
                                                                              i
                                                                          )
                                                                              .then(
                                                                                  function () {
                                                                                      t();
                                                                                  }
                                                                              )
                                                                              .catch(
                                                                                  function (
                                                                                      e
                                                                                  ) {
                                                                                      r(
                                                                                          e
                                                                                      );
                                                                                  }
                                                                              );
                                                                      },
                                                                      function (
                                                                          e
                                                                      ) {
                                                                          r(e);
                                                                      }
                                                                  );
                                                              }
                                                          );
                                                      })
                                                    : I.reject(
                                                          "Invalid arguments"
                                                      )),
                                                a(n, t),
                                                n
                                            );
                                        },
                                    },
                                    ie = {
                                        _driver: "localStorageWrapper",
                                        _initStorage: function (e) {
                                            var t = {};
                                            if (e) for (var r in e) t[r] = e[r];
                                            return (
                                                (t.keyPrefix = A(
                                                    e,
                                                    this._defaultConfig
                                                )),
                                                k()
                                                    ? ((this._dbInfo = t),
                                                      (t.serializer = ne),
                                                      I.resolve())
                                                    : I.reject()
                                            );
                                        },
                                        _support: (function () {
                                            try {
                                                return (
                                                    "undefined" !=
                                                        typeof localStorage &&
                                                    "setItem" in localStorage &&
                                                    !!localStorage.setItem
                                                );
                                            } catch (e) {
                                                return !1;
                                            }
                                        })(),
                                        iterate: function (e, t) {
                                            var r = this,
                                                n = r.ready().then(function () {
                                                    for (
                                                        var t = r._dbInfo,
                                                            n = t.keyPrefix,
                                                            a = n.length,
                                                            i =
                                                                localStorage.length,
                                                            o = 1,
                                                            s = 0;
                                                        s < i;
                                                        s++
                                                    ) {
                                                        var l = localStorage.key(
                                                            s
                                                        );
                                                        if (
                                                            0 === l.indexOf(n)
                                                        ) {
                                                            var c = localStorage.getItem(
                                                                l
                                                            );
                                                            if (
                                                                (c &&
                                                                    (c = t.serializer.deserialize(
                                                                        c
                                                                    )),
                                                                void 0 !==
                                                                    (c = e(
                                                                        c,
                                                                        l.substring(
                                                                            a
                                                                        ),
                                                                        o++
                                                                    )))
                                                            )
                                                                return c;
                                                        }
                                                    }
                                                });
                                            return a(n, t), n;
                                        },
                                        getItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = r.ready().then(function () {
                                                var t = r._dbInfo,
                                                    n = localStorage.getItem(
                                                        t.keyPrefix + e
                                                    );
                                                return (
                                                    n &&
                                                        (n = t.serializer.deserialize(
                                                            n
                                                        )),
                                                    n
                                                );
                                            });
                                            return a(n, t), n;
                                        },
                                        setItem: function (e, t, r) {
                                            var n = this;
                                            e = o(e);
                                            var i = n.ready().then(function () {
                                                void 0 === t && (t = null);
                                                var r = t;
                                                return new I(function (a, i) {
                                                    var o = n._dbInfo;
                                                    o.serializer.serialize(
                                                        t,
                                                        function (t, n) {
                                                            if (n) i(n);
                                                            else
                                                                try {
                                                                    localStorage.setItem(
                                                                        o.keyPrefix +
                                                                            e,
                                                                        t
                                                                    ),
                                                                        a(r);
                                                                } catch (e) {
                                                                    ("QuotaExceededError" !==
                                                                        e.name &&
                                                                        "NS_ERROR_DOM_QUOTA_REACHED" !==
                                                                            e.name) ||
                                                                        i(e),
                                                                        i(e);
                                                                }
                                                        }
                                                    );
                                                });
                                            });
                                            return a(i, r), i;
                                        },
                                        removeItem: function (e, t) {
                                            var r = this;
                                            e = o(e);
                                            var n = r.ready().then(function () {
                                                var t = r._dbInfo;
                                                localStorage.removeItem(
                                                    t.keyPrefix + e
                                                );
                                            });
                                            return a(n, t), n;
                                        },
                                        clear: function (e) {
                                            var t = this,
                                                r = t.ready().then(function () {
                                                    for (
                                                        var e =
                                                                t._dbInfo
                                                                    .keyPrefix,
                                                            r =
                                                                localStorage.length -
                                                                1;
                                                        r >= 0;
                                                        r--
                                                    ) {
                                                        var n = localStorage.key(
                                                            r
                                                        );
                                                        0 === n.indexOf(e) &&
                                                            localStorage.removeItem(
                                                                n
                                                            );
                                                    }
                                                });
                                            return a(r, e), r;
                                        },
                                        length: function (e) {
                                            var t = this.keys().then(function (
                                                e
                                            ) {
                                                return e.length;
                                            });
                                            return a(t, e), t;
                                        },
                                        key: function (e, t) {
                                            var r = this,
                                                n = r.ready().then(function () {
                                                    var t,
                                                        n = r._dbInfo;
                                                    try {
                                                        t = localStorage.key(e);
                                                    } catch (e) {
                                                        t = null;
                                                    }
                                                    return (
                                                        t &&
                                                            (t = t.substring(
                                                                n.keyPrefix
                                                                    .length
                                                            )),
                                                        t
                                                    );
                                                });
                                            return a(n, t), n;
                                        },
                                        keys: function (e) {
                                            var t = this,
                                                r = t.ready().then(function () {
                                                    for (
                                                        var e = t._dbInfo,
                                                            r =
                                                                localStorage.length,
                                                            n = [],
                                                            a = 0;
                                                        a < r;
                                                        a++
                                                    ) {
                                                        var i = localStorage.key(
                                                            a
                                                        );
                                                        0 ===
                                                            i.indexOf(
                                                                e.keyPrefix
                                                            ) &&
                                                            n.push(
                                                                i.substring(
                                                                    e.keyPrefix
                                                                        .length
                                                                )
                                                            );
                                                    }
                                                    return n;
                                                });
                                            return a(r, e), r;
                                        },
                                        dropInstance: function (e, t) {
                                            if (
                                                ((t = s.apply(this, arguments)),
                                                !(e =
                                                    ("function" != typeof e &&
                                                        e) ||
                                                    {}).name)
                                            ) {
                                                var r = this.config();
                                                (e.name = e.name || r.name),
                                                    (e.storeName =
                                                        e.storeName ||
                                                        r.storeName);
                                            }
                                            var n,
                                                i = this;
                                            return (
                                                (n = e.name
                                                    ? new I(function (t) {
                                                          e.storeName
                                                              ? t(
                                                                    A(
                                                                        e,
                                                                        i._defaultConfig
                                                                    )
                                                                )
                                                              : t(e.name + "/");
                                                      }).then(function (e) {
                                                          for (
                                                              var t =
                                                                  localStorage.length -
                                                                  1;
                                                              t >= 0;
                                                              t--
                                                          ) {
                                                              var r = localStorage.key(
                                                                  t
                                                              );
                                                              0 ===
                                                                  r.indexOf(
                                                                      e
                                                                  ) &&
                                                                  localStorage.removeItem(
                                                                      r
                                                                  );
                                                          }
                                                      })
                                                    : I.reject(
                                                          "Invalid arguments"
                                                      )),
                                                a(n, t),
                                                n
                                            );
                                        },
                                    },
                                    oe = function (e, t) {
                                        return (
                                            e === t ||
                                            ("number" == typeof e &&
                                                "number" == typeof t &&
                                                isNaN(e) &&
                                                isNaN(t))
                                        );
                                    },
                                    se = function (e, t) {
                                        for (var r = e.length, n = 0; n < r; ) {
                                            if (oe(e[n], t)) return !0;
                                            n++;
                                        }
                                        return !1;
                                    },
                                    le =
                                        Array.isArray ||
                                        function (e) {
                                            return (
                                                "[object Array]" ===
                                                Object.prototype.toString.call(
                                                    e
                                                )
                                            );
                                        },
                                    ce = {},
                                    ue = {},
                                    de = {
                                        INDEXEDDB: N,
                                        WEBSQL: ae,
                                        LOCALSTORAGE: ie,
                                    },
                                    pe = [
                                        de.INDEXEDDB._driver,
                                        de.WEBSQL._driver,
                                        de.LOCALSTORAGE._driver,
                                    ],
                                    he = ["dropInstance"],
                                    fe = [
                                        "clear",
                                        "getItem",
                                        "iterate",
                                        "key",
                                        "keys",
                                        "length",
                                        "removeItem",
                                        "setItem",
                                    ].concat(he),
                                    me = {
                                        description: "",
                                        driver: pe.slice(),
                                        name: "localforage",
                                        size: 4980736,
                                        storeName: "keyvaluepairs",
                                        version: 1,
                                    },
                                    ye = new ((function () {
                                        function e(t) {
                                            !(function (e, t) {
                                                if (!(e instanceof t))
                                                    throw new TypeError(
                                                        "Cannot call a class as a function"
                                                    );
                                            })(this, e);
                                            for (var r in de)
                                                if (de.hasOwnProperty(r)) {
                                                    var n = de[r],
                                                        a = n._driver;
                                                    (this[r] = a),
                                                        ce[a] ||
                                                            this.defineDriver(
                                                                n
                                                            );
                                                }
                                            (this._defaultConfig = P({}, me)),
                                                (this._config = P(
                                                    {},
                                                    this._defaultConfig,
                                                    t
                                                )),
                                                (this._driverSet = null),
                                                (this._initDriver = null),
                                                (this._ready = !1),
                                                (this._dbInfo = null),
                                                this._wrapLibraryMethodsWithReady(),
                                                this.setDriver(
                                                    this._config.driver
                                                ).catch(function () {});
                                        }
                                        return (
                                            (e.prototype.config = function (e) {
                                                if (
                                                    "object" ===
                                                    (void 0 === e
                                                        ? "undefined"
                                                        : T(e))
                                                ) {
                                                    if (this._ready)
                                                        return new Error(
                                                            "Can't call config() after localforage has been used."
                                                        );
                                                    for (var t in e) {
                                                        if (
                                                            ("storeName" ===
                                                                t &&
                                                                (e[t] = e[
                                                                    t
                                                                ].replace(
                                                                    /\W/g,
                                                                    "_"
                                                                )),
                                                            "version" === t &&
                                                                "number" !=
                                                                    typeof e[t])
                                                        )
                                                            return new Error(
                                                                "Database version must be a number."
                                                            );
                                                        this._config[t] = e[t];
                                                    }
                                                    return (
                                                        !(
                                                            "driver" in e &&
                                                            e.driver
                                                        ) ||
                                                        this.setDriver(
                                                            this._config.driver
                                                        )
                                                    );
                                                }
                                                return "string" == typeof e
                                                    ? this._config[e]
                                                    : this._config;
                                            }),
                                            (e.prototype.defineDriver = function (
                                                e,
                                                t,
                                                r
                                            ) {
                                                var n = new I(function (t, r) {
                                                    try {
                                                        var n = e._driver,
                                                            i = new Error(
                                                                "Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"
                                                            );
                                                        if (!e._driver)
                                                            return void r(i);
                                                        for (
                                                            var o = fe.concat(
                                                                    "_initStorage"
                                                                ),
                                                                s = 0,
                                                                l = o.length;
                                                            s < l;
                                                            s++
                                                        ) {
                                                            var c = o[s];
                                                            if (
                                                                (!se(he, c) ||
                                                                    e[c]) &&
                                                                "function" !=
                                                                    typeof e[c]
                                                            )
                                                                return void r(
                                                                    i
                                                                );
                                                        }
                                                        !(function () {
                                                            for (
                                                                var t = function (
                                                                        e
                                                                    ) {
                                                                        return function () {
                                                                            var t = new Error(
                                                                                    "Method " +
                                                                                        e +
                                                                                        " is not implemented by the current driver"
                                                                                ),
                                                                                r = I.reject(
                                                                                    t
                                                                                );
                                                                            return (
                                                                                a(
                                                                                    r,
                                                                                    arguments[
                                                                                        arguments.length -
                                                                                            1
                                                                                    ]
                                                                                ),
                                                                                r
                                                                            );
                                                                        };
                                                                    },
                                                                    r = 0,
                                                                    n =
                                                                        he.length;
                                                                r < n;
                                                                r++
                                                            ) {
                                                                var i = he[r];
                                                                e[i] ||
                                                                    (e[i] = t(
                                                                        i
                                                                    ));
                                                            }
                                                        })();
                                                        var u = function (r) {
                                                            ce[n] &&
                                                                console.info(
                                                                    "Redefining LocalForage driver: " +
                                                                        n
                                                                ),
                                                                (ce[n] = e),
                                                                (ue[n] = r),
                                                                t();
                                                        };
                                                        "_support" in e
                                                            ? e._support &&
                                                              "function" ==
                                                                  typeof e._support
                                                                ? e
                                                                      ._support()
                                                                      .then(
                                                                          u,
                                                                          r
                                                                      )
                                                                : u(
                                                                      !!e._support
                                                                  )
                                                            : u(!0);
                                                    } catch (e) {
                                                        r(e);
                                                    }
                                                });
                                                return i(n, t, r), n;
                                            }),
                                            (e.prototype.driver = function () {
                                                return this._driver || null;
                                            }),
                                            (e.prototype.getDriver = function (
                                                e,
                                                t,
                                                r
                                            ) {
                                                var n = ce[e]
                                                    ? I.resolve(ce[e])
                                                    : I.reject(
                                                          new Error(
                                                              "Driver not found."
                                                          )
                                                      );
                                                return i(n, t, r), n;
                                            }),
                                            (e.prototype.getSerializer = function (
                                                e
                                            ) {
                                                var t = I.resolve(ne);
                                                return i(t, e), t;
                                            }),
                                            (e.prototype.ready = function (e) {
                                                var t = this,
                                                    r = t._driverSet.then(
                                                        function () {
                                                            return (
                                                                null ===
                                                                    t._ready &&
                                                                    (t._ready = t._initDriver()),
                                                                t._ready
                                                            );
                                                        }
                                                    );
                                                return i(r, e, e), r;
                                            }),
                                            (e.prototype.setDriver = function (
                                                e,
                                                t,
                                                r
                                            ) {
                                                function n() {
                                                    o._config.driver = o.driver();
                                                }
                                                function a(e) {
                                                    return (
                                                        o._extend(e),
                                                        n(),
                                                        (o._ready = o._initStorage(
                                                            o._config
                                                        )),
                                                        o._ready
                                                    );
                                                }
                                                var o = this;
                                                le(e) || (e = [e]);
                                                var s = this._getSupportedDrivers(
                                                        e
                                                    ),
                                                    l =
                                                        null !== this._driverSet
                                                            ? this._driverSet.catch(
                                                                  function () {
                                                                      return I.resolve();
                                                                  }
                                                              )
                                                            : I.resolve();
                                                return (
                                                    (this._driverSet = l
                                                        .then(function () {
                                                            var e = s[0];
                                                            return (
                                                                (o._dbInfo = null),
                                                                (o._ready = null),
                                                                o
                                                                    .getDriver(
                                                                        e
                                                                    )
                                                                    .then(
                                                                        function (
                                                                            e
                                                                        ) {
                                                                            (o._driver =
                                                                                e._driver),
                                                                                n(),
                                                                                o._wrapLibraryMethodsWithReady(),
                                                                                (o._initDriver = (function (
                                                                                    e
                                                                                ) {
                                                                                    return function () {
                                                                                        function t() {
                                                                                            for (
                                                                                                ;
                                                                                                r <
                                                                                                e.length;

                                                                                            ) {
                                                                                                var i =
                                                                                                    e[
                                                                                                        r
                                                                                                    ];
                                                                                                return (
                                                                                                    r++,
                                                                                                    (o._dbInfo = null),
                                                                                                    (o._ready = null),
                                                                                                    o
                                                                                                        .getDriver(
                                                                                                            i
                                                                                                        )
                                                                                                        .then(
                                                                                                            a
                                                                                                        )
                                                                                                        .catch(
                                                                                                            t
                                                                                                        )
                                                                                                );
                                                                                            }
                                                                                            n();
                                                                                            var s = new Error(
                                                                                                "No available storage method found."
                                                                                            );
                                                                                            return (
                                                                                                (o._driverSet = I.reject(
                                                                                                    s
                                                                                                )),
                                                                                                o._driverSet
                                                                                            );
                                                                                        }
                                                                                        var r = 0;
                                                                                        return t();
                                                                                    };
                                                                                })(
                                                                                    s
                                                                                ));
                                                                        }
                                                                    )
                                                            );
                                                        })
                                                        .catch(function () {
                                                            n();
                                                            var e = new Error(
                                                                "No available storage method found."
                                                            );
                                                            return (
                                                                (o._driverSet = I.reject(
                                                                    e
                                                                )),
                                                                o._driverSet
                                                            );
                                                        })),
                                                    i(this._driverSet, t, r),
                                                    this._driverSet
                                                );
                                            }),
                                            (e.prototype.supports = function (
                                                e
                                            ) {
                                                return !!ue[e];
                                            }),
                                            (e.prototype._extend = function (
                                                e
                                            ) {
                                                P(this, e);
                                            }),
                                            (e.prototype._getSupportedDrivers = function (
                                                e
                                            ) {
                                                for (
                                                    var t = [],
                                                        r = 0,
                                                        n = e.length;
                                                    r < n;
                                                    r++
                                                ) {
                                                    var a = e[r];
                                                    this.supports(a) &&
                                                        t.push(a);
                                                }
                                                return t;
                                            }),
                                            (e.prototype._wrapLibraryMethodsWithReady = function () {
                                                for (
                                                    var e = 0, t = fe.length;
                                                    e < t;
                                                    e++
                                                )
                                                    x(this, fe[e]);
                                            }),
                                            (e.prototype.createInstance = function (
                                                t
                                            ) {
                                                return new e(t);
                                            }),
                                            e
                                        );
                                    })())();
                                t.exports = ye;
                            },
                            { 3: 3 },
                        ],
                    },
                    {},
                    [4]
                )(4);
            });
        }.call(t, r(58)));
    },
    function (e, t) {
        function r(e) {
            "@babel/helpers - typeof";
            return (r =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                    ? function (e) {
                          return typeof e;
                      }
                    : function (e) {
                          return e &&
                              "function" == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? "symbol"
                              : typeof e;
                      })(e);
        }
        function n(e) {
            return {
                name: $(e).find(".popular-dishes-dish-title").text(),
                id: $(e).data("popular-item-id"),
                price: $(e).data("popular-item-price"),
                brand: app.shop.title,
                category: $(e).data("popular-item-category"),
                variant: "",
                position: $(e).data("popular-item-position"),
            };
        }
        function a(e) {
            return {
                name: $(e).data("offer-name"),
                id: $(e).data("offer_id"),
                price: $(e).data("price"),
                brand: app.shop.title,
                category: app.shop.basic_cuisine,
                variant: "",
                position: $(e).data("position"),
            };
        }
        ("menu" !== app.pageController && "shop-menu" !== app.pageController) ||
            ($(document).ready(function () {
                var e = "";
                app.address_exists &&
                    (e =
                        !app.shop.is_serving && "" === app.addressBusinessSlug);
                var t =
                    app.shop.badges && app.shop.badges.length
                        ? app.shop.badges.reduce(function (e, t, r) {
                              return (
                                  e +
                                  t.title +
                                  (r + 1 !== app.shop.badges.length ? "," : "")
                              );
                          }, "")
                        : "";
                dataLayer.push({
                    event: "shop_details.loaded",
                    locationAddress: dataLayer[0].userAddress,
                    locationLat: dataLayer[0].userAddressLat,
                    locationLon: dataLayer[0].userAddressLon,
                    locationArea: dataLayer[0].userAddressZip,
                    locationCity: dataLayer[0].userAddressCity,
                    locationCountry: dataLayer[0].userAddressCountry,
                    verticalType: app.verticalType,
                    shopId: app.shop.id,
                    currencyCode: app.ga_currency,
                    shopName: app.shop.title,
                    shopCategoryQuantity: "",
                    shopCuisine: app.shop.basic_cuisine,
                    shopRatingQuality: app.shop.avg_rating,
                    shopRatingQuantity: app.shop.num_ratings,
                    shopOpen: app.shop.is_open,
                    shopMinimumOrderValue: app.shop.minimum_order,
                    shopDeliveryFee: app.shop.delivery_cost,
                    shopSponsoring: app.shop.is_promoted,
                    shopDeliveryETA: app.shop.delivery_eta,
                    chainId: app.shop.chain_id,
                    chainName: app.isChain ? app.shop.title : "",
                    chainNoShops: app.shop.chainData.chainNoShops,
                    shopWithOffer: app.shop.has_offers,
                    shopOfferType: app.shop.offer_tags.length
                        ? app.shop.offer_tags
                        : "",
                    shopNotServe: e,
                    ownDelivery: app.shop.has_own_delivery,
                    userLoggedIn: app.userLoggedIn,
                    badgeName: t,
                });
                var r = $(".popular-dishes-item");
                if (r) {
                    var i = [];
                    $(r).each(function (e, t) {
                        var r = n(t);
                        (r.list = "Popular Items"), i.push(r);
                    }),
                        dataLayer.push({
                            event: "product_list_popular_items",
                            ecommerce: {
                                currencyCode: app.ga_currency,
                                impressions: i,
                            },
                        });
                }
                var o = $(".coca-cola-deals .shop-profile-menu-list-offer");
                if (o) {
                    var s = [];
                    $(o).each(function (e, t) {
                        var r = a(t);
                        (r.list = "Coca-Cola Deals"), s.push(r);
                    }),
                        dataLayer.push({
                            event: "product_list_offers",
                            ecommerce: {
                                currencyCode: app.ga_currency,
                                impressions: s,
                            },
                        });
                }
                var l = $(".regular-deals .shop-profile-menu-list-offer");
                if (l) {
                    var c = [];
                    $(l).each(function (e, t) {
                        var r = a(t);
                        (r.list = "Offer Items"), c.push(r);
                    }),
                        dataLayer.push({
                            event: "product_list_offers",
                            ecommerce: {
                                currencyCode: app.ga_currency,
                                impressions: c,
                            },
                        });
                }
                efoodLib.shortcutReorderViewEvent(),
                    app.scout.customAttribute(
                        "web_last_searched_restaurant",
                        app.shop.title
                    ),
                    app.scout.customAttribute(
                        "web_last_searched_restaurant_id",
                        app.shop.id
                    ),
                    app.scout.customAttribute(
                        "web_last_searched_cuisine",
                        app.shop.basic_cuisine
                    ),
                    app.scout.customEvent("web_searched_restaurant", {
                        restaurant: app.shop.title,
                    }),
                    app.scout.customEvent("web_searched_restaurant_id", {
                        restaurant_id: app.shop.id,
                    }),
                    app.scout.customEvent("web_searched_cuisine", {
                        cuisine: app.shop.basic_cuisine,
                    }),
                    $(document).on("click", ".order-add-rating", function () {
                        var e = $(this).data(),
                            t = e.hasOwnProperty("is_own_delivery");
                        app.popup.open(
                            "/foodatwork/modals/add_rating?order_id=" +
                                e.order_id +
                                "&shop_id=" +
                                e.shop_id +
                                "&is_own_delivery=" +
                                t,
                            "modal-add-rating"
                        );
                    }),
                    $(".duplicate-order").on("click", function () {
                        $(window).width() < 992
                            ? $(this).remove()
                            : (window.location.href = "/account/orders");
                    }),
                    app.smart_login();
            }),
            $(".popular-dishes-item").on("click", function () {
                var e = $(this).data("popular-item-id");
                $(
                    ".shop-profile-menu-list-item[data-item-code=" + e + "]"
                ).click();
                var t = n($(this));
                dataLayer.push({
                    event: "productClick",
                    ecommerce: {
                        click: {
                            actionField: {
                                list: "Popular Items",
                                action: "click",
                            },
                            products: [t],
                        },
                    },
                });
            }),
            $(".shop-profile-menu-list-offer").on("click", function () {
                $(this).data("offer_id");
                var e = a($(this)),
                    t = (e.list = "Offer Items");
                $(this).closest(".coca-cola-deals").length > 0 &&
                    (t = e.list = "Coca-Cola Deals"),
                    dataLayer.push({
                        event: "productClick",
                        ecommerce: {
                            click: {
                                actionField: { list: t, action: "click" },
                                products: [e],
                            },
                        },
                    });
            })),
            setTimeout(function () {
                if (window.location.search) {
                    var e = window.getQueryString("item_code");
                    if (window.config && window.config.supermarket) {
                        if (e) {
                            var t = window.ComponentCart.cart().products.filter(
                                function (t) {
                                    return t.product_id === e;
                                }
                            );
                            (groupId =
                                t.length && t[0].group_id
                                    ? t[0].group_id
                                    : null),
                                window.ComponentCart.mountMenuItem(e, groupId);
                        }
                        return;
                    }
                    var n =
                        "object" ===
                            ("undefined" == typeof ComponentCart
                                ? "undefined"
                                : r(ComponentCart)) &&
                        "function" == typeof ComponentCart.joker &&
                        Boolean(ComponentCart.joker());
                    null != e || n || (e = window.getQueryString("offer_id"));
                    var a;
                    0 != $('li[data-item-code^="' + e + '"]').length
                        ? (a = $("li[data-item-code^=" + e + "]"))
                        : 0 != $('li[id^="' + e + '"]').length
                        ? (a = $("li[id^=" + e + "]"))
                        : 0 != $('li[rel^="code=' + e + '"]').length
                        ? (a = $('li[rel^="code=' + e + '"]'))
                        : 0 != $('li[rel^="offer_id=' + e + '"]').length
                        ? (a = $('li[rel^="offer_id=' + e + '"]'))
                        : 0 != $('li[data-offer_id^="' + e + '"]').length &&
                          (a = $('li[data-offer_id^="' + e + '"]')),
                        a && $(a).click();
                }
            }, 1500);
        var i = [],
            o = $(".suggested-restaurants-list-item a").length;
        $(".suggested-restaurants-list-item a").each(function (e, t) {
            var r = $(t).data("restaurant_id"),
                n = {
                    id: r,
                    name: "Suggested Shops",
                    creative: $(t).data("restaurant-name"),
                    position: $(t).data("restaurant-position"),
                    dimension11: r,
                    suggestions: o,
                };
            i.push(n);
        }),
            i.length > 0 &&
                dataLayer.push({
                    event: "promoView",
                    eventLabel: "suggested_shops",
                    ecommerce: {
                        currencyCode: app.ga_currency,
                        promoView: { promotions: i },
                    },
                }),
            $(".suggested-restaurants-list-item a").on("click", function () {
                var e = $(this).data("restaurant_id"),
                    t = $(this).data("restaurant-name"),
                    r = $(this).data("restaurant-position");
                dataLayer.push({
                    event: "promotionClick",
                    eventLabel: "suggested_shops",
                    ecommerce: {
                        promoClick: {
                            promotions: [
                                {
                                    id: e,
                                    name: "Suggested Shops",
                                    creative: t,
                                    position: r,
                                    dimension11: e,
                                    suggestions: o,
                                },
                            ],
                        },
                    },
                }),
                    dataLayer.push({
                        event: "suggested_shop.clicked",
                        shopId: e,
                    });
            });
    },
    function (e, t, r) {
        var n = r(494).setCategoriesButton,
            a = r(495).mountOfferOrMenuItem,
            i = r(193),
            o = i.validateUserProfileChange,
            s = i.validateNewPasswordForm,
            l = i.updateUserProfile,
            c = i.deleteAddress,
            u = i.deletePaymentMethod,
            d = r(496).initializeAddressConfirmation,
            p = r(497),
            h = p.init,
            f = p.updateUI,
            m = p.quickAddTooltip,
            y = r(498).default.init,
            g = r(192),
            v = r(194),
            b = r(190),
            w = r(195),
            _ = r(499).default,
            E = r(196),
            S = r(14),
            C = r(501);
        r(505), r(521), r(31).default;
        e.exports = {
            mountOfferOrMenuItem: a,
            renderRing:
                void 0 !== efoodLib.renderRing
                    ? efoodLib.renderRing
                    : function () {},
            fillRings:
                void 0 !== efoodLib.fillRings
                    ? efoodLib.fillRings
                    : function () {},
            validateUserProfileChange: o,
            validateNewPasswordForm: s,
            updateUserProfile: l,
            deleteAddress: c,
            deletePaymentMethod: u,
            checkout: void 0 !== g.checkout ? g.checkout : function () {},
            validateUserAccess:
                void 0 !== b.validateUserAccess
                    ? b.validateUserAccess
                    : function () {},
            showAlert: void 0 !== b.showAlert ? b.showAlert : function () {},
            renderInputMask:
                void 0 !== b.renderInputMask
                    ? b.renderInputMask
                    : function () {},
            initDataToogle: b.initDataToogle,
            initFeaturedDishedSlick: b.initFeaturedDishedSlick,
            initReordersSlick: b.initReordersSlick,
            initFeaturedDishedListeners: b.initFeaturedDishedListeners,
            shortcutReorderViewEvent:
                void 0 !== b.shortcutReorderViewEvent
                    ? b.shortcutReorderViewEvent
                    : function () {},
            cellphone: void 0 !== v.cellphone ? v.cellphone : function () {},
            addressComponent: w.addressComponent,
            initializeAddressComponent: w.initializeAddressComponent,
            shopListSearch: _,
            validatePasswordResetForm: E.validatePasswordResetForm,
            initializeAddressConfirmation: d,
            setCategoriesButton: n,
            initShopProfileGridUI: h,
            updateGridUI: f,
            quickAddTooltip: m,
            initShopProfileListUI: y,
            RE: C,
            jokerGA: S.jokerGA,
            tracking: {
                addToCart: S.addToCart,
                removeFromCart: S.removeFromCart,
                productItemMessageShown: S.productItemMessageShown,
                orderDeliveryMethodSelected: S.orderDeliveryMethodSelected,
                deliverySlotChanged: S.deliverySlotChanged,
                checkoutLoaded: S.checkoutLoaded,
                checkoutClicked: S.checkoutClicked,
                liveOrderTrackingLoaded: S.liveOrderTrackingLoaded,
                liveOrderTrackingUpdated: S.liveOrderTrackingUpdated,
                scaStarted: S.scaStarted,
                scaSucceeded: S.scaSucceeded,
                scaFailed: S.scaFailed,
                scaCancelled: S.scaCancelled,
                shortcutsOnClickEvent: S.shortcutsOnClickEvent,
                swimlanesLoaded: S.swimlanesLoaded,
                swimlanesLoadedWithErrors: S.swimlanesLoadedWithErrors,
                swimlaneSwiped: S.swimlaneSwiped,
                shopClicked: S.shopClicked,
                swimlaneExpanded: S.swimlaneExpanded,
            },
        };
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.setCategoriesButton = function () {
                window.ComponentCart &&
                window.ComponentCart.cart() &&
                window.ComponentCart.cart().hasProducts()
                    ? $(".grid-categories-btn").addClass(
                          "grid-categories-btn--elevated"
                      )
                    : $(".grid-categories-btn").removeClass(
                          "grid-categories-btn--elevated"
                      );
            }),
            $(document).ready(function () {
                app &&
                    app.shop &&
                    !app.shop.is_open &&
                    $(".grid-categories-btn").addClass(
                        "grid-categories-btn--elevated---large"
                    );
            });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.mountOfferOrMenuItem = function (e) {
                if (
                    window.ComponentCart &&
                    ![
                        "shop-profile-menu-list-item--not-available",
                        "shop-profile-menu-list-item--not-available",
                    ].every(function (t) {
                        return e.classList.contains(t);
                    })
                ) {
                    window.app.popup.showLoader(app.i18n.loaderMessage);
                    var t = null,
                        r = e.dataset.itemCode;
                    if (window.config && window.config.supermarket) {
                        var n = window.ComponentCart.cart().products.filter(
                            function (e) {
                                return e.product_id === r;
                            }
                        );
                        t = n.length && n[0].group_id ? n[0].group_id : null;
                    }
                    var a = e.dataset.offer_id;
                    if (a) {
                        window.ComponentCart.mountOffer(a, t);
                        var i = e.dataset.offerName,
                            o = e.dataset.offerTag;
                        return (
                            window.app.scout.customAttribute(
                                "web_last_searched_offer_id",
                                a
                            ),
                            window.app.scout.customAttribute(
                                "web_last_searched_offer_name",
                                i
                            ),
                            window.app.scout.customAttribute(
                                "web_last_searched_offer_type",
                                o
                            ),
                            void window.app.scout.customEvent(
                                "web_searched_offer",
                                { offer_id: a, offer_name: i, offer_type: o }
                            )
                        );
                    }
                    var s = e.dataset.itemName;
                    window.ComponentCart.mountMenuItem(r, t),
                        window.app.scout.customAttribute(
                            "web_last_searched_product",
                            r
                        ),
                        window.app.scout.customAttribute(
                            "web_last_searched_product_id",
                            s
                        ),
                        window.app.scout.customEvent("web_searched_product", {
                            product: r,
                        }),
                        window.app.scout.customEvent(
                            "web_searched_product_id",
                            { product_id: s }
                        );
                }
            });
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.initializeAddressConfirmation = function (e, t) {
                window.ComponentAddress.on("mount", function (e) {
                    document
                        .querySelector(".address-confirm-component-footnote")
                        .classList.remove("d-none");
                    var t = e.address;
                    dataLayer.push({ event: "address.manual.popup" });
                    var r = [
                        "city",
                        "area",
                        "street",
                        "streetNumber",
                        "zip",
                    ].filter(function (e) {
                        return !t[e];
                    });
                    if (r.length > 0) {
                        var n = [
                            [t.street, t.streetNumber]
                                .filter(Boolean)
                                .join(" "),
                            [t.zip, t.city].filter(Boolean).join(" "),
                            [t.area].filter(Boolean).join(""),
                        ]
                            .filter(Boolean)
                            .join(", ");
                        dataLayer.push({
                            event: "address_modal_fields_missing.loaded",
                            locationAddress: n,
                            inputFieldsMissing: 1 === r.length ? r[0] : r,
                            locationLat: t.latitude,
                            locationLon: t.longitude,
                            locationCity: t.city,
                            locationArea: t.area,
                            locationCountry: dataLayer[0].userAddressCountry,
                            userTimeStamp: Date.now(),
                            pageType: dataLayer[0].pageType,
                        });
                    }
                }),
                    window.ComponentAddress.on("address.update", function (e) {
                        e.address,
                            dataLayer.push({ vpv: "address.manual-edit" });
                    }),
                    window.ComponentAddress.on("address.submit", function (e) {
                        var r = e.address,
                            n = (function (e, t) {
                                var r = t || window.location.href,
                                    n = new RegExp(
                                        "[?&]" + e + "=([^&#]*)",
                                        "i"
                                    ).exec(r);
                                return n ? n[1] : null;
                            })("deliverytype"),
                            a =
                                r.street +
                                " " +
                                r.streetNumber +
                                ", " +
                                r.zip +
                                " " +
                                r.city +
                                ", " +
                                r.area,
                            i = {
                                address: a,
                                city: r.area,
                                county: r.city,
                                latitude: r.latitude,
                                longitude: r.longitude,
                                nomap: r.no_map || !0 === r.nomap ? 1 : 0,
                                street: r.street,
                                street_no: r.streetNumber,
                                zip: r.zip,
                                area: r.area,
                                city_transliterated: r.city_transliterated,
                                slug: window.location.pathname,
                                deliverytype: null !== n ? parseInt(n) : 0,
                                scope: r.scope,
                                t: Date.now(),
                            };
                        app.status.cuisineLanding &&
                            app.status.cuisineLanding.hasOwnProperty(
                                "selectedCuisine"
                            ) &&
                            (i.lo = window.location.pathname),
                            dataLayer.push({
                                event: "address.submitted",
                                locationAddress: a,
                                locationLat: r.latitude,
                                locationLon: r.longitude,
                                locationCity: r.area,
                                locationArea: r.county,
                                flowType: app.flowType(),
                                locationCountry:
                                    dataLayer[0].userAddressCountry,
                            }),
                            dataLayer.push({
                                event: "address_lightbox.submitted",
                                locationAddress: a,
                                locationLat: r.latitude,
                                locationLon: r.longitude,
                                locationCity: r.area,
                                locationArea: r.county,
                                flowType: app.flowType(),
                                locationCountry:
                                    dataLayer[0].userAddressCountry,
                                lightboxType: "address confirmation",
                                locationMethod: "manual",
                            }),
                            app.scout.customAttribute(
                                "web_last_searched_ZIP",
                                i.zip
                            ),
                            app.scout.customAttribute(
                                "web_last_searched_area",
                                i.county
                            ),
                            app.scout.customAttribute(
                                "web_last_searched_city",
                                i.area
                            ),
                            app.scout.customEvent("web_searched_ZIP", i.zip),
                            app.scout.customEvent("web_searched_city", i.area);
                        var o = "/shops?" + $.param(i),
                            s = window.location.pathname + "?" + $.param(i);
                        if ("/account/addresses" === window.location.pathname) {
                            var l = {
                                street: i.street,
                                street_number: i.street_no,
                                zip: i.zip,
                                longitude: i.longitude,
                                latitude: i.latitude,
                            };
                            !1 !== app.userInputAddress.address_id &&
                                (l.id = app.userInputAddress.address_id),
                                app.popup.showLoader(),
                                new efoodAPI().post(
                                    "/user/address",
                                    l,
                                    function (e) {
                                        "ok" === e.status
                                            ? (location.href =
                                                  "/account/addresses")
                                            : (app.popup.hideLoader(),
                                              alert(t.failMessage));
                                    }
                                );
                        } else if (
                            "business_discounts" === r.scope &&
                            app.isFoodAtWorkEnabled
                        ) {
                            app.popup.showLoader();
                            var c = app.businessDiscountUrl + $.param(i);
                            history.pushState(c, c, c),
                                window.location.replace(c);
                        } else {
                            if (app.isChain) {
                                var u = $.param(i),
                                    d = window.location.href;
                                return (
                                    (window.location.href =
                                        void 0 !== window.location.search &&
                                        "" !== window.location.search
                                            ? d + "&" + u
                                            : d + "?" + u),
                                    !1
                                );
                            }
                            app.popup.showLoader(t.searchingMessage),
                                app.shop && void 0 !== app.shop.id
                                    ? (history.pushState &&
                                          history.pushState(s, s, s),
                                      window.location.replace(s))
                                    : (history.pushState(o, o, o),
                                      window.location.assign(o));
                        }
                    }),
                    window.ComponentAddress.mount(e);
            });
    },
    function (e, t, r) {
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i() {
            var e = f("category");
            e || (e = "initial"), s(e);
        }
        function o(e) {
            var t = e.state,
                r = t && t.slug ? t.slug : null;
            r || (r = "initial"),
                S.constructMenus(r),
                app.popup.showLoader(),
                s(r).catch(function (e) {
                    console.error({ e: e }), app.popup.hideLoader();
                });
        }
        function s(e) {
            var t = document.querySelector("#grid-active-category-items"),
                r = document.querySelector(".mobile-categories-side-menu");
            return fetch("/shop/".concat(app.shop.id, "/categories/").concat(e))
                .then(function (e) {
                    return 200 !== e.status ? Promise.reject() : e.text();
                })
                .then(function (e) {
                    return (t.innerHTML = e);
                })
                .then(p)
                .then(function () {
                    return (function (e) {
                        if (S.isInitialSlug("initial")) return;
                        _.forEach(function (t) {
                            var r = t.dataset.categorySlug;
                            r === e ||
                            r ===
                                window.categoriesHashMap[e].parent.category_slug
                                ? t.classList.add("active")
                                : t.classList.remove("active");
                        });
                    })(e);
                })
                .then(function () {
                    b.prerendered.process(),
                        window.ComponentCart &&
                            window.ComponentCart.cart &&
                            h(window.ComponentCart.cart().products);
                })
                .then(function () {
                    return app.popup.hideLoader();
                })
                .then(function () {
                    if (r && r.classList) {
                        var t = f("category");
                        S.isInitialSlug(e) ||
                            (window.categoriesHashMap[e].children.length &&
                                e !== t &&
                                !S.isParentOfCategory(t, e)) ||
                            r.classList.remove("active");
                    }
                })
                .then(function () {
                    var e =
                            document.querySelector(
                                ".shop-profile-scrolling-header"
                            ).scrollHeight || 100,
                        r = window.pageYOffset || window.scrollY,
                        n = t.getBoundingClientRect().top + r - e;
                    window.scroll(0, n);
                })
                .then(function () {
                    $('[data-toggle="tooltip"]').tooltip();
                })
                .then(function () {
                    w.categoriesListItemLoaded(
                        window.app.verticalType,
                        window.app.shop.delivery_cost,
                        window.app.shop.is_open,
                        y(e),
                        g(e),
                        window.app.shop.title,
                        window.app.shop.id
                    );
                });
        }
        function l(e, t, r, n) {
            var a = $(e).first();
            a.tooltip({
                html: !0,
                title: "<div>" + t + "</div>",
                trigger: "manual",
                template: '<div class="tooltip '.concat(
                    n,
                    '" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                ),
                container: r,
            }),
                efoodLib.tracking.productItemMessageShown(
                    app.shop.id,
                    app.shop.title,
                    "list",
                    "max_item_quantity"
                ),
                a.tooltip("show"),
                setTimeout(function () {
                    return a.tooltip("hide");
                }, 3e3);
        }
        function c(e) {
            var t = e.dataset.categorySlug;
            if (t) {
                var r = e.getAttribute("href");
                e.addEventListener("click", function (n) {
                    n.preventDefault(),
                        app.popup.showLoader(),
                        w.categoriesListItemClicked(
                            window.app.verticalType,
                            window.app.shop.delivery_cost,
                            window.app.shop.is_open,
                            y(t),
                            g(t),
                            window.app.shop.title,
                            window.app.shop.id
                        ),
                        s(t)
                            .then(function () {
                                return (function (e) {
                                    var t = e.getAttribute("href"),
                                        r = e.dataset.categorySlug;
                                    if (!r) return;
                                    S.isInitialSlug(r)
                                        ? history.pushState(
                                              null,
                                              null,
                                              (function (e) {
                                                  var t,
                                                      r,
                                                      n =
                                                          window.location.href.split(
                                                              "?"
                                                          )[0] + "?",
                                                      a = decodeURIComponent(
                                                          window.location.search.substring(
                                                              1
                                                          )
                                                      ).split("&");
                                                  for (r = 0; r < a.length; r++)
                                                      (t = a[r].split(
                                                          "="
                                                      ))[0] !== e &&
                                                          (n =
                                                              n +
                                                              t[0] +
                                                              "=" +
                                                              t[1] +
                                                              "&");
                                                  return n.substring(
                                                      0,
                                                      n.length - 1
                                                  );
                                              })("category")
                                          )
                                        : history.pushState(
                                              { slug: r },
                                              document.title,
                                              t
                                          );
                                })(e);
                            })
                            .catch(function (e) {
                                console.error({ e: e }),
                                    app.popup.hideLoader(),
                                    (window.location.href = r);
                            });
                });
            }
        }
        function u(e) {
            var t = e.dataset.itemCode,
                r = (function (e) {
                    return "boolean" == typeof e
                        ? e
                        : "string" == typeof e && "true" === e;
                })(e.dataset.itemShortage);
            if (t && !r) {
                e.addEventListener("click", function () {
                    app.shop.is_open
                        ? app.address_exists || !app.isChain
                            ? window.efoodLib.mountOfferOrMenuItem(e)
                            : app.popup.addressbox()
                        : app.popup.openSuggestedRestaurandModal();
                });
                e.querySelector(".quick-add-controls").addEventListener(
                    "click",
                    function (e) {
                        return e.stopPropagation();
                    }
                );
                var n = e.querySelector(".quick-add-button");
                n.addEventListener("click", function () {
                    if (app.shop.is_open)
                        if (app.shop.is_serving)
                            if (app.address_exists || !app.isChain) {
                                if (
                                    window.ComponentCart &&
                                    window.ComponentCart.quickAddItem
                                ) {
                                    n.setAttribute("disabled", !0);
                                    window.ComponentCart.quickAddItem(t)
                                        .then(function (e) {
                                            efoodLib.tracking.addToCart(
                                                app.shop.id,
                                                app.shop.title,
                                                e.name,
                                                e.product_id,
                                                e.quantity,
                                                e.price,
                                                "list"
                                            );
                                        })
                                        .then(function () {
                                            return n.removeAttribute(
                                                "disabled"
                                            );
                                        })
                                        .catch(function () {
                                            return n.removeAttribute(
                                                "disabled"
                                            );
                                        });
                                }
                            } else app.popup.addressbox();
                        else window.ComponentCart.mountMenuItem(t, null);
                    else app.popup.openSuggestedRestaurandModal();
                });
                e.querySelector(".quick-add-decrease").addEventListener(
                    "click",
                    function () {
                        if (app.shop.is_open)
                            if (app.shop.is_serving)
                                if (app.address_exists || !app.isChain) {
                                    if (
                                        window.ComponentCart &&
                                        window.ComponentCart
                                            .quickAddDecreaseQuantity
                                    ) {
                                        var e = window.ComponentCart.quickAddDecreaseQuantity(
                                            t
                                        ).product;
                                        efoodLib.tracking.removeFromCart(
                                            app.shop.id,
                                            app.shop.title,
                                            e.name,
                                            e.product_id,
                                            e.quantity,
                                            e.price,
                                            "list"
                                        );
                                    }
                                } else app.popup.addressbox();
                            else window.ComponentCart.mountMenuItem(t, null);
                        else app.popup.openSuggestedRestaurandModal();
                    }
                );
                var a = e.querySelector(".quick-add-increase");
                a.addEventListener("click", function () {
                    if (app.shop.is_open)
                        if (app.shop.is_serving)
                            if (app.address_exists || !app.isChain) {
                                if (
                                    window.ComponentCart &&
                                    window.ComponentCart
                                        .quickAddIncreaseQuantity
                                ) {
                                    var r = window.ComponentCart.quickAddIncreaseQuantity(
                                            t
                                        ),
                                        n = r.product,
                                        i = r.error;
                                    if (i)
                                        return void l(
                                            a,
                                            i,
                                            e,
                                            "quick-add-tile-tooltip"
                                        );
                                    efoodLib.tracking.addToCart(
                                        app.shop.id,
                                        app.shop.title,
                                        n.name,
                                        n.product_id,
                                        n.quantity,
                                        n.price,
                                        "list"
                                    );
                                }
                            } else app.popup.addressbox();
                        else window.ComponentCart.mountMenuItem(t, null);
                    else app.popup.openSuggestedRestaurandModal();
                });
            }
        }
        function d(e) {
            Promise.resolve(
                Array.prototype.slice.call(
                    document.querySelectorAll(
                        ".shop-profile-grid-category__link"
                    )
                )
            ).then(function (t) {
                t &&
                    0 !== t.length &&
                    (e &&
                        (t = t.filter(function (e) {
                            return (
                                "initial-categories" !== e.id &&
                                "initial-categories-mobile" !== e.id
                            );
                        })),
                    (_ = t).forEach(c),
                    b.prerendered.process(),
                    window.categoriesListLoadedAlready ||
                        (w.categoriesListLoaded(
                            window.app.verticalType,
                            window.app.shop.delivery_cost,
                            window.app.shop.is_open,
                            _.length,
                            window.app.shop.title,
                            window.app.shop.id
                        ),
                        (window.categoriesListLoadedAlready = !0)));
            });
        }
        function p() {
            Promise.resolve(
                Array.prototype.slice.call(
                    document.querySelectorAll(".shop-profile-menu-item-tile")
                )
            ).then(function (e) {
                e && 0 !== e.length && (E = e).forEach(u);
            });
        }
        function h(e) {
            "grid" === window.app.shop.view &&
                Promise.resolve(e).then(function (e) {
                    E.forEach(function (t) {
                        var r = t.dataset.itemCode,
                            n = e.find(function (e) {
                                return e.product_id === r;
                            });
                        void 0 !== n
                            ? (function (e, t) {
                                  var r = e.querySelector(".quick-add-button"),
                                      n = e.querySelector(
                                          ".quick-add-update-controls-wrapper"
                                      );
                                  (e.querySelector(
                                      ".quick-add-quantity"
                                  ).innerHTML = t.quantity),
                                      r.classList.add("d-none"),
                                      n.classList.remove("d-none");
                              })(t, n)
                            : (function (e) {
                                  var t = e.querySelector(".quick-add-button"),
                                      r = e.querySelector(
                                          ".quick-add-update-controls-wrapper"
                                      );
                                  (e.querySelector(
                                      ".quick-add-quantity"
                                  ).innerHTML = 0),
                                      t.classList.remove("d-none"),
                                      r.classList.add("d-none");
                              })(t);
                    }),
                        (function (e) {
                            Array.prototype.slice
                                .call(document.querySelectorAll(".menu-search"))
                                .forEach(function (t) {
                                    var r = document.createEvent("Event");
                                    (r.data = e),
                                        r.initEvent(
                                            "set-search-cart-product",
                                            !0,
                                            !0
                                        ),
                                        t.getElementsByTagName("input").length >
                                            0 &&
                                            t
                                                .getElementsByTagName(
                                                    "input"
                                                )[0]
                                                .dispatchEvent(r);
                                });
                        })(e);
                });
        }
        function f(e) {
            for (
                var t = window.location.search.substring(1).split("&"),
                    r = {},
                    n = 0;
                n < t.length;
                n++
            ) {
                var a = t[n].split("="),
                    i = decodeURIComponent(a[0]),
                    o = decodeURIComponent(a[1]);
                void 0 === r[i]
                    ? (r[i] = decodeURIComponent(o))
                    : "string" == typeof r[i]
                    ? (r[i] = [r[i], decodeURIComponent(o)])
                    : r[i].push(decodeURIComponent(o));
            }
            return r[e];
        }
        function m(e, t, r) {
            var n = new RegExp("([?&])" + t + "=.*?(&|$)", "i"),
                a = -1 !== e.indexOf("?") ? "&" : "?";
            return e.match(n)
                ? e.replace(n, "$1" + t + "=" + r + "$2")
                : e + a + t + "=" + r;
        }
        function y(e) {
            "initial" === e &&
                (e = Object.keys(window.categoriesHashMap).find(function (e) {
                    return window.categoriesHashMap[e].parent;
                }));
            var t = window.categoriesHashMap[e];
            if (!t) return "";
            var r = t.current.name;
            return t.parent
                ? ("initial" !== t.parent.category_slug &&
                      (r = "".concat(t.parent.name, " || ").concat(r)),
                  r)
                : r;
        }
        function g(e) {
            "initial" === e &&
                (e = Object.keys(window.categoriesHashMap).find(function (e) {
                    return window.categoriesHashMap[e].parent;
                }));
            for (
                var t = 1,
                    r = Object.keys(window.categoriesHashMap).find(function (
                        t
                    ) {
                        return t === e;
                    }),
                    a = window.categoriesHashMap[r].current.name,
                    i = 0,
                    o = Object.keys(window.categoriesHashMap);
                i < o.length;
                i++
            ) {
                var s = o[i];
                if (s === e && !window.categoriesHashMap[s].children.length)
                    return t;
                var l,
                    c = 1,
                    u = n(window.categoriesHashMap[s].children);
                try {
                    for (u.s(); !(l = u.n()).done; ) {
                        if (l.value.name === a) return c;
                        c += 1;
                    }
                } catch (e) {
                    u.e(e);
                } finally {
                    u.f();
                }
                t += 1;
            }
        }
        var v = r(9).default,
            b = r(31).default,
            w = r(14),
            _ = [],
            E = [],
            S = {
                initialSlug: "initial",
                desktop: {
                    list: "#shop-profile-menu-list-nav",
                    subcategory: "shop-profile-grid-category-subcategory-list",
                    builder: function (e) {
                        return '\n        <li class="shop-profile-grid-category mb-5 nav-item">\n          <a class="shop-profile-grid-category__link nav-link position-relative p-0 w-100" href="'
                            .concat(
                                m(
                                    window.location.href,
                                    "category",
                                    e.category_slug
                                ),
                                '" data-category-slug="'
                            )
                            .concat(e.category_slug, '">\n              ')
                            .concat(
                                e.name,
                                "\n          </a>\n        </li>\n      "
                            );
                    },
                    initial: "#initial-categories",
                    category: ".shop-profile-grid-category__link",
                },
                mobile: {
                    list: ".mobile-categories-side-menu-list ul",
                    subcategory:
                        "shop-profile-grid-category-subcategory-list-mobile",
                    builder: function (e) {
                        return '\n        <li class="shop-profile-grid-category nav-item d-flex py-3">\n          <a class="shop-profile-grid-category__link nav-link position-relative w-100 d-flex align-content-center align-items-center p-0 px-5" href="'
                            .concat(
                                m(
                                    window.location.href,
                                    "category",
                                    e.category_slug
                                ),
                                '" data-category-slug="'
                            )
                            .concat(e.category_slug, '">\n              ')
                            .concat(
                                e.name,
                                "\n          </a>\n        </li>\n      "
                            );
                    },
                    initial: "#initial-categories-mobile",
                    category: ".shop-profile-grid-category__link",
                },
                setupEvents: function () {
                    var e = this;
                    $(
                        ""
                            .concat(this.desktop.category, ", ")
                            .concat(this.mobile.category)
                    ).click(function (t) {
                        t.preventDefault(), t.stopPropagation();
                        var r = t.target.dataset.categorySlug;
                        r && !e.isInitialSlug(r) && e.constructMenus(r);
                    });
                },
                constructMenu: function (e, t) {
                    var r = "";
                    this.isInitialSlug(e.current.category_slug)
                        ? $(t.initial).addClass("d-none")
                        : ($(t.initial).removeClass("d-none"),
                          (r += t.builder(e.current)),
                          e.children.length &&
                              (r += '<ul class="'.concat(t.subcategory, '">'))),
                        e.children.map(function (e) {
                            return (r += t.builder(e));
                        }),
                        this.isInitialSlug(e.current.category_slug) &&
                            e.children.length &&
                            (r += "</ul>"),
                        $(t.list).empty().html(r);
                    var n = this.isInitialSlug(e.current.category_slug)
                        ? e.children[0].category_slug
                        : e.current.category_slug;
                    this.activateCategory(n);
                },
                constructMenus: function (e) {
                    var t = window.categoriesHashMap[e];
                    t.children.length ||
                        (t = window.categoriesHashMap[t.parent.category_slug]),
                        this.constructMenu(t, this.desktop),
                        this.constructMenu(t, this.mobile),
                        d(!0),
                        this.setupEvents(),
                        window.categoriesHashMap[e].children.length ||
                            this.activateCategory(
                                window.categoriesHashMap[e].current
                                    .category_slug
                            );
                },
                isInitialSlug: function (e) {
                    return this.initialSlug === e;
                },
                activateCategory: function (e) {
                    $(this.desktop.category).removeClass("active"),
                        $("a[data-category-slug='" + e + "']").addClass(
                            "active"
                        ),
                        !this.isInitialSlug(
                            window.categoriesHashMap[e].parent.category_slug
                        ) &&
                            $(
                                "a[data-category-slug='" +
                                    window.categoriesHashMap[e].parent
                                        .category_slug +
                                    "']"
                            ).addClass("active");
                },
                setupInitialButtons: function () {
                    var e = this;
                    $(
                        ""
                            .concat(e.desktop.initial, ", ")
                            .concat(e.mobile.initial)
                    ).click(function (t) {
                        t.preventDefault(),
                            t.stopPropagation(),
                            e.constructMenus(e.initialSlug);
                    });
                },
                isParentOfCategory: function (e, t) {
                    return (
                        window.categoriesHashMap[t].children &&
                        window.categoriesHashMap[t].children.filter(function (
                            t
                        ) {
                            return t.category_slug === e;
                        }).length
                    );
                },
            };
        $(document).ready(function () {
            if ($(S.desktop.initial).length || $(S.mobile.initial).length) {
                var e = f("category");
                e && S.constructMenus(e),
                    S.setupEvents(),
                    S.setupInitialButtons();
            }
        }),
            (e.exports = {
                init: function () {
                    if ("grid" === window.app.shop.view) {
                        var e = d(),
                            t = p();
                        v.Bus.on(v.REFRESH, i),
                            v.Bus.on(v.JOKER_ACTIVE, function () {
                                window.ComponentCart &&
                                    window.ComponentCart.setCoupon(
                                        null,
                                        !1,
                                        !1
                                    );
                            }),
                            window.app.status.isJokerActive &&
                                (v.Bus.trigger(v.MENU_HIDE_OFFERS),
                                v.Bus.trigger(v.JOKER_ACTIVE)),
                            Promise.all([e, t]).then(function () {
                                return (window.onpopstate = o);
                            });
                    }
                },
                updateUI: h,
                quickAddTooltip: l,
            });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r;
            if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                if (
                    Array.isArray(e) ||
                    (r = (function (e, t) {
                        if (!e) return;
                        if ("string" == typeof e) return a(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === r &&
                            e.constructor &&
                            (r = e.constructor.name);
                        if ("Map" === r || "Set" === r) return Array.from(e);
                        if (
                            "Arguments" === r ||
                            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        )
                            return a(e, t);
                    })(e)) ||
                    (t && e && "number" == typeof e.length)
                ) {
                    r && (e = r);
                    var n = 0,
                        i = function () {};
                    return {
                        s: i,
                        n: function () {
                            return n >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[n++] };
                        },
                        e: function (e) {
                            throw e;
                        },
                        f: i,
                    };
                }
                throw new TypeError(
                    "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
            }
            var o,
                s = !0,
                l = !1;
            return {
                s: function () {
                    r = e[Symbol.iterator]();
                },
                n: function () {
                    var e = r.next();
                    return (s = e.done), e;
                },
                e: function (e) {
                    (l = !0), (o = e);
                },
                f: function () {
                    try {
                        s || null == r.return || r.return();
                    } finally {
                        if (l) throw o;
                    }
                },
            };
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        function i(e) {
            if (e) {
                var t = e.getAttribute("href"),
                    r = $(t);
                if (
                    (r = r.length ? r : $("[name=" + t.slice(1) + "]")).length
                ) {
                    var n = $(".shop-profile-scrolling-header").outerHeight();
                    $("html, body").animate(
                        { scrollTop: r.offset().top - n },
                        250
                    );
                }
            }
        }
        function o() {
            var e,
                t = n(
                    document.querySelectorAll(".shop-profile-menu-list-item")
                );
            try {
                var r = function () {
                    var t = e.value;
                    t.addEventListener("click", function () {
                        app.shop.is_open
                            ? app.address_exists || !app.isChain
                                ? window.efoodLib.mountOfferOrMenuItem(t)
                                : app.popup.addressbox()
                            : app.popup.openSuggestedRestaurandModal();
                    });
                };
                for (t.s(); !(e = t.n()).done; ) r();
            } catch (e) {
                t.e(e);
            } finally {
                t.f();
            }
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var s = r(9),
            l = r(31),
            c = r.n(l);
        r(191);
        t.default = {
            init: function () {
                s.default.Bus.on(s.default.REFRESH, function () {
                    var e = document.querySelector(
                        ".shop-profile-menu-nav .nav-link.active"
                    );
                    (function () {
                        var e = window.app.shop.id,
                            t = document.querySelector("#menu-list-content");
                        return fetch("/shop/".concat(e, "/list-menu-content"))
                            .then(function (e) {
                                return 200 !== e.status
                                    ? Promise.reject()
                                    : e.text();
                            })
                            .then(function (e) {
                                return (t.innerHTML = e);
                            })
                            .then(o)
                            .then(function () {
                                return c.a.prerendered.process();
                            });
                    })().then(function () {
                        e
                            ? i(e)
                            : $("html, body").animate({ scrollTop: 0 }, 250);
                    });
                }),
                    s.default.Bus.on(s.default.MENU_HIDE_OFFERS, function () {
                        document
                            .querySelectorAll(
                                ".regular-deals, .coca-cola-deals"
                            )
                            .forEach(function (e) {
                                return e.classList.add("d-none");
                            }),
                            window.ComponentCart &&
                                window.ComponentCart.hideOffers(!0);
                    }),
                    s.default.Bus.on(s.default.MENU_SHOW_OFFERS, function () {
                        document
                            .querySelectorAll(
                                ".regular-deals, .coca-cola-deals"
                            )
                            .forEach(function (e) {
                                return e.classList.remove("d-none");
                            }),
                            window.ComponentCart &&
                                window.ComponentCart.hideOffers(!1);
                    }),
                    s.default.Bus.on(s.default.JOKER_ACTIVE, function () {
                        window.ComponentCart &&
                            window.ComponentCart.setCoupon(null, !1, !1);
                    }),
                    window.app.status.isJokerActive &&
                        (s.default.Bus.trigger(s.default.MENU_HIDE_OFFERS),
                        s.default.Bus.trigger(s.default.JOKER_ACTIVE)),
                    (function () {
                        var e,
                            t = n(
                                document.querySelectorAll(
                                    "#shop-profile-menu-list-nav .nav-link"
                                )
                            );
                        try {
                            var r = function () {
                                var t = e.value;
                                t.addEventListener("click", function (e) {
                                    e.preventDefault(), i(t);
                                });
                            };
                            for (t.s(); !(e = t.n()).done; ) r();
                        } catch (e) {
                            t.e(e);
                        } finally {
                            t.f();
                        }
                    })(),
                    o(),
                    c.a.prerendered.process();
            },
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
            }
        }
        Object.defineProperty(t, "__esModule", { value: !0 });
        var a = r(500),
            i = r(14),
            o = r.n(i),
            s = (function () {
                function e(t) {
                    var r = this,
                        n = t.elm,
                        i = t.config;
                    if (
                        ((function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError(
                                    "Cannot call a class as a function"
                                );
                        })(this, e),
                        (this.config = i),
                        (this.input = ""),
                        (this.validInputLengthForSearch = 3),
                        (this.emitter = null),
                        (this.refs = {
                            elm: null,
                            bodyElm: null,
                            overlayElm: null,
                            inputElm: null,
                            clearButtonElm: null,
                            optionsElm: null,
                            sidebarPopularElm: null,
                            searchResultsNavElm: null,
                            searchResultsShopsElm: null,
                            searchResultsItemsElm: null,
                            searchResultsOffersElm: null,
                            searchIcon: null,
                            searchIconLoading: null,
                        }),
                        (this.refs.elm =
                            "string" == typeof n
                                ? document.querySelector(n)
                                : n),
                        null === this.refs.elm)
                    )
                        throw new Error("No element to bind search form");
                    (this.refs.bodyElm = document.querySelector("body")),
                        (this.refs.overlayElm = this.refs.elm.querySelector(
                            ".search-dropdown-overlay"
                        )),
                        (this.refs.inputElm = this.refs.elm.querySelector(
                            "input"
                        )),
                        (this.refs.clearButtonElm = this.refs.elm.querySelector(
                            ".clear_search_form"
                        )),
                        (this.refs.optionsElm = this.refs.elm.querySelector(
                            "#search-dropdown"
                        )),
                        (this.refs.sidebarPopularElm = document.querySelector(
                            "#sidebar-popular-terms"
                        )),
                        (this.refs.searchResultsNavElm = document.querySelector(
                            "#search-results-nav"
                        )),
                        (this.refs.searchResultsShopsElm = document.querySelector(
                            "#search-shop-results"
                        )),
                        (this.refs.searchResultsItemsElm = document.querySelector(
                            "#search-item-results"
                        )),
                        (this.refs.searchResultsOffersElm = document.querySelector(
                            "#search-offer-results"
                        )),
                        (this.refs.searchIcon = this.refs.bodyElm.querySelector(
                            "#search-icon"
                        )),
                        (this.refs.searchIconLoading = this.refs.bodyElm.querySelector(
                            "#search-loading"
                        )),
                        this.refs.inputElm.value
                            ? this.onInputChange(this.refs.inputElm.value)
                            : this.suggestions(),
                        (this.emitter = new a.a({
                            elm: this.refs.elm,
                            callbacks: i,
                        })),
                        this.refs.optionsElm.addEventListener(
                            "click",
                            function (e) {
                                e.preventDefault();
                                for (
                                    var t = e.target, n = null;
                                    t !== e.currentTarget;

                                ) {
                                    if (t.hasAttribute("data-type")) {
                                        n = t;
                                        break;
                                    }
                                    t = t.parentNode;
                                }
                                null != n && r.selectSuggestion(n);
                            }
                        ),
                        this.refs.inputElm.addEventListener(
                            "click",
                            function () {
                                r.show(),
                                    r.emitter.dispatch(
                                        "search.bar.clicked",
                                        {}
                                    );
                            }
                        ),
                        this.refs.overlayElm.addEventListener(
                            "click",
                            function () {
                                return r.hide();
                            }
                        ),
                        this.refs.clearButtonElm.addEventListener(
                            "click",
                            function () {
                                return r.clear();
                            }
                        ),
                        this.refs.elm.addEventListener("input", function (e) {
                            return r.onInputChange(e.target.value);
                        }),
                        this.refs.elm.addEventListener("keyup", function (e) {
                            "Enter" === e.key &&
                                (e.preventDefault(),
                                e.stopPropagation(),
                                r.onSubmit()),
                                "ArrowDown" === e.key && r.onArrowDown(),
                                "ArrowUp" === e.key && r.onArrowUp(),
                                "Escape" === e.key && r.hide();
                        }),
                        this.refs.optionsElm.addEventListener(
                            "mouseover",
                            function (e) {
                                return r.onMouseOver(e);
                            }
                        ),
                        this.refs.sidebarPopularElm &&
                            this.refs.sidebarPopularElm.addEventListener(
                                "click",
                                function (e) {
                                    e.preventDefault();
                                    for (
                                        var t = e.target, n = null;
                                        t !== e.currentTarget;

                                    ) {
                                        if (
                                            t.hasAttribute("data-type") &&
                                            "popular-item" ===
                                                t.getAttribute("data-type")
                                        ) {
                                            n = t;
                                            break;
                                        }
                                        t = t.parentNode;
                                    }
                                    if (null != n) {
                                        var a = n.getAttribute("data-value"),
                                            i = n.getAttribute("data-index");
                                        r.emitter.dispatch(
                                            "search.sidebar.popular.selected",
                                            { value: a, index: i }
                                        );
                                    }
                                }
                            ),
                        this.refs.searchResultsNavElm &&
                            this.refs.searchResultsNavElm.addEventListener(
                                "click",
                                function (e) {
                                    for (
                                        var t = e.target, n = null;
                                        t !== e.currentTarget;

                                    ) {
                                        if (t.hasAttribute("data-section")) {
                                            n = t;
                                            break;
                                        }
                                        t = t.parentNode;
                                    }
                                    if (null != n) {
                                        var a = n.getAttribute("data-section"),
                                            i = n.getAttribute(
                                                "data-section-size"
                                            );
                                        r.emitter.dispatch(
                                            "search.results.nav.selected",
                                            {
                                                value: r.input,
                                                section: a,
                                                sectionSize: i,
                                            }
                                        );
                                    }
                                }
                            ),
                        this.refs.searchResultsShopsElm &&
                            this.refs.searchResultsNavElm.addEventListener(
                                "click",
                                function (e) {
                                    for (
                                        var t = e.target, n = null;
                                        t !== e.currentTarget;

                                    ) {
                                        if (t.hasAttribute("data-click-type")) {
                                            n = t;
                                            break;
                                        }
                                        t = t.parentNode;
                                    }
                                    if (null != n) {
                                        var a = n.getAttribute(
                                                "data-click-type"
                                            ),
                                            i = n.getAttribute("data-section"),
                                            o = n.getAttribute("data-shop-id"),
                                            s = n.getAttribute(
                                                "data-search-position"
                                            );
                                        r.emitter.dispatch(
                                            "search.results.selected",
                                            {
                                                clickType: a,
                                                section: i,
                                                shopId: o,
                                                index: s,
                                            }
                                        );
                                    }
                                }
                            ),
                        this.refs.searchResultsItemsElm &&
                            this.refs.searchResultsItemsElm.addEventListener(
                                "click",
                                function (e) {
                                    for (
                                        var t = e.target, n = null;
                                        t !== e.currentTarget;

                                    ) {
                                        if (t.hasAttribute("data-click-type")) {
                                            n = t;
                                            break;
                                        }
                                        t = t.parentNode;
                                    }
                                    if (null != n) {
                                        var a = n.getAttribute(
                                                "data-click-type"
                                            ),
                                            i = n.getAttribute("data-section"),
                                            o = n.getAttribute("data-shop-id"),
                                            s = n.getAttribute(
                                                "data-search-position"
                                            );
                                        r.emitter.dispatch(
                                            "search.results.selected",
                                            {
                                                value: r.in10put,
                                                clickType: a,
                                                section: i,
                                                shopId: o,
                                                index: s,
                                            }
                                        );
                                    }
                                }
                            ),
                        this.refs.searchResultsOffersElm &&
                            this.refs.searchResultsOffersElm.addEventListener(
                                "click",
                                function (e) {
                                    for (
                                        var t = e.target, n = null;
                                        t !== e.currentTarget;

                                    ) {
                                        if (t.hasAttribute("data-click-type")) {
                                            n = t;
                                            break;
                                        }
                                        t = t.parentNode;
                                    }
                                    if (null != n) {
                                        var a = n.getAttribute(
                                                "data-click-type"
                                            ),
                                            i = n.getAttribute("data-section"),
                                            o = n.getAttribute("data-shop-id"),
                                            s = n.getAttribute(
                                                "data-search-position"
                                            );
                                        r.emitter.dispatch(
                                            "search.results.selected",
                                            {
                                                value: r.in10put,
                                                clickType: a,
                                                section: i,
                                                shopId: o,
                                                index: s,
                                            }
                                        );
                                    }
                                }
                            ),
                        this.emitter.dispatch("search.mounted", {}),
                        (this.suggestions = window.debounce(
                            this.suggestions,
                            500,
                            !1
                        ));
                }
                return (
                    (function (e, t, r) {
                        t && n(e.prototype, t), r && n(e, r);
                    })(
                        e,
                        [
                            {
                                key: "selectSuggestion",
                                value: function (e) {
                                    var t = e.getAttribute("data-type"),
                                        r = e.getAttribute("data-value"),
                                        n = e.getAttribute("data-index"),
                                        a = this.input;
                                    this.hide(),
                                        "suggestion" === t
                                            ? (this.onInputChange(r),
                                              this.emitter.dispatch(
                                                  "search.suggestion.term.selected",
                                                  {
                                                      input: a,
                                                      value: r,
                                                      section: "item",
                                                      index: n,
                                                  }
                                              ))
                                            : "restaurant" === t
                                            ? (o.a.shopClickedSearch(
                                                  e.getAttribute("data-id"),
                                                  a,
                                                  "search",
                                                  "",
                                                  "",
                                                  -1 !==
                                                      Array.from(
                                                          document.querySelector(
                                                              "body"
                                                          ).classList
                                                      ).indexOf(
                                                          "page-with-cover"
                                                      )
                                                      ? "image"
                                                      : "list",
                                                  "",
                                                  "",
                                                  "",
                                                  window.dataLayer[0].userId,
                                                  "",
                                                  "",
                                                  "",
                                                  "",
                                                  "",
                                                  ""
                                              ),
                                              this.emitter.dispatch(
                                                  "search.suggestion.restaurant.selected",
                                                  {
                                                      input: a,
                                                      value: r,
                                                      section: "shop",
                                                      index: n,
                                                      shopId: e.getAttribute(
                                                          "data-id"
                                                      ),
                                                  }
                                              ))
                                            : "popular-item" === t
                                            ? (this.onInputChange(r),
                                              this.emitter.dispatch(
                                                  "search.suggestion.popular.selected",
                                                  { value: r, index: n }
                                              ))
                                            : "recent-item" === t &&
                                              (this.onInputChange(r),
                                              this.emitter.dispatch(
                                                  "search.suggestion.recent.selected",
                                                  { value: r, index: n }
                                              ));
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    this.refs.bodyElm.classList.add(
                                        "shops-search-dropdown-open"
                                    );
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    this.refs.bodyElm.classList.remove(
                                        "shops-search-dropdown-open"
                                    );
                                },
                            },
                            {
                                key: "onSubmit",
                                value: function () {
                                    var e = this.refs.optionsElm.querySelector(
                                        ".item-highlight"
                                    );
                                    null !== e &&
                                        e.dispatchEvent(
                                            new MouseEvent("click", {
                                                view: window,
                                                bubbles: !0,
                                                cancelable: !0,
                                            })
                                        ),
                                        this.input.length >=
                                            this.validInputLengthForSearch &&
                                            this.emitter.dispatch(
                                                "search.suggestion.term.selected",
                                                { value: this.input }
                                            );
                                },
                            },
                            {
                                key: "onArrowUp",
                                value: function () {
                                    var e = Array.from(
                                        this.refs.optionsElm.querySelectorAll(
                                            '.suggestion-list-item:not([data-value=""])'
                                        )
                                    );
                                    if (0 !== e.length) {
                                        var t = e.findIndex(function (e) {
                                            return e.classList.contains(
                                                "item-highlight"
                                            );
                                        });
                                        -1 === t
                                            ? e[e.length - 1].classList.add(
                                                  "item-highlight"
                                              )
                                            : 0 === t
                                            ? (e[t].classList.remove(
                                                  "item-highlight"
                                              ),
                                              e[e.length - 1].classList.add(
                                                  "item-highlight"
                                              ))
                                            : (e[t].classList.remove(
                                                  "item-highlight"
                                              ),
                                              e[t - 1].classList.add(
                                                  "item-highlight"
                                              ));
                                    }
                                },
                            },
                            {
                                key: "onArrowDown",
                                value: function () {
                                    var e = Array.from(
                                        this.refs.optionsElm.querySelectorAll(
                                            '.suggestion-list-item:not([data-value=""])'
                                        )
                                    );
                                    if (0 !== e.length) {
                                        var t = e.findIndex(function (e) {
                                            return e.classList.contains(
                                                "item-highlight"
                                            );
                                        });
                                        -1 === t
                                            ? e[0].classList.add(
                                                  "item-highlight"
                                              )
                                            : t === e.length - 1
                                            ? (e[t].classList.remove(
                                                  "item-highlight"
                                              ),
                                              e[0].classList.add(
                                                  "item-highlight"
                                              ))
                                            : (e[t].classList.remove(
                                                  "item-highlight"
                                              ),
                                              e[t + 1].classList.add(
                                                  "item-highlight"
                                              ));
                                    }
                                },
                            },
                            {
                                key: "onMouseOver",
                                value: function (e) {
                                    if (
                                        e.target &&
                                        e.target.classList.contains(
                                            "suggestion-list-item"
                                        )
                                    ) {
                                        var t = this.refs.elm.querySelector(
                                            ".item-highlight"
                                        );
                                        null !== t &&
                                            t.classList.remove(
                                                "item-highlight"
                                            ),
                                            e.target.classList.add(
                                                "item-highlight"
                                            );
                                    }
                                },
                            },
                            {
                                key: "onInputChange",
                                value: function (e) {
                                    if (this.input !== e) {
                                        (this.input = e),
                                            (this.refs.inputElm.value = e);
                                        var t = this.refs.elm.querySelector(
                                            "#search-user-input-suggestion"
                                        );
                                        if (
                                            (t && (t.innerText = this.input),
                                            0 === this.input.length)
                                        )
                                            return (
                                                this.hasNoInput(),
                                                this.hasNoValidInput(),
                                                void this.suggestions()
                                            );
                                        if (
                                            (this.hasInput(),
                                            this.input.length <
                                                this.validInputLengthForSearch)
                                        )
                                            return (
                                                this.hasNoValidInput(),
                                                void this.suggestions()
                                            );
                                        this.hasValidInput(),
                                            this.suggestions(this.input);
                                    }
                                },
                            },
                            {
                                key: "clear",
                                value: function () {
                                    var e = this.input;
                                    (this.refs.inputElm.value = ""),
                                        (this.input = ""),
                                        this.hasNoInput(),
                                        this.hasNoValidInput(),
                                        this.emitter.dispatch(
                                            "search.bar.cleared",
                                            { term: e }
                                        );
                                },
                            },
                            {
                                key: "hasInput",
                                value: function () {
                                    this.refs.bodyElm.classList.add(
                                        "shops-search-has-input"
                                    );
                                },
                            },
                            {
                                key: "hasNoInput",
                                value: function () {
                                    this.refs.bodyElm.classList.remove(
                                        "shops-search-has-input"
                                    );
                                },
                            },
                            {
                                key: "hasValidInput",
                                value: function () {
                                    this.refs.bodyElm.classList.add(
                                        "shops-search-has-valid-input"
                                    );
                                },
                            },
                            {
                                key: "hasNoValidInput",
                                value: function () {
                                    this.refs.bodyElm.classList.remove(
                                        "shops-search-has-valid-input"
                                    );
                                },
                            },
                            {
                                key: "suggestions",
                                value: function () {
                                    var e = this,
                                        t =
                                            arguments.length > 0 &&
                                            void 0 !== arguments[0]
                                                ? arguments[0]
                                                : "";
                                    (t = t.trim()),
                                        this.refs.searchIconLoading.classList.remove(
                                            "d-none"
                                        ),
                                        this.refs.searchIcon.classList.add(
                                            "d-none"
                                        ),
                                        fetch("/search/get_suggestions", {
                                            method: "POST",
                                            body: JSON.stringify({
                                                search_term: t,
                                                lng: this.config.lng,
                                                lat: this.config.lat,
                                            }),
                                        })
                                            .then(function (e) {
                                                return e.text();
                                            })
                                            .then(function (t) {
                                                e.refs.optionsElm.innerHTML = t;
                                                var r = e.refs.elm.querySelector(
                                                    "#search-user-input-suggestion"
                                                );
                                                r && (r.innerText = e.input);
                                            })
                                            .then(function () {
                                                1 ===
                                                    e.refs.optionsElm.querySelectorAll(
                                                        ".suggestion-list-item"
                                                    ).length &&
                                                    e.emitter.dispatch(
                                                        "search.suggestions.empty",
                                                        { term: t }
                                                    );
                                            })
                                            .then(function () {
                                                e.refs.searchIcon.classList.remove(
                                                    "d-none"
                                                ),
                                                    e.refs.searchIconLoading.classList.add(
                                                        "d-none"
                                                    );
                                            });
                                },
                            },
                            {
                                key: "search",
                                value: function () {
                                    (arguments.length > 0 &&
                                    void 0 !== arguments[0]
                                        ? arguments[0]
                                        : ""
                                    ).length;
                                },
                            },
                        ],
                        [
                            {
                                key: "encode",
                                value: function (e) {
                                    return encodeURIComponent(e)
                                        .replace(/!/g, "%21")
                                        .replace(/'/g, "%27")
                                        .replace(/\(/g, "%28")
                                        .replace(/\)/g, "%29")
                                        .replace(/\*/g, "%2A");
                                },
                            },
                            {
                                key: "decode",
                                value: function (e) {
                                    return decodeURIComponent(e)
                                        .replace(/%21/g, "!")
                                        .replace(/%27/g, "'")
                                        .replace(/%28/g, "(")
                                        .replace(/%29/g, ")")
                                        .replace(/%2A/g, "*");
                                },
                            },
                        ]
                    ),
                    e
                );
            })();
        t.default = s;
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
            }
        }
        var a = (function () {
            function e(t) {
                var r = t.elm,
                    n = t.callbacks;
                !(function (e, t) {
                    if (!(e instanceof t))
                        throw new TypeError(
                            "Cannot call a class as a function"
                        );
                })(this, e),
                    (this.elm = r),
                    (this.callbacks = n);
            }
            return (
                (function (e, t, r) {
                    t && n(e.prototype, t), r && n(e, r);
                })(e, [
                    {
                        key: "dispatch",
                        value: function (e, t) {
                            this.callbacks.hasOwnProperty(e) &&
                                "function" == typeof this.callbacks[e] &&
                                this.callbacks[e].call(null, t),
                                this.elm &&
                                    this.elm.dispatchEvent &&
                                    "function" ==
                                        typeof this.elm.dispatchEvent &&
                                    this.elm.dispatchEvent(
                                        new CustomEvent(e, { detail: t })
                                    );
                        },
                    },
                ]),
                e
            );
        })();
        t.a = a;
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            if (null == e) return {};
            var r,
                n,
                a = (function (e, t) {
                    if (null == e) return {};
                    var r,
                        n,
                        a = {},
                        i = Object.keys(e);
                    for (n = 0; n < i.length; n++)
                        (r = i[n]), t.indexOf(r) >= 0 || (a[r] = e[r]);
                    return a;
                })(e, t);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                for (n = 0; n < i.length; n++)
                    (r = i[n]),
                        t.indexOf(r) >= 0 ||
                            (Object.prototype.propertyIsEnumerable.call(e, r) &&
                                (a[r] = e[r]));
            }
            return a;
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.exec = function (e, t) {
                var r = t.ctx,
                    n = e.type,
                    i = e.uri;
                "action" === n && Object(a.a)(i)({ ctx: r });
            }),
            (t.render = function (e, t) {
                var r = document.querySelector(e);
                r || console.error("[RE]: invalid selector ".concat(e));
                var i = t.type,
                    s = n(t, ["type"]),
                    l = Object(a.a)(i);
                s.remove = function () {
                    return o.a.unmountComponentAtNode(r);
                };
                var c = l(s);
                o.a.render(c, r);
            });
        var a = r(502),
            i = r(30),
            o = r.n(i);
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            if (null == e) return {};
            var r,
                n,
                a = (function (e, t) {
                    if (null == e) return {};
                    var r,
                        n,
                        a = {},
                        i = Object.keys(e);
                    for (n = 0; n < i.length; n++)
                        (r = i[n]), t.indexOf(r) >= 0 || (a[r] = e[r]);
                    return a;
                })(e, t);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                for (n = 0; n < i.length; n++)
                    (r = i[n]),
                        t.indexOf(r) >= 0 ||
                            (Object.prototype.propertyIsEnumerable.call(e, r) &&
                                (a[r] = e[r]));
            }
            return a;
        }
        function a(e) {
            var t = e.split(":"),
                r = t[0];
            if ("action" === r) {
                var n = t[1];
                if (!l.has("".concat(r, ":").concat(n))) return;
                return l.get("".concat(r, ":").concat(n));
            }
            var a = t[1],
                i = t[2];
            return l.has("".concat(r, ":").concat(a))
                ? l.get("".concat(r, ":").concat(a))
                : l.has("".concat(r, ":").concat(a, ":").concat(i))
                ? l.get("".concat(r, ":").concat(a, ":").concat(i))
                : void 0;
        }
        t.a = a;
        var i = r(88),
            o = r(134),
            s = r(1),
            l = (r.n(s), new Map());
        l.set("action:dismiss", function () {
            return function (e) {
                e.ctx.dismiss();
            };
        }),
            l.set("action:submit_order", function () {
                return function (e) {
                    e.ctx.submitOrder();
                };
            }),
            l.set("drawer:1.0:error", function (e) {
                var t = {
                        dismiss: function () {
                            window.ComponentCart &&
                                window.ComponentCart.unlock(),
                                e.remove();
                        },
                        submitOrder: function () {
                            e.remove(), window.efoodLib.checkout.validate();
                        },
                    },
                    r = e.actions.map(function (e, r) {
                        var i = e.component,
                            o = n(e, ["component"]),
                            s = a(i);
                        o.key = r;
                        return s(o, { ctx: t });
                    });
                return Object(s.createElement)(o.a, {
                    title: e.title,
                    subtitle: e.subtitle,
                    image: "/site-assets/img/components/drawer/error.png",
                    disableClickAway: !0,
                    dismissable: !1,
                    children: r,
                    type: "drawer-1-0-error",
                    ctx: { onClose: e.remove },
                });
            }),
            l.set("button:1.0:primary", function (e, t) {
                var r = t.ctx,
                    o = e.action,
                    l = n(e, ["action"]),
                    c = a(o.uri),
                    u = c ? c() : function () {};
                return Object(s.createElement)(i.a, {
                    title: l.title,
                    style: "primary",
                    onClick: function () {
                        return u({ ctx: r });
                    },
                });
            }),
            l.set("button:1.0:secondary", function (e, t) {
                var r = t.ctx,
                    o = e.action,
                    l = n(e, ["action"]),
                    c = a(o.uri),
                    u = c ? c() : function () {};
                return Object(s.createElement)(i.a, {
                    title: l.title,
                    style: "secondary",
                    onClick: function () {
                        return u({ ctx: r });
                    },
                });
            });
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i);
        t.a = function (e) {
            function t(t) {
                t.keyCode === e && i(!0);
            }
            var r = n(o.a.useState(!1), 2),
                a = r[0],
                i = r[1],
                s = function (t) {
                    t.keyCode === e && i(!1);
                };
            return (
                o.a.useEffect(function () {
                    return (
                        window.addEventListener("keydown", t),
                        window.addEventListener("keyup", s),
                        function () {
                            window.removeEventListener("keydown", t),
                                window.removeEventListener("keyup", s);
                        }
                    );
                }, []),
                a
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function () {
            a.a.useLayoutEffect(function () {
                return (
                    document.body.classList.add("modal-open"),
                    function () {
                        return document.body.classList.remove("modal-open");
                    }
                );
            }, []);
        };
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(31),
            a = r.n(n),
            i = r(506);
        a.a.registerCommands([
            ["$set", i.k],
            ["$invoke_component", i.i],
            ["$url_fetch", i.n],
            ["$trigger", i.m],
            ["$track_ga", i.l],
            ["$cart_set_coupon", i.b],
            ["$cart_unset_coupon", i.c],
            ["$cart_validate", i.d],
            ["$dismiss", i.g],
            ["$navigate", i.j],
            ["$catalog_show_offers", i.f],
            ["$catalog_hide_offers", i.e],
            ["$cart_clear_offers", i.a],
            ["$hide_coupons_confirmation", i.h],
        ]);
    },
    function (e, t, r) {
        "use strict";
        var n = r(507);
        r.d(t, "k", function () {
            return n.a;
        });
        var a = r(508);
        r.d(t, "i", function () {
            return a.a;
        });
        var i = r(509);
        r.d(t, "n", function () {
            return i.a;
        });
        var o = r(510);
        r.d(t, "m", function () {
            return o.a;
        });
        var s = r(511);
        r.d(t, "l", function () {
            return s.a;
        });
        var l = r(512);
        r.d(t, "b", function () {
            return l.a;
        });
        var c = r(513);
        r.d(t, "c", function () {
            return c.a;
        });
        var u = r(514);
        r.d(t, "d", function () {
            return u.a;
        });
        var d = r(515);
        r.d(t, "g", function () {
            return d.a;
        });
        var p = r(516);
        r.d(t, "j", function () {
            return p.a;
        });
        var h = r(517);
        r.d(t, "f", function () {
            return h.a;
        });
        var f = r(518);
        r.d(t, "e", function () {
            return f.a;
        });
        var m = r(519);
        r.d(t, "a", function () {
            return m.a;
        });
        var y = r(520);
        r.d(t, "h", function () {
            return y.a;
        });
    },
    function (e, t, r) {
        "use strict";
        var n = r(9),
            a = "filter",
            i = "basic_cuisine";
        t.a = function (e) {
            var t = e.name,
                r = e.type,
                o = e.value;
            return r === a && t === i
                ? function () {
                      return (
                          n.default.Bus.trigger(n.default.SET_FILTER_CATEGORY, {
                              category: o,
                          }),
                          Promise.resolve()
                      );
                  }
                : function () {
                      return Promise.resolve();
                  };
        };
    },
    function (e, t, r) {
        "use strict";
        var n,
            a = r(30),
            i = r.n(a),
            o = r(31),
            s = r.n(o);
        t.a = function (e) {
            var t = e.component;
            return (
                e.success,
                e.failure,
                s.a.hasComponent(t.type)
                    ? function (e) {
                          if (
                              ((e = e || {}),
                              t.attributes.optional &&
                                  !window.ALLOW_INVOKE_COMPONENT)
                          )
                              return (
                                  (window.ALLOW_INVOKE_COMPONENT = !0),
                                  Promise.resolve(!1)
                              );
                          if (t.parent) {
                              e.replaceableInstance ||
                                  console.error(
                                      "Implement 'replaceableInstance' on component's '".concat(
                                          t.type,
                                          "' parent."
                                      )
                                  );
                              var r = s.a.instantiate(t, e);
                              e.replaceableInstance.set[t.parent](r);
                          } else {
                              var a = document.querySelector(
                                  (e && e.mountElement) || ".dc-mp"
                              );
                              a ||
                                  ((a = document.createElement(
                                      "div"
                                  )).classList.add("dc-mp"),
                                  document.body.appendChild(a)),
                                  (e.onClose = function () {
                                      a &&
                                          (i.a.unmountComponentAtNode(a),
                                          a.parentElement === document.body &&
                                              document.body.removeChild(a),
                                          (a = null),
                                          clearTimeout(n));
                                  });
                              var o = s.a.instantiate(t, e);
                              i.a.render(o, a);
                          }
                          return e.delay
                              ? new Promise(function (t) {
                                    return (n = setTimeout(function () {
                                        return t(e);
                                    }, e.delay));
                                })
                              : Promise.resolve(e);
                      }
                    : (console.error(
                          "[$invoke_component] Invalid component invocation with type: ".concat(
                              t.type
                          )
                      ),
                      function () {
                          return Promise.resolve(!0);
                      })
            );
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = e.url;
            return (
                e.success,
                e.failure,
                function () {
                    return fetch(t, {
                        headers: {
                            "X-core-session-id": window.app.userSid,
                            "X-core-platform": "web",
                            "X-core-version": window.app.siteVersion,
                            "Accept-Language": window.app.apiLocale,
                        },
                    });
                }
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(9),
            a = r(117),
            i = (r.n(a), "user_authentication"),
            o = "refresh",
            s = "user_addresses";
        t.a = function (e) {
            var t = e.action;
            return t === i
                ? function () {
                      return (
                          n.default.Bus.trigger(n.default.AUTHENTICATE),
                          a.Promise.resolve({ stop: !0 })
                      );
                  }
                : t === o
                ? function () {
                      return (
                          n.default.Bus.trigger(n.default.REFRESH),
                          a.Promise.resolve()
                      );
                  }
                : t === s
                ? function () {
                      return (
                          n.default.Bus.trigger(n.default.USER_ADDRESSES),
                          a.Promise.resolve()
                      );
                  }
                : function () {
                      return a.Promise.reject("[Unkown trigger]: ".concat(t));
                  };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(14),
            a = (r.n(n), "CONSENT_LOADED"),
            i = "CONSENT_SUBMITTED",
            o = "SHOP_DETAILS_LOYALTY_LOADED",
            s = "SHOP_DETAILS_LOYALTY_CLICKED",
            l = "LOYALTY_COUPON_SELECTED",
            c = "LOYALTY_COUPON_REMOVED",
            u = "LOYALTY_PROMO_LOADED";
        t.a = function (e) {
            var t = e.event_name,
                r = e.event_params;
            if (t === a)
                return function () {
                    return (
                        Object(n.consentLoaded)(
                            window.app.shop.id,
                            window.app.verticalType
                        ),
                        Promise.resolve()
                    );
                };
            if (t === i) {
                var d = r.consentResponse;
                return function () {
                    return (
                        Object(n.consentSubmitted)(
                            d,
                            window.app.shop.id,
                            window.app.verticalType
                        ),
                        Promise.resolve()
                    );
                };
            }
            if (t === o) {
                var p = r.loyaltyProgress,
                    h = r.loyaltyValue;
                return function () {
                    return (
                        Object(n.shopDetailsLoyaltyLoaded)(
                            p,
                            h,
                            window.app.shop.id,
                            window.app.verticalType
                        ),
                        Promise.resolve()
                    );
                };
            }
            return t === s
                ? function () {
                      return (
                          Object(n.shopDetailsLoyaltyClicked)(
                              window.app.shop.id,
                              window.app.verticalType
                          ),
                          Promise.resolve()
                      );
                  }
                : t === l
                ? function () {
                      return (
                          Object(n.loyaltyCouponSelected)(
                              window.app.shop.id,
                              window.app.verticalType
                          ),
                          Promise.resolve()
                      );
                  }
                : t === c
                ? function () {
                      return (
                          Object(n.loyaltyCouponRemoved)(
                              window.app.shop.id,
                              window.app.verticalType
                          ),
                          Promise.resolve()
                      );
                  }
                : t === u
                ? function () {
                      return (
                          Object(n.loyaltyPromoLoaded)(
                              window.app.shop.id,
                              window.app.verticalType
                          ),
                          Promise.resolve()
                      );
                  }
                : function () {
                      return Promise.resolve();
                  };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(9);
        t.a = function (e) {
            var t = e.code;
            return function (e) {
                if (t) {
                    if (!window.ComponentCart) return Promise.reject(e);
                    window.ComponentCart.setCoupon(t, !1, !1),
                        n.default.Bus.trigger(
                            n.default.RUBY_COUPON_OPTION_CLICKED,
                            { coupon_code: t }
                        );
                }
                return (
                    Object.assign(e, { cmdType: "$cart_set_coupon" }),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(9);
        t.a = function (e) {
            return (
                e.code,
                function (e) {
                    return (
                        window.ComponentCart.setCoupon(null, !1, !1),
                        n.default.Bus.trigger(
                            n.default.RUBY_COUPON_OPTION_CLICKED,
                            { coupon_code: null }
                        ),
                        Object.assign(e, { cmdType: "$cart_unset_coupon" }),
                        Promise.resolve(e)
                    );
                }
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t, r, n, a, i, o) {
            try {
                var s = e[i](o),
                    l = s.value;
            } catch (e) {
                return void r(e);
            }
            s.done ? t(l) : Promise.resolve(l).then(n, a);
        }
        t.a = function (e) {
            return (function () {
                var e = (function (e) {
                    return function () {
                        var t = this,
                            r = arguments;
                        return new Promise(function (a, i) {
                            function o(e) {
                                n(l, a, i, o, s, "next", e);
                            }
                            function s(e) {
                                n(l, a, i, o, s, "throw", e);
                            }
                            var l = e.apply(t, r);
                            o(void 0);
                        });
                    };
                })(
                    regeneratorRuntime.mark(function e(t) {
                        var r;
                        return regeneratorRuntime.wrap(function (e) {
                            for (;;)
                                switch ((e.prev = e.next)) {
                                    case 0:
                                        return (
                                            (e.next = 2),
                                            window.ComponentCart.validate()
                                        );
                                    case 2:
                                        if (
                                            ((r = e.sent),
                                            "$cart_set_coupon" !== t.cmdType)
                                        ) {
                                            e.next = 9;
                                            break;
                                        }
                                        if (r.coupon_valid) {
                                            e.next = 6;
                                            break;
                                        }
                                        return e.abrupt(
                                            "return",
                                            Promise.reject(t)
                                        );
                                    case 6:
                                        return e.abrupt(
                                            "return",
                                            Promise.resolve(t)
                                        );
                                    case 9:
                                        if (
                                            "$cart_unset_coupon" !== t.cmdType
                                        ) {
                                            e.next = 13;
                                            break;
                                        }
                                        if (!r.coupon_valid) {
                                            e.next = 12;
                                            break;
                                        }
                                        return e.abrupt(
                                            "return",
                                            Promise.reject(t)
                                        );
                                    case 12:
                                        return e.abrupt(
                                            "return",
                                            Promise.resolve(t)
                                        );
                                    case 13:
                                    case "end":
                                        return e.stop();
                                }
                        }, e);
                    })
                );
                return function (t) {
                    return e.apply(this, arguments);
                };
            })();
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            var t = e.cref;
            return function (e) {
                return (
                    t &&
                    e &&
                    e.replaceableInstance &&
                    e.replaceableInstance.remove[t]
                        ? e.replaceableInstance.remove[t]()
                        : e && e.closeDialog(),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(14);
        r.n(n);
        t.a = function (e) {
            var t = e.type,
                r = e.params;
            return function () {
                if ("page" === t)
                    if (
                        window &&
                        window.app &&
                        window.app.status &&
                        window.app.status.isJokerActive
                    ) {
                        (window.app.link_joker_abandon = r.url),
                            window.ComponentCart.mountJokerModalAbandon();
                        var e = window.ComponentCart.joker();
                        n.jokerGA.sendAbandonStarted(e);
                    } else window.location = r.url;
                return Promise.resolve();
            };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(9);
        t.a = function (e) {
            return function (e) {
                return (
                    n.default.Bus.trigger(n.default.MENU_SHOW_OFFERS),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(9);
        t.a = function (e) {
            return function (e) {
                return (
                    n.default.Bus.trigger(n.default.MENU_HIDE_OFFERS),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return function (e) {
                return (
                    window.ComponentCart.offersAndDiscountsRemove(),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        t.a = function (e) {
            return function (e) {
                return (
                    e.setReplaceableInstance && e.setReplaceableInstance(null),
                    Promise.resolve(e)
                );
            };
        };
    },
    function (e, t, r) {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var n = r(31),
            a = r.n(n),
            i = r(522),
            o = r(523),
            s = r(134),
            l = r(524),
            c = r(525),
            u = r(88),
            d = r(526),
            p = r(527),
            h = r(528),
            f = r(529),
            m = r(552),
            y = r(553),
            g = r(554),
            v = r(556),
            b = r(558),
            w = r(559),
            _ = r(560);
        a.a.registerComponents([
            [
                "label:1.0:text",
                o.a,
                function (e, t) {
                    return Object.assign(e, { onClick: t.click });
                },
            ],
            [
                "radio:1.0:option",
                l.a,
                function (e, t) {
                    return Object.assign(e, { onClick: t.click });
                },
            ],
            [
                "banner:1.0:notification",
                p.a,
                function (e, t) {
                    return Object.assign(e, {
                        onInit: t.init,
                        onClick: t.click,
                    });
                },
            ],
            [
                "button:1.0:primary",
                u.a,
                function (e, t) {
                    return (
                        (e.ctx.onClick = e.ctx.onClose),
                        Object.assign(e, { onClick: t.click })
                    );
                },
            ],
            [
                "card:1.0:radio",
                d.a,
                function (e, t) {
                    return Object.assign(e, { onInit: t.init });
                },
            ],
            ["list:1.0:component", y.a],
            ["replaceable-list:1.0:component", _.a],
            ["header:1.0:info", m.a],
            ["image_text:1.0:component", d.a],
        ]),
            a.a.registerComponents([
                [
                    "modal:1.0:radio",
                    s.a,
                    function (e, t) {
                        return (
                            (e.ctx.afterClick = e.ctx.onClose),
                            Object.assign(e, {
                                onInit: t.init,
                                disableClickAway: !0,
                                dismissable: !0,
                            })
                        );
                    },
                ],
                [
                    "modal:1.0:dialog",
                    s.a,
                    function (e, t) {
                        return (
                            (e.ctx.afterClick = e.ctx.onClose),
                            Object.assign(e, {
                                disableClickAway: !1,
                                dismissable: !0,
                            })
                        );
                    },
                ],
                [
                    "modal:1.0:info",
                    h.a,
                    function (e, t) {
                        return Object.assign(e, {
                            disableClickAway: !1,
                            dismissable: !0,
                        });
                    },
                ],
            ]),
            a.a.registerComponents([
                [
                    "modal:1.0:rubies",
                    c.a,
                    function (e, t) {
                        return Object.assign(e, {
                            disableClickAway: !0,
                            dismissable: !0,
                        });
                    },
                ],
                ["ruby_counter:1.0:component", g.a],
                [
                    "ruby_coupon:1.0:option",
                    v.a,
                    function (e, t) {
                        return Object.assign(e, { onCouponChange: t.click });
                    },
                ],
                [
                    "banner:1.0:gamification",
                    w.a,
                    function (e, t) {
                        return Object.assign(e, { onClick: t.click });
                    },
                ],
                [
                    [
                        "snack_view:1.0:success",
                        "snack_view:1.0:warning",
                        "snack_view:1.0:error",
                    ],
                    b.a,
                    function (e, t, r) {
                        return Object.assign(e, { severity: r.variation });
                    },
                ],
            ]),
            a.a.registerComponents([
                ["dynamic-component-loader:1.0:local", f.a],
                ["skeleton:1.0:notification", i.a],
            ]);
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                {
                    className:
                        "my-7 mx-5 mb-lg-5 mt-lg-0 mx-lg-0 py-1 bg-white box-shadow rounded",
                },
                a.a.createElement(
                    "div",
                    {
                        className:
                            "pl-5 pl-sm-7 pr-5 py-4 d-flex position-relative align-items-center",
                    },
                    a.a.createElement(
                        "div",
                        {
                            className:
                                "mr-5 align-self-lg-center position-relative",
                        },
                        a.a.createElement("div", {
                            className:
                                "skeleton-shape skeleton-shape--img-circle",
                            style: { width: "40px", height: "40px" },
                        })
                    ),
                    a.a.createElement(
                        "div",
                        { className: "w-100" },
                        a.a.createElement("div", {
                            className:
                                "skeleton-shape skeleton-shape--heading mb-3 mr-5",
                            style: { maxWidth: "140px" },
                        }),
                        a.a.createElement("div", {
                            className:
                                "skeleton-shape skeleton-shape--text-small",
                            style: { maxWidth: "300px" },
                        })
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                {
                    className: "search-category-consent p-5 rounded w-100",
                    onClick: e.onClick,
                },
                "html" === e.mode
                    ? a.a.createElement("div", {
                          className: "search-category-consent__text",
                          dangerouslySetInnerHTML: { __html: e.text },
                      })
                    : a.a.createElement(
                          "div",
                          { className: "search-category-consent__text" },
                          e.text
                      )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                { className: "input-radio-mark position-relative mb-3" },
                a.a.createElement("input", {
                    id: "radio-".concat(e.uuid),
                    type: "radio",
                    defaultChecked: e.selected,
                    onClick: function () {
                        e.onClick(e.ctx).then(function () {
                            e.ctx && e.ctx.afterClick && e.ctx.afterClick();
                        });
                    },
                }),
                a.a.createElement(
                    "label",
                    {
                        htmlFor: "radio-".concat(e.uuid),
                        className: "font-weight-normal mb-0 mb-5 pl-10 w-100",
                    },
                    e.text
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return (n =
                Object.assign ||
                function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = arguments[t];
                        for (var n in r)
                            Object.prototype.hasOwnProperty.call(r, n) &&
                                (e[n] = r[n]);
                    }
                    return e;
                }).apply(this, arguments);
        }
        var a = r(1),
            i = r.n(a),
            o = r(88),
            s = r(9),
            l = r(197);
        t.a = function (e) {
            function t() {
                s.default.Bus.trigger(s.default.DYNAMIC_COMPONENT_FETCH_DATA, {
                    view: "shop_profile.ruby_banner",
                    data:
                        window.ComponentCart &&
                        window.ComponentCart.cart().export(),
                }),
                    e.ctx.onClose && e.ctx.onClose();
            }
            return (
                Object(a.useEffect)(function () {
                    e.onInit && e.onInit(), (e.ctx.closeDialog = t);
                }, []),
                i.a.createElement(
                    l.a,
                    n({ onClose: t }, e),
                    i.a.createElement(
                        "div",
                        { className: "re-dialog-content" },
                        e.children
                    ),
                    i.a.createElement("div", { id: "snackbar-mount-element" }),
                    i.a.createElement(
                        "div",
                        { className: "re-dialog-buttons" },
                        i.a.createElement(o.a, {
                            style: "primary",
                            title: "OK",
                            onClick: t,
                        })
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i),
            s = (r(198), r(87));
        t.a = function (e) {
            var t = n(Object(i.useState)(null), 2),
                r = t[0],
                a = t[1];
            return (
                Object(i.useEffect)(function () {
                    e.onInit && e.onInit(),
                        e.animation &&
                            (function () {
                                var t = s.a.animate("re-card-animation", r, {
                                    animationUrl: e.animation.url,
                                    animationSpeed: e.animation.speed,
                                    quality: e.animation.quality,
                                });
                                a(t);
                            })();
                }, []),
                o.a.createElement(
                    "div",
                    { className: "re-card ".concat(e.type) },
                    e.image &&
                        o.a.createElement(
                            "div",
                            { className: "re-card-icon" },
                            o.a.createElement("img", {
                                className: "re-card-icon__img",
                                src: e.image,
                            })
                        ),
                    e.animation &&
                        o.a.createElement("div", {
                            className: "re-card-animation",
                            id: "re-card-animation",
                        }),
                    o.a.createElement(
                        "div",
                        { className: "re-card-content" },
                        o.a.createElement(
                            "p",
                            { className: "re-card-content__title" },
                            e.title
                        ),
                        o.a.createElement(
                            "p",
                            { className: "re-card-content__subtitle" },
                            e.subtitle
                        ),
                        o.a.createElement(
                            "p",
                            { className: "re-card-content__text" },
                            e.text
                        )
                    ),
                    e.children &&
                        o.a.createElement(
                            "div",
                            { className: "re-card-buttons" },
                            i.Children.map(e.children, function (e) {
                                return e;
                            })
                        )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return (
                Object(n.useEffect)(
                    function () {
                        e.ctx.loading || (e.onInit && e.onInit());
                    },
                    [e.ctx.loading]
                ),
                a.a.createElement(
                    "div",
                    {
                        className:
                            "my-7 mx-5 mb-lg-5 mt-lg-0 mx-lg-0 bg-white box-shadow rounded",
                        style: {
                            cursor: "pointer",
                            pointerEvents: e.ctx.static ? "none" : "auto",
                        },
                        onClick: function (t) {
                            return t.preventDefault(), e.onClick(), !1;
                        },
                    },
                    a.a.createElement(
                        "div",
                        {
                            className:
                                "pl-5 pl-sm-7 pr-5 py-5 d-flex position-relative align-items-center",
                        },
                        a.a.createElement(
                            "div",
                            {
                                className:
                                    "mr-5 align-self-lg-center position-relative",
                                style: { flex: "0 0 40px" },
                            },
                            a.a.createElement("img", {
                                src: e.icon,
                                width: "40px",
                                height: "40px",
                                className:
                                    "d-inline-block rounded-circle lazyloaded",
                                alt: "icon",
                            })
                        ),
                        a.a.createElement(
                            "div",
                            { className: "px-0" },
                            a.a.createElement(
                                "h3",
                                {
                                    className:
                                        "position-relative d-flex mb-0 mr-5",
                                },
                                e.title
                            ),
                            e.subtitle &&
                                a.a.createElement(
                                    "p",
                                    { className: "text-muted m-0 mt-0" },
                                    e.subtitle
                                )
                        ),
                        !e.ctx.static &&
                            a.a.createElement(
                                "div",
                                {
                                    className:
                                        "d-flex flex-column ml-auto text-muted",
                                },
                                a.a.createElement(
                                    "div",
                                    { className: "ml-auto mr-0 my-auto" },
                                    a.a.createElement("i", {
                                        className: "fas fa-chevron-right fa-lg",
                                        "aria-hidden": "true",
                                    })
                                )
                            )
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n() {
            return (n =
                Object.assign ||
                function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = arguments[t];
                        for (var n in r)
                            Object.prototype.hasOwnProperty.call(r, n) &&
                                (e[n] = r[n]);
                    }
                    return e;
                }).apply(this, arguments);
        }
        var a = r(1),
            i = r.n(a),
            o = r(134),
            s = r(88);
        t.a = function (e) {
            function t() {
                e.ctx.onClose && e.ctx.onClose();
            }
            return i.a.createElement(
                o.a,
                n({ onClose: t }, e),
                i.a.createElement(s.a, {
                    style: "primary",
                    title: e.button_label,
                    onClick: t,
                })
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i),
            s = r(31),
            l = r.n(s),
            c = r(530),
            u = r(133),
            d = r(9);
        t.a = function (e) {
            var t = n(
                    Object(c.a)({
                        renderOn: e.renderOn,
                        view: e.view,
                        data: e.data,
                    }),
                    3
                ),
                r = t[0],
                a = t[1],
                i = t[2];
            return (
                Object(u.a)(
                    d.default.DYNAMIC_COMPONENT_FETCH_DATA,
                    function (t) {
                        e.view === t.view && a(t.data);
                    }
                ),
                r && l.a.isValidComponent(r)
                    ? "error" === r.type
                        ? (console.error(
                              "[DynamicComponentLoader] Error loading dynamic component's data."
                          ),
                          null)
                        : o.a.createElement(
                              o.a.Fragment,
                              null,
                              l.a.instantiate(r, { loading: i })
                          )
                    : (function (e) {
                          return l.a.hasComponent(e)
                              ? l.a.instantiate(
                                    {
                                        type: e,
                                        components: [],
                                        "components:type": "void:1.0:null",
                                        uuid: "",
                                        attributes: {},
                                        events: {},
                                    },
                                    null
                                )
                              : null;
                      })(e.skeleton)
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(e);
                t &&
                    (n = n.filter(function (t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })),
                    r.push.apply(r, n);
            }
            return r;
        }
        function a(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2
                    ? n(Object(r), !0).forEach(function (t) {
                          !(function (e, t, r) {
                              t in e
                                  ? Object.defineProperty(e, t, {
                                        value: r,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                    })
                                  : (e[t] = r);
                          })(e, t, r[t]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(r)
                      )
                    : n(Object(r)).forEach(function (t) {
                          Object.defineProperty(
                              e,
                              t,
                              Object.getOwnPropertyDescriptor(r, t)
                          );
                      });
            }
            return e;
        }
        function i(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return o(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return o(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function o(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var s = r(1),
            l = (r.n(s), r(9)),
            c = r(531),
            u = r(551);
        t.a = function (e) {
            function t(t) {
                var r = Object(u.a)(e.view, t),
                    n = Object.assign({}, e.data, r);
                p(!0),
                    c.a.componentsData(e.view, n).then(function (e) {
                        "error" !== e.status
                            ? m(e.data)
                            : m({
                                  uuid: "xxx-xxx-xxx",
                                  type: "error",
                                  attributes: {},
                                  events: {},
                                  components: [],
                                  "components:type": "void:1.0:null",
                              }),
                            p(!1);
                    });
            }
            var r = Object(s.useRef)(e.renderOn),
                n = Object(s.useRef)({}),
                o = i(Object(s.useState)(!1), 2),
                d = o[0],
                p = o[1],
                h = i(Object(s.useState)(null), 2),
                f = h[0],
                m = h[1];
            return (
                Object(s.useEffect)(function () {
                    e.renderOn ||
                        console.error(
                            "[useDataComponents] missing prop renderOn"
                        ),
                        "immediate" === e.renderOn
                            ? t()
                            : Array.isArray(e.renderOn)
                            ? e.renderOn.forEach(function (e) {
                                  l.default.Bus.once(e, function (e) {
                                      e.data &&
                                          (n.current = a(
                                              a({}, n.current),
                                              e.data
                                          )),
                                          (r.current = r.current.filter(
                                              function (t) {
                                                  return t !== e.name;
                                              }
                                          )),
                                          0 === r.current.length &&
                                              t(n.current);
                                  });
                              })
                            : l.default.Bus.once(e.renderOn, t);
                }, []),
                [f, t, d]
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = new (r(532).a)({
            baseUrl: app.apiURL,
            language: app.apiLocale,
            platform: app.apiPlatform || "web",
            version: app.apiVersion || 2,
            userSid: app.userSid,
            debug: !1,
        });
        n.gamifyShopProfileRubyNotification, (t.a = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            return null == e || 0 === e.length;
        }
        var a = r(533),
            i = r.n(a),
            o = {
                errorFormat: function (e) {
                    return "[api-js-sdk] " + e;
                },
                error: function (e) {
                    return new Error(o.errorFormat(e));
                },
            },
            s = (function () {
                function e(e) {
                    e || (e = {}),
                        (this.baseUrl =
                            e.baseUrl || "https://apistg.e-food.gr"),
                        (this.language = e.language || "el"),
                        (this.platform = e.platform || "web"),
                        (this.version = e.version || "1"),
                        (this.userSid = e.userSid || null),
                        (this.debug = e.debug || !1),
                        this.debug &&
                            (console.log(
                                "%csdk::constructor(%coptions%c)",
                                "color: #1e88e5",
                                "color: #f4511e",
                                "color: #1e88e5",
                                e
                            ),
                            console.log(
                                "%csdk::createAPIInstance(%coptions%c)",
                                "color: #1e88e5",
                                "color: #f4511e",
                                "color: #1e88e5",
                                this.baseUrl,
                                this.language,
                                this.userSid
                            )),
                        (this.api = (function (e, t, r, n, a) {
                            var o = {
                                "Content-Type": "application/json",
                                "Accept-Language": t,
                                "X-core-platform": n,
                                "X-core-version": a,
                            };
                            r && "" !== r && (o["X-core-session-id"] = r);
                            var s = i.a.create({
                                timeout: 6e4,
                                baseURL: e,
                                headers: o,
                                params: { lang: t },
                            });
                            return (
                                s.interceptors.response.use(
                                    function (e) {
                                        return e.data;
                                    },
                                    function (e) {
                                        return (
                                            console.error(e), Promise.reject(e)
                                        );
                                    }
                                ),
                                s
                            );
                        })(
                            this.baseUrl,
                            this.language,
                            this.userSid,
                            this.platform,
                            this.version
                        ));
                }
                return (
                    (e.prototype.instanceOptions = function () {
                        return {
                            baseUrl: this.baseUrl,
                            language: this.language,
                            platform: this.platform,
                            version: this.version,
                            debug: this.debug,
                            userSid: this.userSid,
                        };
                    }),
                    (e.prototype.authenticate = function (t) {
                        return new e({
                            baseUrl: this.baseUrl,
                            language: this.language,
                            platform: this.platform,
                            version: this.version,
                            debug: this.debug,
                            userSid: t,
                        });
                    }),
                    (e.prototype.isAuthenticated = function () {
                        return (
                            this.debug &&
                                console.log(
                                    "%csdk.isAuthenticated()",
                                    "color: #1e88e5",
                                    this.userSid
                                ),
                            !n(this.userSid)
                        );
                    }),
                    (e.prototype.provisioning = function () {
                        return this.api.get("api/v1/provisioning");
                    }),
                    (e.prototype.cuisines = function () {
                        return this.api.get("v2/cuisines");
                    }),
                    (e.prototype.login = function (e, t) {
                        return n(e) || n(t)
                            ? Promise.reject(
                                  o.error(
                                      "login(email, password): email and password are required"
                                  )
                              )
                            : this.api.post("api/v1/user/login", {
                                  email: e,
                                  password: t,
                              });
                    }),
                    (e.prototype.register = function (e, t) {
                        return n(e) || n(t)
                            ? Promise.reject(
                                  o.error(
                                      "register(email, password): email and password are required"
                                  )
                              )
                            : this.api.post("api/v1/user/register", {
                                  email: e,
                                  email_repeat: e,
                                  password: t,
                                  password_repeat: t,
                              });
                    }),
                    (e.prototype.user = function () {
                        return this.api.get("api/v1/user/account");
                    }),
                    (e.prototype.userUpdate = function (e, t, r) {
                        return n(e) || n(t) || n(r)
                            ? Promise.reject(
                                  o.error(
                                      "userUpdate(firstName, lastName, cellphone): firstName, lastName and cellphone are required"
                                  )
                              )
                            : this.api.post("api/v1/user/account", {
                                  first_name: e,
                                  last_name: t,
                                  cellphone: r,
                              });
                    }),
                    (e.prototype.userConfirm = function () {
                        return this.api.post("api/v1/user/confirm");
                    }),
                    (e.prototype.userAuthenticate = function (e) {
                        return n(e)
                            ? Promise.reject(
                                  o.error(
                                      "userAuthenticate(code): code is required"
                                  )
                              )
                            : this.api.post("api/v1/user/authenticate", {
                                  key: e,
                              });
                    }),
                    (e.prototype.userResetPassword = function (e) {
                        return this.api.post("api/v1/user/reset_password", {
                            email: e,
                        });
                    }),
                    (e.prototype.userUpdatePassword = function (e, t) {
                        return n(e) || n(t)
                            ? Promise.reject(
                                  o.error(
                                      "userUpdate(currentPassword, newPassword): currentPassword and newPassword are required"
                                  )
                              )
                            : this.api.post(
                                  "api/v1/user/account/change_password",
                                  {
                                      old_password: e,
                                      password: t,
                                      password_repeat: t,
                                  }
                              );
                    }),
                    (e.prototype.reOrder = function (e) {
                        return !n(e) && "number" == typeof e && e > 0
                            ? this.api.get("api/v1/order/reorder/" + e)
                            : Promise.reject(
                                  o.error(
                                      "reOrder(orderId): orderId must be a positive number, greater than 0"
                                  )
                              );
                    }),
                    (e.prototype.orderValidate = function (e) {
                        return n(e) || "object" != typeof e || Array.isArray(e)
                            ? Promise.reject(
                                  o.error(
                                      "orderValidate(cart): cart must be an object"
                                  )
                              )
                            : this.api.post("api/v1/order/validate/", e);
                    }),
                    (e.prototype.orderValidateV2 = function (e) {
                        return n(e) || "object" != typeof e || Array.isArray(e)
                            ? Promise.reject(
                                  o.error(
                                      "orderValidateV2(cart): cart must be an object"
                                  )
                              )
                            : this.api.post("v2/order/validate", e);
                    }),
                    (e.prototype.orderSubmit = function (e) {
                        return n(e) || "object" != typeof e || Array.isArray(e)
                            ? Promise.reject(
                                  o.error(
                                      "orderSubmit(cart): cart must be an object"
                                  )
                              )
                            : this.api.post("api/v1/order/submit", e);
                    }),
                    (e.prototype.orderSubmitGuest = function (e, t, r) {
                        return n(e) || "object" != typeof e || Array.isArray(e)
                            ? Promise.reject(
                                  o.error(
                                      "orderSubmit(cart): cart must be an object"
                                  )
                              )
                            : n(t) || "object" != typeof t || Array.isArray(t)
                            ? Promise.reject(
                                  o.error(
                                      "orderSubmit(cart, guest): guest must be an object"
                                  )
                              )
                            : n(r) || "object" != typeof r || Array.isArray(r)
                            ? Promise.reject(
                                  o.error(
                                      "orderSubmit(cart, guest, address): address must be an object"
                                  )
                              )
                            : this.api.post("v2/order/submit/guest", {
                                  cart: e,
                                  guest: t,
                                  address: r,
                              });
                    }),
                    (e.prototype.orderStatus = function (e) {
                        return !n(e) && "number" == typeof e && e > 0
                            ? this.api.get("api/v1/order/status/" + e)
                            : Promise.reject(
                                  o.error(
                                      "orderStatus(orderId): orderId must be a positive number, greater than 0"
                                  )
                              );
                    }),
                    (e.prototype.userShopOrders = function (e) {
                        return !n(e) && "number" == typeof e && e > 0
                            ? this.api.get(
                                  "v2/order/restaurant/unique?restaurant_id=" +
                                      e
                              )
                            : Promise.reject(
                                  o.error(
                                      "userShopOrders(shopId): shopId must be a positive number, greater than 0"
                                  )
                              );
                    }),
                    (e.prototype.shopById = function (e, t, r) {
                        return t
                            ? this.api.get("api/v1/business/restaurants/" + e, {
                                  params: r,
                              })
                            : this.api.get("api/v1/restaurants/" + e, {
                                  params: r,
                              });
                    }),
                    (e.prototype.shopByChainSlug = function (e, t, r, a) {
                        if (n(e) || n(t) || n(r))
                            return Promise.reject(
                                o.error(
                                    "shopByChainSlug(chainSlug, latitude, longitude, version?): chainSlug, latitude and longitude are required and must be a string"
                                )
                            );
                        var i = { chain_slug: e, lat: t, lon: r };
                        return (
                            n(a) || (i.version = a),
                            this.api.get("api/v1/restaurants/single/", {
                                params: i,
                            })
                        );
                    }),
                    (e.prototype.shopMenuItem = function (e, t, r) {
                        var a = { restaurant_id: e, item_code: t };
                        return (
                            n(r) || (a.offer_line = r),
                            this.api.get("api/v1/restaurants/menuitem/", {
                                params: a,
                            })
                        );
                    }),
                    (e.prototype.cartProductPrice = function (e, t) {
                        return this.api.post(
                            "api/v1/cart/product/price/" + e,
                            t
                        );
                    }),
                    (e.prototype.pinataOfferList = function (e, t, r) {
                        return this.api.get("api/v1/pinata/offer/list", {
                            params: { lat: e, lon: t, restaurant_id: r },
                        });
                    }),
                    (e.prototype.pinataOfferReject = function (e) {
                        return this.api.get("api/v1/pinata/offer/reject", {
                            params: { offer_id: e },
                        });
                    }),
                    (e.prototype.pinataOfferAccept = function (e, t) {
                        return this.api.get("api/v1/pinata/offer/accept", {
                            params: { offer_id: e, reservation_code: t },
                        });
                    }),
                    (e.prototype.geocode = function (e) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "geocode(address): address must be a string"
                                  )
                              )
                            : this.api.get("v2/location/geocoding", {
                                  params: { address: e },
                              });
                    }),
                    (e.prototype.reverseGeocode = function (e, t) {
                        return n(e) || n(t)
                            ? Promise.reject(
                                  o.error(
                                      "reverseGeocode(latitude, longitude): latitude, longitude are required"
                                  )
                              )
                            : this.api.get("v2/location/reverseg", {
                                  params: { lat: e, lon: t },
                              });
                    }),
                    (e.prototype.places = function (e) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "places(address): address must be a string"
                                  )
                              )
                            : this.api.get("v2/location/places", {
                                  params: { address: e },
                              });
                    }),
                    (e.prototype.regionsClients = function () {
                        return this.api.get("api/v1/regions/clients");
                    }),
                    (e.prototype.regions = function () {
                        return this.api.get("api/v1/regions");
                    }),
                    (e.prototype.regionsFind = function (e) {
                        return n(e)
                            ? Promise.reject(
                                  o.error(
                                      "regionsFind(slug): slug must not be empty string"
                                  )
                              )
                            : this.api.get("v3/regions/find", {
                                  params: { slug: e },
                              });
                    }),
                    (e.prototype.notifications = function (e, t) {
                        return (
                            void 0 === t && (t = {}),
                            n(e) || "string" != typeof e
                                ? Promise.reject(
                                      o.error(
                                          "notifications(view, optionalParameters = {}): view must be a string"
                                      )
                                  )
                                : this.api.post(
                                      "v2/notifications",
                                      Object.assign({}, { view: e }, t)
                                  )
                        );
                    }),
                    (e.prototype.paymentMethods = function (e) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethods(gateway): gateway must be a string"
                                  )
                              )
                            : this.api.get("/api/v1/ext/" + e + "/methods");
                    }),
                    (e.prototype.paymentMethodInit = function (e) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethodInit(gateway): gateway must be a string"
                                  )
                              )
                            : this.api.get("/api/v1/ext/" + e + "/methods/add");
                    }),
                    (e.prototype.paymentMethodSave = function (e, t) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethodSave(gateway, nonce): gateway must be a string"
                                  )
                              )
                            : n(t) || "string" != typeof t
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethodSave(gateway, nonce): nonce must be a string"
                                  )
                              )
                            : this.api.post(
                                  "/api/v1/ext/" + e + "/methods/add",
                                  { nonce: t }
                              );
                    }),
                    (e.prototype.paymentMethodDelete = function (e, t) {
                        return n(e) || "string" != typeof e
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethodDelete(gateway, token): gateway must be a string"
                                  )
                              )
                            : n(t) || "string" != typeof t
                            ? Promise.reject(
                                  o.error(
                                      "paymentMethodDelete(gateway, token): token must be a string"
                                  )
                              )
                            : this.api.post(
                                  "/api/v1/ext/" + e + "/methods/delete",
                                  { token: t }
                              );
                    }),
                    (e.prototype.categories = function () {
                        return this.api.get("v3/categories");
                    }),
                    (e.prototype.category = function (e) {
                        return n(e)
                            ? Promise.reject(
                                  o.error(
                                      "category(alias): alias should not be empty"
                                  )
                              )
                            : this.api.get("/v3/categories/" + e);
                    }),
                    (e.prototype.orderTracking = function (e) {
                        return this.api.get("/v3/user/orders/tracking", {
                            params: { order_id: e },
                        });
                    }),
                    (e.prototype.deliveryMethods = function (e) {
                        return this.api.post("v3/checkout/delivery_methods", e);
                    }),
                    (e.prototype.shopsCatalogProduct = function (e, t, r) {
                        var n = { shop_id: e, item_code: t };
                        return (
                            r && (n.offer_line = r),
                            this.api.get("v3/shops/catalog/product", {
                                params: n,
                            })
                        );
                    }),
                    (e.prototype.gamifyContext = function () {
                        return this.api.get("v2/gamify/context");
                    }),
                    (e.prototype.gamifyUserMenuSideBanners = function (e) {
                        return (
                            void 0 === e && (e = {}),
                            this.componentsData("user_menu.side_banners", e)
                        );
                    }),
                    (e.prototype.gamifyShopProfileRubyNotification = function (
                        e
                    ) {
                        return (
                            void 0 === e && (e = {}),
                            this.componentsData("user_menu.side_banners", e)
                        );
                    }),
                    (e.prototype.componentsData = function (e, t) {
                        return (
                            void 0 === t && (t = {}),
                            this.api.post("v3/data/components", {
                                view: e,
                                data: t,
                            })
                        );
                    }),
                    e
                );
            })();
        t.a = s;
    },
    function (e, t, r) {
        e.exports = r(534);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            var t = new o(e),
                r = i(o.prototype.request, t);
            return a.extend(r, o.prototype, t), a.extend(r, t), r;
        }
        var a = r(17),
            i = r(199),
            o = r(535),
            s = r(205),
            l = n(r(202));
        (l.Axios = o),
            (l.create = function (e) {
                return n(s(l.defaults, e));
            }),
            (l.Cancel = r(206)),
            (l.CancelToken = r(548)),
            (l.isCancel = r(201)),
            (l.all = function (e) {
                return Promise.all(e);
            }),
            (l.spread = r(549)),
            (l.isAxiosError = r(550)),
            (e.exports = l),
            (e.exports.default = l);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            (this.defaults = e),
                (this.interceptors = { request: new o(), response: new o() });
        }
        var a = r(17),
            i = r(200),
            o = r(536),
            s = r(537),
            l = r(205);
        (n.prototype.request = function (e) {
            "string" == typeof e
                ? ((e = arguments[1] || {}).url = arguments[0])
                : (e = e || {}),
                (e = l(this.defaults, e)).method
                    ? (e.method = e.method.toLowerCase())
                    : this.defaults.method
                    ? (e.method = this.defaults.method.toLowerCase())
                    : (e.method = "get");
            var t = [s, void 0],
                r = Promise.resolve(e);
            for (
                this.interceptors.request.forEach(function (e) {
                    t.unshift(e.fulfilled, e.rejected);
                }),
                    this.interceptors.response.forEach(function (e) {
                        t.push(e.fulfilled, e.rejected);
                    });
                t.length;

            )
                r = r.then(t.shift(), t.shift());
            return r;
        }),
            (n.prototype.getUri = function (e) {
                return (
                    (e = l(this.defaults, e)),
                    i(e.url, e.params, e.paramsSerializer).replace(/^\?/, "")
                );
            }),
            a.forEach(["delete", "get", "head", "options"], function (e) {
                n.prototype[e] = function (t, r) {
                    return this.request(
                        l(r || {}, { method: e, url: t, data: (r || {}).data })
                    );
                };
            }),
            a.forEach(["post", "put", "patch"], function (e) {
                n.prototype[e] = function (t, r, n) {
                    return this.request(
                        l(n || {}, { method: e, url: t, data: r })
                    );
                };
            }),
            (e.exports = n);
    },
    function (e, t, r) {
        "use strict";
        function n() {
            this.handlers = [];
        }
        var a = r(17);
        (n.prototype.use = function (e, t) {
            return (
                this.handlers.push({ fulfilled: e, rejected: t }),
                this.handlers.length - 1
            );
        }),
            (n.prototype.eject = function (e) {
                this.handlers[e] && (this.handlers[e] = null);
            }),
            (n.prototype.forEach = function (e) {
                a.forEach(this.handlers, function (t) {
                    null !== t && e(t);
                });
            }),
            (e.exports = n);
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            e.cancelToken && e.cancelToken.throwIfRequested();
        }
        var a = r(17),
            i = r(538),
            o = r(201),
            s = r(202);
        e.exports = function (e) {
            n(e),
                (e.headers = e.headers || {}),
                (e.data = i(e.data, e.headers, e.transformRequest)),
                (e.headers = a.merge(
                    e.headers.common || {},
                    e.headers[e.method] || {},
                    e.headers
                )),
                a.forEach(
                    ["delete", "get", "head", "post", "put", "patch", "common"],
                    function (t) {
                        delete e.headers[t];
                    }
                );
            return (e.adapter || s.adapter)(e).then(
                function (t) {
                    return (
                        n(e),
                        (t.data = i(t.data, t.headers, e.transformResponse)),
                        t
                    );
                },
                function (t) {
                    return (
                        o(t) ||
                            (n(e),
                            t &&
                                t.response &&
                                (t.response.data = i(
                                    t.response.data,
                                    t.response.headers,
                                    e.transformResponse
                                ))),
                        Promise.reject(t)
                    );
                }
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17);
        e.exports = function (e, t, r) {
            return (
                n.forEach(r, function (r) {
                    e = r(e, t);
                }),
                e
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17);
        e.exports = function (e, t) {
            n.forEach(e, function (r, n) {
                n !== t &&
                    n.toUpperCase() === t.toUpperCase() &&
                    ((e[t] = r), delete e[n]);
            });
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(204);
        e.exports = function (e, t, r) {
            var a = r.config.validateStatus;
            r.status && a && !a(r.status)
                ? t(
                      n(
                          "Request failed with status code " + r.status,
                          r.config,
                          null,
                          r.request,
                          r
                      )
                  )
                : e(r);
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e, t, r, n, a) {
            return (
                (e.config = t),
                r && (e.code = r),
                (e.request = n),
                (e.response = a),
                (e.isAxiosError = !0),
                (e.toJSON = function () {
                    return {
                        message: this.message,
                        name: this.name,
                        description: this.description,
                        number: this.number,
                        fileName: this.fileName,
                        lineNumber: this.lineNumber,
                        columnNumber: this.columnNumber,
                        stack: this.stack,
                        config: this.config,
                        code: this.code,
                    };
                }),
                e
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17);
        e.exports = n.isStandardBrowserEnv()
            ? {
                  write: function (e, t, r, a, i, o) {
                      var s = [];
                      s.push(e + "=" + encodeURIComponent(t)),
                          n.isNumber(r) &&
                              s.push("expires=" + new Date(r).toGMTString()),
                          n.isString(a) && s.push("path=" + a),
                          n.isString(i) && s.push("domain=" + i),
                          !0 === o && s.push("secure"),
                          (document.cookie = s.join("; "));
                  },
                  read: function (e) {
                      var t = document.cookie.match(
                          new RegExp("(^|;\\s*)(" + e + ")=([^;]*)")
                      );
                      return t ? decodeURIComponent(t[3]) : null;
                  },
                  remove: function (e) {
                      this.write(e, "", Date.now() - 864e5);
                  },
              }
            : {
                  write: function () {},
                  read: function () {
                      return null;
                  },
                  remove: function () {},
              };
    },
    function (e, t, r) {
        "use strict";
        var n = r(544),
            a = r(545);
        e.exports = function (e, t) {
            return e && !n(t) ? a(e, t) : t;
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e) {
            return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e);
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e, t) {
            return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e;
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17),
            a = [
                "age",
                "authorization",
                "content-length",
                "content-type",
                "etag",
                "expires",
                "from",
                "host",
                "if-modified-since",
                "if-unmodified-since",
                "last-modified",
                "location",
                "max-forwards",
                "proxy-authorization",
                "referer",
                "retry-after",
                "user-agent",
            ];
        e.exports = function (e) {
            var t,
                r,
                i,
                o = {};
            return e
                ? (n.forEach(e.split("\n"), function (e) {
                      if (
                          ((i = e.indexOf(":")),
                          (t = n.trim(e.substr(0, i)).toLowerCase()),
                          (r = n.trim(e.substr(i + 1))),
                          t)
                      ) {
                          if (o[t] && a.indexOf(t) >= 0) return;
                          o[t] =
                              "set-cookie" === t
                                  ? (o[t] ? o[t] : []).concat([r])
                                  : o[t]
                                  ? o[t] + ", " + r
                                  : r;
                      }
                  }),
                  o)
                : o;
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(17);
        e.exports = n.isStandardBrowserEnv()
            ? (function () {
                  function e(e) {
                      var t = e;
                      return (
                          r && (a.setAttribute("href", t), (t = a.href)),
                          a.setAttribute("href", t),
                          {
                              href: a.href,
                              protocol: a.protocol
                                  ? a.protocol.replace(/:$/, "")
                                  : "",
                              host: a.host,
                              search: a.search
                                  ? a.search.replace(/^\?/, "")
                                  : "",
                              hash: a.hash ? a.hash.replace(/^#/, "") : "",
                              hostname: a.hostname,
                              port: a.port,
                              pathname:
                                  "/" === a.pathname.charAt(0)
                                      ? a.pathname
                                      : "/" + a.pathname,
                          }
                      );
                  }
                  var t,
                      r = /(msie|trident)/i.test(navigator.userAgent),
                      a = document.createElement("a");
                  return (
                      (t = e(window.location.href)),
                      function (r) {
                          var a = n.isString(r) ? e(r) : r;
                          return a.protocol === t.protocol && a.host === t.host;
                      }
                  );
              })()
            : function () {
                  return !0;
              };
    },
    function (e, t, r) {
        "use strict";
        function n(e) {
            if ("function" != typeof e)
                throw new TypeError("executor must be a function.");
            var t;
            this.promise = new Promise(function (e) {
                t = e;
            });
            var r = this;
            e(function (e) {
                r.reason || ((r.reason = new a(e)), t(r.reason));
            });
        }
        var a = r(206);
        (n.prototype.throwIfRequested = function () {
            if (this.reason) throw this.reason;
        }),
            (n.source = function () {
                var e;
                return {
                    token: new n(function (t) {
                        e = t;
                    }),
                    cancel: e,
                };
            }),
            (e.exports = n);
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e) {
            return function (t) {
                return e.apply(null, t);
            };
        };
    },
    function (e, t, r) {
        "use strict";
        e.exports = function (e) {
            return "object" == typeof e && !0 === e.isAxiosError;
        };
    },
    function (e, t, r) {
        "use strict";
        var n = { SHOP_PROFILE_BANNER_VIEW: "shop_profile.ruby_banner" };
        t.a = function (e, t) {
            if (e === n.SHOP_PROFILE_BANNER_VIEW) {
                var r = {},
                    a =
                        t &&
                        t.products &&
                        t.products.find &&
                        !!t.products.find(function (e) {
                            return e.offer;
                        }),
                    i = (t && t.coupons && t.coupons[0]) || void 0;
                if (
                    (Object.assign(r, { has_offers: a }),
                    i && Object.assign(r, { coupon: i }),
                    window.app &&
                        window.app.address &&
                        window.app.address.isComplete)
                ) {
                    var o =
                            window.app.address.latitude &&
                            Number(window.app.address.latitude),
                        s =
                            window.app.address.longitude &&
                            Number(window.app.address.longitude);
                    o && s && Object.assign(r, { latitude: o, longitude: s });
                }
                return r;
            }
            return null;
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(86);
        t.a = function (e) {
            var t = e.title,
                r = e.subtitle,
                n = e.badges;
            return a.a.createElement(
                "div",
                { className: "header-info ".concat(e.type) },
                a.a.createElement(
                    "div",
                    { className: "header-info__title" },
                    t
                ),
                a.a.createElement(
                    "div",
                    { className: "header-info__subtitle" },
                    r
                ),
                a.a.createElement(
                    "div",
                    { className: "header-info__badges" },
                    n &&
                        n.map(function (e, t) {
                            return a.a.createElement(i.a, {
                                key: t,
                                badge_type: "content__badge p-0",
                                icon: e.icon,
                                title: e.title,
                                font_color: e.font_color,
                                background_color: e.background_color,
                            });
                        })
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i);
        t.a = function (e) {
            var t = n(Object(i.useState)(null), 2),
                r = t[0],
                a = t[1],
                s = e.children;
            return (
                Object(i.useEffect)(function () {
                    e.ctx.replaceableInstance ||
                        (e.ctx.replaceableInstance = { set: {}, remove: {} }),
                        (e.ctx.replaceableInstance.set[e.uuid] = function (t) {
                            a(t),
                                (e.ctx.replaceableInstance.remove[
                                    t.props.uuid
                                ] = function () {
                                    a(null),
                                        delete e.ctx.replaceableInstance.remove[
                                            t.props.uuid
                                        ];
                                });
                        });
                }, []),
                o.a.createElement("div", { className: e.type }, r || s)
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n),
            i = r(555);
        t.a = function (e) {
            var t = e.ruby_count,
                r = e.ruby_cycle;
            return a.a.createElement(
                "div",
                { className: "my-0 mx-4 mx-sm-9" },
                a.a.createElement(
                    "ul",
                    {
                        className: "d-flex flex-wrap list-unstyled",
                        style: { flex: "0 0 auto", margin: "-16px 0 0 -20px" },
                    },
                    Array.from(Array(r).keys()).map(function (e) {
                        return a.a.createElement(
                            "li",
                            {
                                className: "d-flex ml-6 mt-5",
                                key: "ruby_count_".concat(e),
                            },
                            a.a.createElement(i.a, {
                                style: e < t ? "active" : "inactive",
                            })
                        );
                    })
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            var t =
                "active" === e.style ? "ruby-icon.svg" : "ruby-inactive.svg";
            return a.a.createElement("img", {
                src: "/site-assets/img/loyalty/".concat(t),
                width: "56",
                height: "56",
                alt: "Ruby",
                style: { minWidth: "56px" },
            });
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i),
            s = r(557),
            l = r(133),
            c = r(9);
        t.a = function (e) {
            var t = e.uuid,
                r = e.title,
                a = e.subtitle,
                u = e.description,
                d = e.logo_url,
                p = e.is_enabled,
                h = e.is_selected,
                f = e.coupon_code,
                m = e.onCouponChange,
                y = e.ctx,
                g = n(Object(i.useState)(h), 2),
                v = g[0],
                b = g[1],
                w = n(Object(i.useState)(!p), 2),
                _ = w[0],
                E = (w[1], n(Object(i.useState)(!1), 2)),
                S = E[0],
                C = E[1];
            return (
                Object(l.a)(c.default.RUBY_COUPON_OPTION_CLICKED, function (e) {
                    f != e.coupon_code
                        ? (b(!1), C(!e.selected))
                        : (b(!0), C(!0));
                }),
                o.a.createElement(
                    "div",
                    {
                        className: "d-flex my-0 mx-4 mx-sm-9 py-5 align-items-center loyalty-coupon ".concat(
                            e.type
                        ),
                        style: {
                            pointerEvents: _ || S ? "none" : "auto",
                            opacity: _ ? "0.6" : "1",
                        },
                        onClick: function () {
                            m({
                                closeDialog: y.closeDialog,
                                replaceableInstance: y.replaceableInstance,
                                mountElement: "#snackbar-mount-element",
                                delay: 1500,
                            }),
                                _ || b(!v);
                        },
                    },
                    o.a.createElement(
                        "div",
                        { className: "loyalty-coupon__image" },
                        o.a.createElement("img", {
                            width: "56",
                            height: "56",
                            className:
                                "d-inline-block rounded-circle ls-is-cached lazyload",
                            "data-src": d,
                        })
                    ),
                    o.a.createElement(
                        "div",
                        { className: "loyalty-coupon__content px-5" },
                        o.a.createElement(
                            "p",
                            { className: "content__title" },
                            r
                        ),
                        o.a.createElement(
                            "p",
                            { className: "content__subtitle" },
                            a
                        ),
                        o.a.createElement(
                            "p",
                            { className: "content__subtitle" },
                            u
                        )
                    ),
                    o.a.createElement(
                        "div",
                        {
                            className:
                                "loyalty-coupon__button d-flex justify-content-end",
                        },
                        o.a.createElement(s.a, {
                            id: t,
                            disabled: _,
                            checked: v,
                        })
                    )
                )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            var t = e.id,
                r = e.checked,
                n = e.defaultChecked,
                i = e.onChange,
                o = e.disabled;
            return void 0 !== r
                ? a.a.createElement(
                      "div",
                      { className: "checkbox-component" },
                      a.a.createElement("input", {
                          id: t,
                          disabled: o,
                          checked: r,
                          readOnly: !0,
                          type: "checkbox",
                      }),
                      a.a.createElement("label", { htmlFor: t })
                  )
                : a.a.createElement(
                      "div",
                      { className: "checkbox-component" },
                      a.a.createElement("input", {
                          id: t,
                          disabled: o,
                          checked: n,
                          onChange: function (e) {
                              i && i(e.target.checked);
                          },
                          type: "checkbox",
                      }),
                      a.a.createElement("label", { htmlFor: t })
                  );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            return a.a.createElement(
                "div",
                {
                    className: "re-dialog-alert alert alert-".concat(
                        e.severity || "success"
                    ),
                    role: "alert",
                },
                e.title
            );
        };
    },
    function (e, t, r) {
        "use strict";
        var n = r(1),
            a = r.n(n);
        t.a = function (e) {
            var t = e.title,
                r = e.cover,
                n = e.points,
                i = e.points_tint_color;
            return a.a.createElement(
                "div",
                {
                    className:
                        "banner-gamification d-flex align-items-center justify-content-between m-3",
                    style: {
                        backgroundImage: "url(".concat(r, ")"),
                        backgroundSize: "cover",
                    },
                    onClick: e.onClick,
                },
                a.a.createElement(
                    "span",
                    {
                        className:
                            "banner-gamification__title my-auto pl-3 text-muted",
                    },
                    t
                ),
                n &&
                    i &&
                    a.a.createElement(
                        "div",
                        {
                            className:
                                "banner-gamification__points badge ml-auto my-auto flex-shrink-0 pr-3 mr-3",
                            style: { color: i },
                        },
                        a.a.createElement("i", {
                            className: "fas fa-star small align-middle",
                            "aria-hidden": "true",
                        }),
                        a.a.createElement(
                            "span",
                            { className: "small font-weight-bold" },
                            n
                        )
                    )
            );
        };
    },
    function (e, t, r) {
        "use strict";
        function n(e, t) {
            return (
                (function (e) {
                    if (Array.isArray(e)) return e;
                })(e) ||
                (function (e, t) {
                    if (
                        "undefined" == typeof Symbol ||
                        !(Symbol.iterator in Object(e))
                    )
                        return;
                    var r = [],
                        n = !0,
                        a = !1,
                        i = void 0;
                    try {
                        for (
                            var o, s = e[Symbol.iterator]();
                            !(n = (o = s.next()).done) &&
                            (r.push(o.value), !t || r.length !== t);
                            n = !0
                        );
                    } catch (e) {
                        (a = !0), (i = e);
                    } finally {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (a) throw i;
                        }
                    }
                    return r;
                })(e, t) ||
                (function (e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return a(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === r && e.constructor && (r = e.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(e);
                    if (
                        "Arguments" === r ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    )
                        return a(e, t);
                })(e, t) ||
                (function () {
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                    );
                })()
            );
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
        }
        var i = r(1),
            o = r.n(i);
        t.a = function (e) {
            var t = n(Object(i.useState)(null), 2),
                r = t[0],
                a = t[1],
                s = e.children;
            return (
                (e.ctx.setReplaceableInstance = a),
                o.a.createElement("div", { className: e.type }, r || s)
            );
        };
    },
]);
